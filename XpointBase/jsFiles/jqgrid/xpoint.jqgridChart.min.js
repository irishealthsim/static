function guidGenerator(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"_"+n()+"_"+n()+"_"+n()+"_"+n()+n()+n()}(function(n){n.fn.zoomJQPlot=function(t){var i={};return i.chartData=t.chartData,i.title=t.title,i.plot=null,i.chartSettings=n.extend(!0,{},t.chartSettings),this.each(function(){n(".zoomedJqPlot").remove();var t="zoomedJqPlot"+guidGenerator(),r=n("<div  class='zoomedJqPlot' title='"+i.title+"'/>").appendTo("body").append("<div id='"+t+"' style='width:95%;height:100%'/>").dialog({height:600,width:800,modal:!0,show:"blind",hide:"drop",open:function(){i.plot=n.jqplot(t,i.chartData,i.chartSettings)},beforeClose:function(){i.plot&&(i.plot.destroy(),r.empty())}})})};n.xpointChart=n.xpointChart||{};n.fn.xpointChart=function(t){if(n.jqplot.config.enablePlugins=!0,this&&this.length!==0){if("string"==typeof t&&n.xpointChart.methods[t]){var i=n.extend(this.get(0).options,n.makeArray(arguments).slice(1)[0]);return n.xpointChart.methods[t].apply(this,n.makeArray(i))}return this.each(function(){this.options=n.extend(n.xpointChart.defaults,t)})}};n.xpointChart={defaults:{data:[],chartModel:[]},chartSettings:{heightOffset:-8,legend:{show:!0,location:"e",placement:"outsideGrid",renderer:n.jqplot.EnhancedLegendRenderer,formatter:function(t){if(n.trim(t).length>12){var i=t.substring(0,10)+"..";return"<span class='tipHover' title='"+t+"'>"+i+"<\/span>"}return t}},highlighter:{show:!0,tooltipAxes:"y",formatString:'<table class="jqplot-highlighter"><tr><td style="font-size:12px">%s %d<\/td><\/tr> <\/table>'},grid:{background:"#FFFFFF",borderColor:"#efefef",borderWidth:1,drawGridLines:!1,shadow:!0,gridLineColor:"#cfcfcf"},axes:{xaxis:{renderer:n.jqplot.CategoryAxisRenderer,tickOptions:{mark:"outside",fontFamily:" Arial,Helvetica,sans-serif",fontSize:"8pt",showGridline:!1,formatter:function(t,i){if(n.trim(i).length>8){var r=i.substring(0,6)+"..";return"<span class='tipHover' title='"+i+"'>"+r+"<\/span>"}return i}}},yaxis:{min:0,autoscale:!0,labelRenderer:n.jqplot.CanvasAxisLabelRenderer,tickRenderer:n.jqplot.CanvasAxisTickRenderer,tickOptions:{formatString:"%d",fontFamily:" Arial,Helvetica,sans-serif",fontSize:"8pt"}}},series:[]},chartTypes:{},formulaTypes:{},addChartType:function(t,i){n.xpointChart.chartTypes[t]=i},addFormulaType:function(t,i){n.xpointChart.formulaTypes[t]=i},methods:{topN:function(t){function r(n,t,i){if(typeof n=="object"&&n.length&&typeof t=="object"&&t.length){var r=n[i.multiSortByIndex]?n[i.multiSortByIndex]:0,u=t[i.multiSortByIndex]?t[i.multiSortByIndex]:0;return r-u}return n-t}var i=this,t=n.extend({needSort:!0,numberSort:!0,topN:5,multiSortByIndex:1},t);return n(i).each(function(n){var u=i[n];u&&typeof u=="object"&&u.length&&t&&(t.needSort&&(u=t.numberSort===!0?u.sort(function(n,i){return r(n,i,t)}):u.sort()),u=u.reverse(),u.length>t.topN&&(i[n]=u.splice(0,t.topN)))}),i},jQSearch:function(n){for(idx in this){var t=this[idx];if(typeof t=="object"&&t.length>0&&t[0]&&t[0]==n)return idx}return-1},prepareConfigNDraw:function(t){n(t.chartModel).each(function(){var t=this;t.chartSettings=n.extend(!0,{},n.xpointChart.chartSettings);t.chartData=[];t.zoomEvents=[];t&&(n(t.series).each(function(){var r=this,i=n.xpointChart.chartTypes[r.chartType];i.settings.apply(r,n.makeArray(t));i.zoomSettings&&n.isFunction(i.zoomSettings)&&t.zoomEvents.push(i.zoomSettings)}),n.xpointChart.methods.draw(t))})},afterDataAdded:function(t){var u,i,r;t&&(t.topN&&(t.chartData=n.xpointChart.methods.topN.apply(t.chartData,n.makeArray({topN:t.topN}))),u=t.needAutoScale!=null?t.needAutoScale:!0,t.series.length==1&&u==!0&&(i=t.series[0],t.chartSettings.legend=null,t.chartSettings.axes.yaxis.autoscale=!1,i.data.length==1&&(r=i.data[0],r&&r[1]==0&&(t.chartSettings.axes.yaxis.max=1))))},prepareZoomSettings:function(t){var i=n.extend(!0,{},t.chartSettings);return i.legend.show===!0&&(i.legend.fontSize="10pt",i.legend.placement="outsideGrid",i.legend.formatter=null),i.heightOffset=null,t.zoomEvents&&n(t.zoomEvents).each(function(){var t=this;t&&n.isFunction(t)&&(i=t(i))}),i},draw:function(t){var i,r;if(n.xpointChart.methods.afterDataAdded(t),i=n("#"+t.chartId),t.hasData===!0){r=t.chartSettings;t.chartData[0].sort(function(n,t){return n[0]<t[0]?-1:n[0]>t[0]?1:0});var u=n.jqplot(t.chartId,t.chartData,r),f=n("<div class=' xp-IconZoomChart xp-Icon Tip-ACZoomChart ' href='#' style='cursor:pointer;'><\/div>").click(function(){t.chartSettings=r;i.zoomJQPlot({chartData:t.chartData,chartSettings:n.xpointChart.methods.prepareZoomSettings(t),title:t.chartHeading})}),e=n(i.parents(".singleXpointChartContainer").get(0));return n(".xpointChartZoom",e).empty().append(f),n(".tipHover").tipTip(),u}return i.empty().append("No data to plot!"),null},reDraw:function(t){if(t){var i=n(this);i.get(0).options&&(t=n.extend(i.options,t));n(t.chartModel).each(function(){var i=this,f,u,r;i.chartData=[];i&&(f=n("#"+i.chartId),u=i.needAutoScale!=null?i.needAutoScale:!0,u==!0&&(i.chartSettings.axes.yaxis.autoscale=!0,i.chartSettings.axes.yaxis.max=null),n.xpointChart.methods.processData(t),n(i.series).each(function(){var n=this;n&&i.chartData.push(n.data)}),r=n.xpointChart.methods.draw(i),r&&r.replot())})}},prepareCharts:function(t){var i=n(this);i.width("100%");n(t.chartModel).each(function(){var t=this,f;if(t){var r=n("<div style='margin:4px 14px 25px 14px;' class='singleXpointChartContainer xp-OuterPanel xp-Overflowhidden '/>").appendTo(i),e=n("<div class='xpointChartHeader' />").append("<div class='xp-DivHeader' style='float:left;width:85%'>"+t.chartHeading+"<\/div>").append("<div style=';text-align:right' class='xpointChartZoom xp-FloatRight ui-corner-all  ui-state-default xp-Padding-4'/>").appendTo(r),u="chart_"+guidGenerator();t.chartId=u;f=n("<div  id='"+u+"' style='width:100%;height:280px;float:left'/>");r.xpointbox({containterWidth:"50%",headerContainer:e,contentContainer:f,containerStyle:"singleXpointChartContainer xp-FloatLeft",contentStyle:"xp-MainContent  xp-FloatLeft",headerStyle:" xpointChart ui-state-default xp-BottomBorder xp-NoBackground xp-FloatLeft xp-Overflowhidden xp-Height-30"})}})},processData:function(t){var r,i;if(t.data.length==0)return n(t.chartModel).each(function(i){var r=t.chartModel[i];r.hasData=!1;r&&n(r.series).each(function(){var n=this;n.data=[]})}),!1;r=-1;for(rowKey in t.data)i=t.data[rowKey],i&&(r++,n(t.chartModel).each(function(u){var f=t.chartModel[u];f&&n(f.series).each(function(){var t=this,u;t&&(r===0&&(f.hasData=!1,t.data=[]),u=n.trim(i[t.xAxis]).length>0?i[t.xAxis].split(","):"NA",n(u).each(function(r){var e=u[r],h,o,s,c;n.trim(e).length>0&&(e=n("<div />").append(e).text());h=n.trim(i[t.yAxis]).length>0?i[t.yAxis]:0;o=n.xpointChart.methods.jQSearch.apply(t.data,n.makeArray(e));o==-1&&(s=[],s.push(e),s.push(0),t.data.push(s),f.hasData=!0,o=t.data.length-1);c={idx:o,xvalue:e,yvalue:h};n.xpointChart.formulaTypes[t.formula].apply(t,n.makeArray(c))}))})}));return t},init:function(t){return this.each(function(){var i=this,u=n(i),r;this.options&&(t=n.extend(this.options,t));this.chartsApplied&&this.chartsApplied===!0&&u.empty();this.chartsApplied=!0;t.data&&t.data.length>0?(r=n.makeArray(t),n.xpointChart.methods.prepareCharts.apply(i,r),n.xpointChart.methods.processData.apply(i,r),n.xpointChart.methods.prepareConfigNDraw.apply(i,r)):u.append("No data to prepare charts. Create new lifecycle item today.")})}}};n.xpointChart.addFormulaType("sum",function(n){var t=this;t&&(t.data[n.idx][1]=parseFloat(t.data[n.idx][1])+parseFloat(n.yvalue))});n.xpointChart.addFormulaType("count",function(n){var t=this;t&&(t.data[n.idx][1]=parseFloat(t.data[n.idx][1])+1)});n.xpointChart.addChartType("bar",{zoomSettings:function(t){return t.axes.xaxis.labelRenderer=n.jqplot.CanvasAxisLabelRenderer,t.axes.xaxis.tickRenderer=n.jqplot.CanvasAxisTickRenderer,t.axes.xaxis.tickOptions.angle=30,t.axes.xaxis.tickOptions.formatter=function(n,t){return t},t},settings:function(t){var i=this,r;i&&(r=i.extraSeriesSettings?i.extraSeriesSettings:{},r=n.extend({label:i.label,renderer:n.jqplot.BarRenderer},r),t.chartSettings.series.push(r),t.chartData.push(i.data),i.extraChartSettings&&(t.chartSettings=n.extend(t.chartSettings,i.extraChartSettings)))}});n.xpointChart.addChartType("ohlc",{zoomSettings:function(t){return t.axes.xaxis.labelRenderer=n.jqplot.CanvasAxisLabelRenderer,t.axes.xaxis.tickRenderer=n.jqplot.CanvasAxisTickRenderer,t.axes.xaxis.tickOptions.angle=30,t.axes.xaxis.tickOptions.formatter=function(n,t){return t},t},settings:function(t){var i=this,r;i&&(r=i.extraSeriesSettings?i.extraSettings:{},r=n.extend({label:i.label,renderer:n.jqplot.OHLCRenderer,rendererOptions:{barPadding:6,barMargin:20}},r),t.chartSettings.series.push(r),t.chartData.push(i.data),i.extraChartSettings&&(t.chartSettings=n.extend(t.chartSettings,i.extraChartSettings)))}});n.xpointChart.addChartType("line",{zoomSettings:function(t){return t.axes.xaxis.labelRenderer=n.jqplot.CanvasAxisLabelRenderer,t.axes.xaxis.tickRenderer=n.jqplot.CanvasAxisTickRenderer,t.axes.xaxis.tickOptions.angle=30,t.axes.xaxis.tickOptions.formatter=function(n,t){return t},t},settings:function(t){var i=this,r;i&&(r=i.extraSeriesSettings?i.extraSettings:{},r=n.extend({label:i.label,renderer:n.jqplot.LineRenderer},r),t.chartSettings.series.push(r),t.chartData.push(i.data),i.extraChartSettings&&(t.chartSettings=n.extend(t.chartSettings,i.extraChartSettings)))}});n.xpointChart.addChartType("pie",{settings:function(t){var i=this,r,u;i&&(r=i.extraSeriesSettings?i.extraSeriesSettings:{},u={},n.extend(r,{label:i.label,renderer:jQuery.jqplot.PieRenderer}),n.extend(u,{highlighter:{show:!1},seriesDefaults:{renderer:jQuery.jqplot.PieRenderer,rendererOptions:{showDataLabels:!0,dataLabelPositionFactor:1.05,dataLabelThreshold:0}},legend:{show:!0,placement:"outsideGrid",renderer:n.jqplot.EnhancedLegendRenderer,formatter:function(t){if(n.trim(t).length>12){var i=t.substring(0,10)+"..";return"<span class='tipHover' title='"+t+"'>"+i+"<\/span>"}return t},location:"e"}}),t.series.length>1&&(n.extend(r,{label:i.label,renderer:jQuery.jqplot.DonutRenderer}),u.seriesDefaults={renderer:n.jqplot.DonutRenderer,rendererOptions:{sliceMargin:3,startAngle:-90,showDataLabels:!0,dataLabels:"value"}}),t.chartSettings.series.push(r),t.chartData.push(i.data),t.chartSettings=u,t.needAutoScale=!1)}})})($);
/*
//# sourceMappingURL=xpoint.jqgridChart.min.js.map
*/
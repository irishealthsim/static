(function(n){var t=null;n.fn.extend({searchGrid:function(t){return t=n.extend({recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,closeAfterSearch:!1,closeOnEscape:!1,multipleSearch:!1,sopt:null,onClose:null},n.jgrid.search,t||{}),this.each(function(){function y(r){var o=r!==undefined,e=jQuery("#"+u.p.id),f=[];t.multipleSearch===!1?(f[t.sField]=r.rules[0].field,f[t.sValue]=r.rules[0].data,f[t.sOper]=r.rules[0].op):f[t.sFilter]=r;e[0].p.search=o;n.extend(e[0].p.postData,f);e[0].p.page=1;e.trigger("reloadGrid");t.closeAfterSearch&&c(n("#"+i))}function p(i){var e=i!==undefined,f=jQuery("#"+u.p.id),r=[];f[0].p.search=e;t.multipleSearch===!1?r[t.sField]=r[t.sValue]=r[t.sOper]="":r[t.sFilter]="";n.extend(f[0].p.postData,r);f[0].p.page=1;f.trigger("reloadGrid")}function c(i){if(t.onClose){var r=t.onClose(i);if(typeof r=="boolean"&&!r)return}i.hide();n(".jqgrid-overlay","#gbox_"+u.p.id).hide()}function l(){n("#"+i).show();n(".jqgrid-overlay","#gbox_"+u.p.id).show();try{n(":input:visible","#"+i)[0].focus()}catch(t){}}var u=this,i,o;if(u.grid&&n.fn.searchFilter)if(i="fbox_"+u.p.id,t.recreateFilter===!0&&n("#"+i).remove(),n("#"+i).html()!=null)n.isFunction(t.beforeShowSearch)&&t.beforeShowSearch(n("#"+i)),l(),n.isFunction(t.afterShowSearch)&&t.afterShowSearch(n("#"+i));else{var s=[],a=jQuery("#"+u.p.id).getGridParam("colNames"),v=jQuery("#"+u.p.id).getGridParam("colModel"),h=["eq","ne","lt","le","gt","ge","bw","bn","in","ni","ew","en","cn","nc"],r,e,f;if(n.each(v,function(i,u){var p=typeof u.search=="undefined"?!0:u.search,w=u.hidden===!0,o=n.extend({},{text:a[i],value:u.index||u.name},this.searchoptions),b=o.searchhidden===!0||!0,c,l,v,y;for(typeof o.sopt=="undefined"&&(o.sopt=h),f=0,o.ops=[],r=0;r<o.sopt.length;r++)(e=n.inArray(o.sopt[r],h))!=-1&&(o.ops[f]={op:o.sopt[r],text:t.odata[e]},f++);if(typeof this.stype=="undefined"&&(this.stype="text"),this.stype=="select"&&o.dataUrl==null&&this.editoptions&&(c=this.editoptions.value,c))if(o.dataValues=[],typeof c=="string")for(l=c.split(";"),r=0;r<l.length;r++)v=l[r].split(":"),o.dataValues[r]={value:v[0],text:v[1]};else if(typeof c=="object"){r=0;for(y in c)o.dataValues[r]={value:y,text:c[y]},r++}(b&&p||p&&!w)&&s.push(o)}),s.length>0){if(o=jQuery.fn.searchFilter.defaults.operators,t.sopt!=null)for(o=[],f=0,r=0;t.sopt.length<0;r++)(e=n.inArray(t.sopt[r],h))!=-1&&(o[f]={op:t.sopt[r],text:t.odata[e]},f++);if(n("<div id='"+i+"' role='dialog' tabindex='-1'><\/div>").insertBefore("#gview_"+u.p.id),jQuery("#"+i).searchFilter(s,{groupOps:t.groupOps,operators:o,onClose:c,resetText:t.Reset,searchText:t.Find,windowTitle:t.caption,rulesText:t.rulesText,matchText:t.matchText,onSearch:y,onReset:p,stringResult:t.multipleSearch}),n(".ui-widget-overlay","#"+i).remove(),t.drag===!0)if(n("#"+i+" table thead tr:first td:first").css("cursor","move"),jQuery.fn.jqDrag)jQuery("#"+i).jqDrag(n("#"+i+" table thead tr:first td:first"));else try{n("#"+i).draggable({handle:jQuery("#"+i+" table thead tr:first td:first")})}catch(w){}if(t.multipleSearch===!1&&(n(".ui-del, .ui-add, .ui-del, .ui-add-last, .matchText, .rulesText","#"+i).hide(),n("select[name='groupOp']","#"+i).hide()),n.isFunction(t.onInitializeSearch))t.onInitializeSearch(n("#"+i));n.isFunction(t.beforeShowSearch)&&t.beforeShowSearch(n("#"+i));l();n.isFunction(t.afterShowSearch)&&t.afterShowSearch(n("#"+i));t.closeOnEscape===!0&&jQuery("#"+i).keydown(function(t){t.which==27&&c(n("#"+i))})}}})},editGridRow:function(r,u){return u=n.extend({top:0,z:9999,left:0,width:"500",height:"auto",dataheight:"auto",modal:!0,drag:!1,resize:!0,funcAlt:!1,LifecycleDetails:[],projectTitle:"",projectDescription:"",trackerID:"",serviceName:"",contentType:"",xbarChart:"false",url:null,mtype:"POST",closeAfterAdd:!0,closeAfterEdit:!0,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!0,jqModal:!1,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},onClose:null},n.jgrid.edit,u||{}),t=u,this.each(function(){function vt(t,i){t==0?n("#pData","#"+o+"_2").addClass("ui-state-disabled"):n("#pData","#"+o+"_2").removeClass("ui-state-disabled");t==i?n("#nData","#"+o+"_2").addClass("ui-state-disabled"):n("#nData","#"+o+"_2").removeClass("ui-state-disabled")}function yt(){var t=n(e).getDataIDs(),i=n("#id_g","#"+o).val(),r=n.inArray(i,t);return[r,t]}function a(){var i=!0;return n("#FormError","#"+o).hide(),t.checkOnUpdate&&(f={},l={},gt(),nt=n.extend({},f,l),tt=ni(nt,t._savedData),tt&&(n("#"+s).data("disabled",!0),n(".confirm","#"+h.themodal).show(),i=!1)),i}function gt(){return n(".FormElement","#"+o).each(function(){var i,r,t,u;switch(n(this).get(0).type){case"checkbox":n(this).attr("checked")?f[this.name]=n(this).val():(i=n(this).attr("offval"),f[this.name]=i,l[this.name]=i);break;case"select-one":f[this.name]=n("option:selected",this).val();l[this.name]=n("option:selected",this).text();break;case"select-multiple":f[this.name]=n(this).val();f[this.name]=f[this.name]?f[this.name].join(","):"";r=[];n("option:selected",this).each(function(t,i){r[t]=n(i).text()});l[this.name]=r.join(",");break;case"textarea":t=this;u=this.name;n.each(e.p.colModel,function(i){var r=e.p.colModel[i];if(r.name==u&&r.edittype=="richtextbox")return n(t).SaveRichtextbox(),!1});f[t.name]=n.jgrid.htmlEncode(n(t).val());break;case"password":case"text":case"button":f[this.name]=n(this).val();f[this.name]=e.p.autoencode?n.jgrid.htmlEncode(f[this.name]):f[this.name]}}),!0}function ti(i,r,f,o){for(var b,s,a,c,v=0,h,k,y,d=[],l=!1,p,w,g="",nt=1;nt<=o;nt++)g+="<td class='CaptionTD ui-widget-content'>&nbsp;<\/td><td class='DataTD ui-widget-content' style='white-space:pre'><\/td>";return i!="_empty"&&(l=n(r).getInd(i)),n(r.p.colModel).each(function(b){var nt,it,tt;if(s=this.name,a=this.editrules&&this.editrules.edithidden==!0?!1:this.hidden===!0?!0:!1,a==!1&&l!==!1&&this.editrules&&this.editrules.addonly==!0&&(a=!0),k=a?"style='display:none'":"",s!=="cb"&&s!=="subgrid"&&this.editable===!0&&s!=="rn"){if(l===!1)h="";else if(s==r.p.ExpandColumn&&r.p.treeGrid===!0)h=n("td:eq("+b+")",r.rows[l]).text();else try{h=n.unformat(n("td:eq("+b+")",r.rows[l]),{colModel:this},b,!1,r.rows[l].id)}catch(rt){h=n("td:eq("+b+")",r.rows[l]).html()}nt=n.extend({},this.editoptions||{},{id:s+r.id,name:s,imageEnabled:e.p.isImageEnabled=="False"?!1:!0});frmopt=n.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{});p=parseInt(frmopt.rowpos)||v+1;w=parseInt((parseInt(frmopt.colpos)||1)*2);i=="_empty"&&nt.defaultValue&&(h=n.isFunction(nt.defaultValue)?nt.defaultValue():nt.defaultValue);this.edittype||(this.edittype="text");y=createEl(this.edittype,nt,h);it=y;this.edittype=="richtextbox"&&(u.onClose=function(t){n(t).RemoveRichText()});h==""&&this.edittype=="checkbox"&&(h=n(y).attr("offval"));(t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData[s]=h);n(y).addClass("FormElement");c=n(f).find("tr[rowpos="+p+"]");frmopt.rowabove&&(tt=n("<tr><td class='contentinfo' colspan='"+o*2+"'>"+frmopt.rowcontent+"<\/td><\/tr>"),n(f).append(tt),tt[0].rp=p);c.length==0&&(c=n("<tr "+k+" rowpos='"+p+"'><\/tr>").addClass("FormData").attr("id","tr_"+s),n(c).append(g),n(f).append(c),c[0].rp=p);n("td:eq("+(w-2)+")",c[0]).html(typeof frmopt.label=="undefined"?r.p.colNames[b]:frmopt.label).append("<span style='color:red'>"+frmopt.elmsuffix+"<\/span>");n("td:eq("+(w-1)+")",c[0]).append(frmopt.elmprefix).append(y);d[v]=b;v++}}),v>0&&(b=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(o*2-1)+"' class='DataTD'><input autocomplete='off' class='FormElement' id='id_g' type='text' name='id' value='"+i+"'/><\/td><\/tr>"),b[0].rp=v+999,n(f).append(b),(t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData.id=i)),d}function b(i,r,u){var e,y,p=0,f,s,l,c,a,h,v;if((t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData={},t._savedData.id=i),h=r.p.colModel,i=="_empty"){n(h).each(function(){e=this.name.replace(".","\\.");l=n.extend({},this.editoptions||{});s=n("#"+e,"#"+u);s[0]!=null&&(c="",l.defaultValue?(c=n.isFunction(l.defaultValue)?l.defaultValue():l.defaultValue,s[0].type=="checkbox"?(a=c.toLowerCase(),a.search(/(false|0|no|off|undefined)/i)<0&&a!==""?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=c):s.attr({checked:"",defaultChecked:""})):s.val(c)):s[0].type=="checkbox"?(s[0].checked=!1,s[0].defaultChecked=!1,c=n(s).attr("offval")):s[0].type.substr(0,6)=="select"?s[0].selectedIndex=0:s.val(c),(t.checkOnSubmit===!0||t.checkOnUpdate)&&(t._savedData[e]=c))});n("#id_g","#"+u).val("_empty");return}(v=n(r).getInd(i,!0),v)&&(n("td",v).each(function(i){if(e=h[i].name.replace(".","\\."),y=h[i].editrules&&h[i].editrules.edithidden===!0?!1:h[i].hidden===!0?!0:!1,e!=="cb"&&e!=="subgrid"&&h[i].editable===!0){if(e==r.p.ExpandColumn&&r.p.treeGrid===!0)f=n(this).text();else try{f=n.unformat(this,{colModel:h[i]},i)}catch(o){f=n(this).html()}(t.checkOnSubmit===!0||t.checkOnUpdate)&&(t._savedData[e]=f);switch(h[i].edittype){case"password":case"text":case"button":case"image":f=n.jgrid.htmlDecode(f);n("#"+e,"#"+u).val(f);break;case"textarea":(f=="&nbsp;"||f=="&#160;"||f.length==1&&f.charCodeAt(0)==160)&&(f="");n("#"+e,"#"+u).val(f);break;case"select":n("#"+e+" option","#"+u).each(function(){this.selected=h[i].editoptions.multiple||f!=n(this).text()&&f!=n(this).val()?h[i].editoptions.multiple?n.inArray(n(this).text(),f.split(","))>-1||n.inArray(n(this).val(),f.split(","))>-1?!0:!1:!1:!0});break;case"checkbox":f=f.toLowerCase();f.search(/(false|0|no|off|undefined)/i)<0&&f!==""?(n("#"+e,"#"+u).attr("checked",!0),n("#"+e,"#"+u).attr("defaultChecked",!0)):(n("#"+e,"#"+u).attr("checked",!1),n("#"+e,"#"+u).attr("defaultChecked",""))}p++}}),p>0&&n("#id_g","#"+o).val(i))}function et(){var nt,a,w,y,tt,p,k,d;n("#editcnt"+c).append("<div id='relayAjaxLoading'><div class='xp-Width xp-TextAlignCenter xp-Height100 xp-relayAjaxLoader'><img src='/_layouts/Images/XPointBase/xp-loader.gif'style='z-index:999999999;text-align:center;'/><\/div><\/div>");var v,r=[!0,"",""],it={},g=!1;for(nt in f)if(r=checkValues(n.trim(f[nt]),nt,e),r[0]==!1){n("#relayAjaxLoading").remove();break}if(r[0]&&(n.isFunction(t.onclickSubmit)&&(it=t.onclickSubmit(t)||{}),n.isFunction(t.beforeSubmit)&&(r=t.beforeSubmit(f,n("#"+s)))),g=e.p.datatype=="local"?!0:!1,!g&&(st=t.url?t.url:e.p.editurl,r[0]&&(st||(r[0]=!1,r[1]+=" "+n.jgrid.errors.nourl)),r[0]===!1)){n("#relayAjaxLoading").remove();n("#FormError>td","#"+o).html(r[1]);n("#FormError","#"+o).show();try{n(n("#FormError","#"+o).parents().get(1)).focus()}catch(rt){}return}if(!u.processing){u.processing=!0;n("#sData","#"+o+"_2").addClass("ui-state-active");f=n.extend(f,t.editData,it);a=0;for(i in f)a=a+1;w=new Array(a-2);y=new Array(a-2);a=0;for(i in f){if(y[a]=i,w[a]=f[i],a==y.length)break;a++}if(gpost={},gpost.id=f.id=="_empty"?"new":f.id,gpost.cells=w,gpost.fields=y,gpost.mid=e.p.mid,gpost.listname=e.p.listname,gpost.extraEditParams=e.p.extraEditParams,g){p=[];n.each(y,function(n){p[y[n]]=w[n]});gpost.id=="new"?(k=n(e).getDataIDs(),d=1,k.length>0&&(d=k[k.length-1],d++),p.opstatus="new",tt=n(e).addRowData(d,p)==!0?"success":"failure"):(p.opstatus="edited",tt=n(e).setRowData(gpost.id,p)==!0?"success":"failure");tt!="success"?(r[0]=!1,r[1]="Operation not successful"):n.isFunction(t.afterSubmit)&&(r=t.afterSubmit(data,f));r[0]===!1?(n("#FormError>td","#"+o).html(r[1]),n("#FormError","#"+o).show()):(f=n.extend(f,l),f.id=="_empty"?(r[2]||(r[2]=parseInt(e.p.records)+1),f.id=r[2],t.closeAfterAdd?(t.reloadAfterSubmit?n(e).trigger("reloadGrid"):(n(e).addRowData(r[2],f,u.addedrow),n(e).setSelection(r[2])),hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose})):t.clearAfterAdd?(t.reloadAfterSubmit?n(e).trigger("reloadGrid"):n(e).addRowData(r[2],f,u.addedrow),b("_empty",e,s)):t.reloadAfterSubmit?n(e).trigger("reloadGrid"):n(e).addRowData(r[2],f,u.addedrow)):(t.reloadAfterSubmit?(n(e).trigger("reloadGrid"),t.closeAfterEdit||n(e).setSelection(f.id)):e.p.treeGrid===!0?n(e).setTreeRow(f.id,f):n(e).setRowData(f.id,f),t.closeAfterEdit&&hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose})),n.isFunction(t.afterComplete)&&(v=data,setTimeout(function(){t.afterComplete(v,f,n("#"+s));v=null},500)));u.processing=!1;(t.checkOnSubmit||t.checkOnUpdate)&&(n("#"+s).data("disabled",!1),t._savedData.id!="_empty"&&(t._savedData=f));n("#sData","#"+o+"_2").removeClass("ui-state-active");try{n(":input:visible","#"+s)[0].focus()}catch(ut){}}else n.ajax({url:st,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:n.toJSON(gpost),complete:function(i,a){if(a!="success")r[0]=!1,r[1]=a+" Status: "+i.statusText+" Error code: "+i.status;else{var y=n.evalJSON(i.responseText).d;y.toLowerCase()!="success"&&(r[0]=!1,r[1]="Error: "+y);n.isFunction(t.afterSubmit)&&(r=t.afterSubmit(i,f))}r[0]===!1?(n("#relayAjaxLoading").remove(),n("#FormError>td","#"+o).html(r[1]),n("#FormError","#"+o).show()):(f=n.extend(f,l),f.id=="_empty"?(r[2]||(r[2]=parseInt(e.p.records)+1),f.id=r[2],t.closeAfterAdd?(t.reloadAfterSubmit?n(e).trigger("reloadGrid"):(n(e).addRowData(r[2],f,u.addedrow),n(e).setSelection(r[2])),hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose})):t.clearAfterAdd?(t.reloadAfterSubmit?n(e).trigger("reloadGrid"):n(e).addRowData(r[2],f,u.addedrow),b("_empty",e,s)):t.reloadAfterSubmit?n(e).trigger("reloadGrid"):n(e).addRowData(r[2],f,u.addedrow)):(t.reloadAfterSubmit?(n(e).trigger("reloadGrid"),t.closeAfterEdit||n(e).setSelection(f.id)):e.p.treeGrid===!0?n(e).setTreeRow(f.id,f):n(e).setRowData(f.id,f),t.closeAfterEdit&&hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose})),n.isFunction(t.afterComplete)&&(v=i,setTimeout(function(){t.afterComplete(v,f,n("#"+s));v=null},500)));u.processing=!1;(t.checkOnSubmit||t.checkOnUpdate)&&(n("#"+s).data("disabled",!1),t._savedData.id!="_empty"&&(t._savedData=f));n("#sData","#"+o+"_2").removeClass("ui-state-active");try{n(":input:visible","#"+s)[0].focus()}catch(p){}},error:function(t,i,r){n("#FormError>td","#"+o).html(i+" : "+r);n("#FormError","#"+o).show();u.processing=!1;n("#"+s).data("disabled",!1);n("#sData","#"+o+"_2").removeClass("ui-state-active")}})}}function ni(n,t){var i=!1;for(var r in n)if(n[r]!=t[r]){i=!0;break}return i}var e=this,v,rt,lt,ut,dt,ft,at;if(e.grid&&r){var c=e.p.id,s="FrmGrid_"+c,o="TblGrid_"+c,h={themodal:"editmod"+c,modalhead:"edithd"+c,modalcontent:"editcnt"+c,scrollelm:s},k=n.isFunction(t.beforeShowForm)?t.beforeShowForm:!1,d=n.isFunction(t.afterShowForm)?t.afterShowForm:!1,g=n.isFunction(t.beforeInitData)?t.beforeInitData:!1,pt=n.isFunction(t.onInitializeForm)?t.onInitializeForm:!1,w=1,ot=0,st,f,l,nt,tt;if(r=="new"?(r="_empty",u.caption=u.addCaption):u.caption=u.editCaption,u.recreateForm===!0&&n("#"+h.themodal).html()!=null&&n("#"+h.themodal).remove(),v=!0,u.checkOnUpdate&&u.jqModal&&!u.modal&&(v=!1),n("#"+h.themodal).html()!=null)n(".ui-jqdialog-title","#"+h.modalhead).html(u.caption),n("#FormError","#"+o).hide(),g&&g(n("#"+s)),b(r,e,s),r=="_empty"?n("#pData, #nData","#"+o+"_2").hide():n("#pData, #nData","#"+o+"_2").show(),u.processing===!0&&(u.processing=!1,n("#sData","#"+o).removeClass("ui-state-active")),n("#"+s).data("disabled")===!0&&(n(".confirm","#"+h.themodal).hide(),n("#"+s).data("disabled",!1)),k&&k(n("#"+s)),n("#"+h.themodal).data("onClose",t.onClose),viewModal("#"+h.themodal,{gbox:"#gbox_"+c,jqm:u.jqModal,jqM:!0,closeoverlay:v,modal:u.modal}),v||n(".jqmOverlay").click(function(){return a()?(hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose}),!1):!1}),d&&d(n("#"+s));else{n(e.p.colModel).each(function(){var n=this.formoptions;w=Math.max(w,n?n.colpos||0:0);ot=Math.max(ot,n?n.rowpos||0:0)});var wt=isNaN(u.dataheight)?u.dataheight:u.dataheight+"px",y,bt=n.browser.msie&&parseInt(n.browser.version)===7?n("<div name='FormPost' id='"+s+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+wt+";'><\/div>").data("disabled",!1):n("<form name='FormPost' id='"+s+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+wt+";'><\/form>").data("disabled",!1),p=n("<table id='"+o+"' class='EditTable' cellspacing='0' cellpading='0' border='0'><tbody><\/tbody><\/table>");n(bt).append(p);y=n("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+w*2+"'><\/td><\/tr>");y[0].rp=0;n(p).append(y);t.topinfo&&(y=n("<tr><td class='topinfo' colspan='"+w*2+"'>"+t.topinfo+"<\/td><\/tr>"),y[0].rp=0,n(p).append(y));g&&g(n("#"+s));var ii=ti(r,e,p,w),kt="<a href='javascript:void(0)' id='nData' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/div>",ht="<a href='javascript:void(0)' id='sData' class='xpThemeButton xpPadding  ui-primarytabclr ui-corner-all'>"+u.bSubmit+"<\/a>",ct="<a href='javascript:void(0)' id='cData' class='cancelButton xpPadding ui-state-default ui-corner-all'>"+u.bCancel+"<\/a>",it="<table border='0' class='EditTable' id='"+o+"_2'><tbody><tr id='Act_Buttons'><td class='EditButton ui-widget-content'>"+ht+"&nbsp;"+ct+"<\/td><\/tr>";t.bottominfo&&(it+="<tr><td class='bottominfo' colspan='2'>"+t.bottominfo+"<\/td><\/tr>");it+="<\/tbody><\/table>";ot>0&&(rt=[],n.each(n(p)[0].rows,function(n,t){rt[n]=t}),rt.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(rt,function(t,i){n("tbody",p).append(i)}));u.gbox="#gbox_"+c;lt=!1;u.closeOnEscape===!0&&(u.closeOnEscape=!1,lt=!0);ut=n("<span><\/span>").append(bt).append(it);u.funcAlt===!0?createResourceProject(u,"#gview_"+e.p.id,n("#gview_"+e.p.id)[0]):u.xbarChart=="true"?createXbarChartModal(r,h,ut,u,"#gview_"+e.p.id,n("#gview_"+e.p.id)[0]):createModal(h,ut,u,"#gview_"+e.p.id,n("#gview_"+e.p.id)[0]);ut=null;it=null;jQuery("#"+h.themodal).keydown(function(i){if(n("#"+s).data("disabled")===!0)return!1;if(t.savekey[0]===!0&&i.which==t.savekey[1])return n("#sData","#"+o+"_2").trigger("click"),!1;if(i.which===27)return a()?(lt&&hideModal(this,{gb:u.gbox,jqm:u.jqModal,onClose:t.onClose}),!1):!1;if(t.navkeys[0]===!0){if(n("#id_g","#"+o).val()=="_empty")return!0;if(i.which==t.navkeys[1])return n("#pData","#"+o+"_2").trigger("click"),!1;if(i.which==t.navkeys[2])return n("#nData","#"+o+"_2").trigger("click"),!1}});u.checkOnUpdate&&(n("a.ui-jqdialog-titlebar-close span","#"+h.themodal).removeClass("jqmClose"),n("a.ui-jqdialog-titlebar-close","#"+h.themodal).unbind("click").click(function(){return a()?(hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose}),!1):!1}));u.saveicon=n.extend([!0,"left","ui-icon-disk"],u.saveicon);u.closeicon=n.extend([!0,"left","ui-icon-close"],u.closeicon);(t.checkOnSubmit||t.checkOnUpdate)&&(ht="<a href='javascript:void(0)' id='sNew' class='fm-button ui-primarytabclr ui-corner-all' style='z-index:1002'>"+u.bYes+"<\/a>",kt="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+u.bNo+"<\/a>",ct="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+u.bExit+"<\/a>",ft=u.zIndex||999,ft++,dt=n.browser.msie&&n.browser.version==6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"><\/iframe>':"",n("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+ft+";display:none;'>&nbsp;"+dt+"<\/div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(ft+1)+"'>"+u.saveData+"<br/><br/>"+ht+kt+ct+"<\/div>").insertAfter("#"+s),n("#sNew","#"+h.themodal).click(function(){return et([!0,"",""]),n("#"+s).data("disabled",!1),n(".confirm","#"+h.themodal).hide(),!1}),n("#nNew","#"+h.themodal).click(function(){return n(".confirm","#"+h.themodal).hide(),n("#"+s).data("disabled",!1),setTimeout(function(){n(":input","#"+s)[0].focus()},0),!1}),n("#cNew","#"+h.themodal).click(function(){return n(".confirm","#"+h.themodal).hide(),n("#"+s).data("disabled",!1),hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose}),!1}));pt&&pt(n("#"+s));r=="_empty"?n("#pData,#nData","#"+o+"_2").hide():n("#pData,#nData","#"+o+"_2").show();k&&k(n("#"+s));n("#"+h.themodal).data("onClose",t.onClose);viewModal("#"+h.themodal,{gbox:"#gbox_"+c,jqm:u.jqModal,closeoverlay:v,modal:u.modal});v||n(".jqmOverlay").click(function(){return a()?(hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose}),!1):!1});d&&d(n("#"+s));n(".fm-button","#"+h.themodal).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n("#sData","#"+o+"_2").click(function(){return n("#relayAjaxLoading").length>0&&n("#relayAjaxLoading").remove(),f={},l={},n("#FormError","#"+o).hide(),gt(),f.id=="_empty"?et():u.checkOnSubmit===!0?(nt=n.extend({},f,l),tt=ni(nt,t._savedData),tt?(n("#"+s).data("disabled",!0),n(".confirm","#"+h.themodal).show()):et()):et(),!1});n("#cData","#"+o+"_2").click(function(){return a()?(hideModal("#"+h.themodal,{gb:"#gbox_"+c,jqm:u.jqModal,onClose:t.onClose}),!1):!1});n("#nData","#"+o+"_2").click(function(){if(!a())return!1;n("#FormError","#"+o).hide();var t=yt();if(t[0]=parseInt(t[0]),t[0]!=-1&&t[1][t[0]+1]){if(n.isFunction(u.onclickPgButtons))u.onclickPgButtons("next",n("#"+s),t[1][t[0]]);b(t[1][t[0]+1],e,s);n(e).setSelection(t[1][t[0]+1]);n.isFunction(u.afterclickPgButtons)&&u.afterclickPgButtons("next",n("#"+s),t[1][t[0]+1]);vt(t[0]+1,t[1].length-1)}return!1});n("#pData","#"+o+"_2").click(function(){if(!a())return!1;n("#FormError","#"+o).hide();var t=yt();if(t[0]!=-1&&t[1][t[0]-1]){if(n.isFunction(u.onclickPgButtons))u.onclickPgButtons("prev",n("#"+s),t[1][t[0]]);b(t[1][t[0]-1],e,s);n(e).setSelection(t[1][t[0]-1]);n.isFunction(u.afterclickPgButtons)&&u.afterclickPgButtons("prev",n("#"+s),t[1][t[0]-1]);vt(t[0]-1,t[1].length-1)}return!1})}at=yt();vt(at[0],at[1].length-1)}})},viewGridRow:function(t,i){return i=n.extend({top:0,left:0,width:0,height:"auto",dataheight:"auto",modal:!1,drag:!0,resize:!0,jqModal:!1,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null},n.jgrid.view,i||{}),this.each(function(){function c(){(i.closeOnEscape===!0||i.navkeys[0]===!0)&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+e.modalhead).focus()},0)}function w(t,i){t==0?n("#pData","#"+r+"_2").addClass("ui-state-disabled"):n("#pData","#"+r+"_2").removeClass("ui-state-disabled");t==i?n("#nData","#"+r+"_2").addClass("ui-state-disabled"):n("#nData","#"+r+"_2").removeClass("ui-state-disabled")}function b(){var t=n(u).getDataIDs(),i=n("#id_g","#"+r).val(),f=n.inArray(i,t);return[f,t]}function tt(t,r,u,f){for(var b,o,s,e,h=0,c,k,d=[],l=!1,nt="<td class='CaptionTD ui-widget-content' width='"+i.labelswidth+"'>&nbsp;<\/td><td class='DataTD ui-helper-reset ui-widget-content' style='white-space:pre;'>&nbsp;<\/td>",g="",tt=["integer","number","currency"],a=0,v=0,y,p,w=1;w<=f;w++)g+=w==1?nt:"<td class='CaptionTD ui-widget-content'>&nbsp;<\/td><td class='DataTD ui-widget-content' style='white-space:pre;'>&nbsp;<\/td>";return n(r.p.colModel).each(function(){s=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1;s||this.align!=="right"||(this.formatter&&n.inArray(this.formatter,tt)!==-1?a=Math.max(a,parseInt(this.width,10)):v=Math.max(v,parseInt(this.width,10)))}),y=a!==0?a:v!==0?v:0,l=n(r).getInd(t),n(r.p.colModel).each(function(t){var w;if(o=this.name,p=!1,s=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,k=s?"style='display:none'":"",o!=="cb"&&o!=="subgrid"&&this.editable===!0){c=l===!1?"":o==r.p.ExpandColumn&&r.p.treeGrid===!0?n("td:eq("+t+")",r.rows[l]).text():n("td:eq("+t+")",r.rows[l]).html();p=this.align==="right"&&y!==0?!0:!1;var b=n.extend({},this.editoptions||{},{id:o,name:o}),i=n.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),a=parseInt(i.rowpos)||h+1,v=parseInt((parseInt(i.colpos)||1)*2);i.rowabove&&(w=n("<tr><td class='contentinfo' colspan='"+f*2+"'>"+i.rowcontent+"<\/td><\/tr>"),n(u).append(w),w[0].rp=a);e=n(u).find("tr[rowpos="+a+"]");e.length==0&&(e=n("<tr "+k+" rowpos='"+a+"'><\/tr>").addClass("FormData").attr("id","trv_"+o),n(e).append(g),n(u).append(e),e[0].rp=a);n("td:eq("+(v-2)+")",e[0]).html("<b>"+(typeof i.label=="undefined"?r.p.colNames[t]:i.label)+"<\/b>");n("td:eq("+(v-1)+")",e[0]).append("<span>"+c+"<\/span>").attr("id","v_"+o);p&&n("td:eq("+(v-1)+") span",e[0]).css({"text-align":"right",width:y+"px"});d[h]=t;h++}}),h>0&&(b=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(f*2-1)+"' class='DataTD'><input autocomplete='off' class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/><\/td><\/tr>"),b[0].rp=h+99,n(u).append(b)),d}function k(t,i){var u,f,s=0,e,h,o;(o=n(i).getInd(t,!0),o)&&(n("td",o).each(function(t){u=i.p.colModel[t].name.replace(".","\\.");f=i.p.colModel[t].editrules&&i.p.colModel[t].editrules.edithidden===!0?!1:i.p.colModel[t].hidden===!0?!0:!1;u!=="cb"&&u!=="subgrid"&&i.p.colModel[t].editable===!0&&(e=u==i.p.ExpandColumn&&i.p.treeGrid===!0?n(this).text():n(this).html(),h=n.extend({},i.p.colModel[t].editoptions||{}),u="v_"+u,n("#"+u+" span","#"+r).html(e),f&&n("#"+u,"#"+r).parents("tr:first").hide(),s++)}),s>0&&n("#id_g","#"+r).val(t))}var u=this,h,v,y,p;if(u.grid&&t){i.imgpath||(i.imgpath=u.p.imgpath);var f=u.p.id,o="ViewGrid_"+f,r="ViewTbl_"+f,e={themodal:"viewmod"+f,modalhead:"viewhd"+f,modalcontent:"viewcnt"+f,scrollelm:o},l=1,a=0;if(n("#"+e.themodal).html()!=null)n(".ui-jqdialog-title","#"+e.modalhead).html(i.caption),n("#FormError","#"+r).hide(),k(t,u),viewModal("#"+e.themodal,{gbox:"#gbox_"+f,jqm:i.jqModal,jqM:!1,modal:i.modal}),c();else{n(u.p.colModel).each(function(){var n=this.formoptions;l=Math.max(l,n?n.colpos||0:0);a=Math.max(a,n?n.rowpos||0:0)});var d=isNaN(i.dataheight)?i.dataheight:i.dataheight+"px",g=n.browser.msie&&parseInt(n.browser.version)===7?n("<div name='FormPost' id='"+o+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+d+";'><\/div>"):n("<form name='FormPost' id='"+o+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+d+";'><\/form>"),s=n("<table id='"+r+"' class='EditTable' cellspacing='1' cellpading='2' border='0' style='table-layout:fixed'><tbody><\/tbody><\/table>");n(g).append(s);var it=tt(t,u,s,l),nt="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+i.bClose+"<\/a>";a>0&&(h=[],n.each(n(s)[0].rows,function(n,t){h[n]=t}),h.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(h,function(t,i){n("tbody",s).append(i)}));i.gbox="#gbox_"+f;v=!1;i.closeOnEscape===!0&&(i.closeOnEscape=!1,v=!0);y=n("<span><\/span>").append(g).append("<table border='0' class='EditTable' id='"+r+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content' width='"+i.labelswidth+"'><a href='javascript:void(0)' id='pData' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'><\/span><\/div><a href='javascript:void(0)' id='nData' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/div><\/td><td class='EditButton ui-widget-content'>"+nt+"<\/td><\/tr><\/tbody><\/table>");createModal(e,y,i,"#gview_"+u.p.id,n("#gview_"+u.p.id)[0]);y=null;jQuery("#"+e.themodal).keydown(function(t){if(t.which===27)return v&&hideModal(this,{gb:i.gbox,jqm:i.jqModal,onClose:i.onClose}),!1;if(i.navkeys[0]===!0){if(t.which===i.navkeys[1])return n("#pData","#"+r+"_2").trigger("click"),!1;if(t.which===i.navkeys[2])return n("#nData","#"+r+"_2").trigger("click"),!1}});i.closeicon=n.extend([!0,"left","ui-icon-close"],i.closeicon);i.closeicon[0]==!0&&n("#cData","#"+r+"_2").addClass(i.closeicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.closeicon[2]+"'><\/span>");viewModal("#"+e.themodal,{gbox:"#gbox_"+f,jqm:i.jqModal,modal:i.modal});n(".fm-button:not(.ui-state-disabled)","#"+r+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});c();n("#cData","#"+r+"_2").click(function(){return hideModal("#"+e.themodal,{gb:"#gbox_"+f,jqm:i.jqModal,onClose:i.onClose}),!1});n("#nData","#"+r+"_2").click(function(){n("#FormError","#"+r).hide();var t=b();if(t[0]=parseInt(t[0]),t[0]!=-1&&t[1][t[0]+1]){if(n.isFunction(i.onclickPgButtons))i.onclickPgButtons("next",n("#"+o),t[1][t[0]]);k(t[1][t[0]+1],u);n(u).setSelection(t[1][t[0]+1]);n.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons("next",n("#"+o),t[1][t[0]+1]);w(t[0]+1,t[1].length-1)}return c(),!1});n("#pData","#"+r+"_2").click(function(){n("#FormError","#"+r).hide();var t=b();if(t[0]!=-1&&t[1][t[0]-1]){if(n.isFunction(i.onclickPgButtons))i.onclickPgButtons("prev",n("#"+o),t[1][t[0]]);k(t[1][t[0]-1],u);n(u).setSelection(t[1][t[0]-1]);n.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons("prev",n("#"+o),t[1][t[0]-1]);w(t[0]-1,t[1].length-1)}return c(),!1})}p=b();w(p[0],p[1].length-1)}})},delGridRow:function(i,r){return r=n.extend({top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!1,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null},n.jgrid.del,r||{}),t=r,this.each(function(){var f=this,a,s,v,y;if(f.grid&&i){var c=typeof r.beforeShowForm=="function"?!0:!1,l=typeof r.afterShowForm=="function"?!0:!1,e=f.p.id,h={},u="DelTbl_"+e,o={themodal:"delmod"+e,modalhead:"delhd"+e,modalcontent:"delcnt"+e,scrollelm:u};isArray(i)&&(i=i.join());n("#"+o.themodal).html()!=null?(n("#DelData>td","#"+u).text(i),n("#DelError","#"+u).hide(),r.processing===!0&&(r.processing=!1,n("#dData","#"+u).removeClass("ui-state-active")),c&&r.beforeShowForm(n("#"+u)),viewModal("#"+o.themodal,{gbox:"#gbox_"+e,jqm:r.jqModal,jqM:!1,modal:r.modal}),n("#"+o.themodal).focus(),l&&r.afterShowForm(n("#"+u))):(a=isNaN(r.dataheight)?r.dataheight:r.dataheight+"px",s="<div id='"+u+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+a+";'>",s+="<table class='DelTable'><tbody>",s+="<tr id='DelError' style='display:none'><td class='ui-state-error'><\/td><\/tr>",s+="<tr id='DelData' style='display:none'><td >"+i+"<\/td><\/tr>",s+='<tr><td class="delmsg" style="white-space:pre;">'+r.msg+"<\/td><\/tr><tr><td >&nbsp;<\/td><\/tr>",s+="<\/tbody><\/table><\/div>",v="<a href='javascript:void(0)' id='dData' class='fm-button ui-primarytabclr ui-corner-all'>"+r.bSubmit+"<\/a>",y="<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>",s+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+u+"_2'><tbody><tr><td class='DataTD ui-widget-content'><\/td><\/tr><tr style='display:block;height:3px;'><td><\/td><\/tr><tr><td class='DelButton EditButton'>"+v+"&nbsp;"+y+"<\/td><\/tr><\/tbody><\/table>",r.gbox="#gbox_"+e,createModal(o,s,r,"#gview_"+f.p.id,n("#gview_"+f.p.id)[0]),n(".fm-button","#"+u+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),r.delicon=n.extend([!0,"left","ui-icon-scissors"],r.delicon),r.cancelicon=n.extend([!0,"left","ui-icon-cancel"],r.cancelicon),r.delicon[0]==!0&&n("#dData","#"+u+"_2").addClass(r.delicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.delicon[2]+"'><\/span>"),r.cancelicon[0]==!0&&n("#eData","#"+u+"_2").addClass(r.cancelicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.cancelicon[2]+"'><\/span>"),n("#dData","#"+u+"_2").click(function(){var i=[!0,""],s,a,v,c,l;if(h={},s=n("#DelData>td","#"+u).text(),typeof r.onclickSubmit=="function"&&(h=r.onclickSubmit(t)||{}),typeof r.beforeSubmit=="function"&&(i=r.beforeSubmit(s)),a=t.url?t.url:f.p.editurl,a||(i[0]=!1,i[1]+=" "+n.jgrid.errors.nourl),islocal=f.p.datatype=="local"?!0:!1,i[0]!==!1||islocal){if(!r.processing)if(r.processing=!0,n(this).addClass("ui-state-active"),v=n.extend({oper:"del",id:s,listname:f.p.listname},r.delData,h),islocal){if(Status=n(f).delRowData(v.id)==!0?"success":"failure",Status!="success"?(i[0]=!1,i[1]=Status+" Status: "+data.statusText+" Error code: "+data.status):(i[0]=!0,typeof t.afterSubmit=="function"&&(i=t.afterSubmit(data,s))),i[0]===!1)n("#DelError>td","#"+u).html(i[1]),n("#DelError","#"+u).show();else{if(t.reloadAfterSubmit)f.p.treeGrid&&n(f).setGridParam({treeANode:0,datatype:f.p.treedatatype}),n(f).trigger("reloadGrid");else{if(c=[],c=s.split(","),f.p.treeGrid===!0)try{n(f).delTreeNode(c[0])}catch(e){}else for(l=0;l<c.length;l++)n(f).delRowData(c[l]);f.p.selrow=null;f.p.selarrrow=[]}n.isFunction(t.afterComplete)&&setTimeout(function(){t.afterComplete(data,s)},500)}r.processing=!1;n("#dData","#"+u+"_2").removeClass("ui-state-active");i[0]&&hideModal("#"+o.themodal,{gb:"#gbox_"+e,jqm:r.jqModal,onClose:t.onClose})}else n.ajax({url:a,type:r.mtype,data:v,complete:function(h,c){var l,a;if(c!="success"?(i[0]=!1,i[1]=c+" Status: "+h.statusText+" Error code: "+h.status):typeof t.afterSubmit=="function"&&(i=t.afterSubmit(h,s)),i[0]===!1)n("#DelError>td","#"+u).html(i[1]),n("#DelError","#"+u).show();else{if(t.reloadAfterSubmit)f.p.treeGrid&&n(f).setGridParam({treeANode:0,datatype:f.p.treedatatype}),n(f).trigger("reloadGrid");else{if(l=[],l=s.split(","),f.p.treeGrid===!0)try{n(f).delTreeNode(l[0])}catch(v){}else for(a=0;a<l.length;a++)n(f).delRowData(l[a]);f.p.selrow=null;f.p.selarrrow=[]}n.isFunction(t.afterComplete)&&setTimeout(function(){t.afterComplete(h,s)},500)}r.processing=!1;n("#dData","#"+u+"_2").removeClass("ui-state-active");i[0]&&hideModal("#"+o.themodal,{gb:"#gbox_"+e,jqm:r.jqModal,onClose:t.onClose})},error:function(t,i,f){n("#DelError>td","#"+u).html(i+" : "+f);n("#DelError","#"+u).show();r.processing=!1;n("#dData","#"+u+"_2").removeClass("ui-state-active")}})}else n("#DelError>td","#"+u).html(i[1]),n("#DelError","#"+u).show();return!1}),n("#eData","#"+u+"_2").click(function(){return hideModal("#"+o.themodal,{gb:"#gbox_"+e,jqm:r.jqModal,onClose:t.onClose}),!1}),c&&r.beforeShowForm(n("#"+u)),viewModal("#"+o.themodal,{gbox:"#gbox_"+e,jqm:r.jqModal,modal:r.modal}),n("#"+o.themodal).focus(),l&&r.afterShowForm(n("#"+u)));r.closeOnEscape===!0&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+o.modalhead).focus()},0)}})},navGrid:function(t,i,r,u,f,e,o){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",edittext:"",add:!0,addicon:"ui-icon-plus",addtext:"",del:!0,delicon:"ui-icon-trash",deltext:"",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewtext:"",viewicon:"ui-icon-document",position:"left",closeOnEscape:!0},n.jgrid.nav,i||{}),this.each(function(){var c={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},t=this,a,v,l,p;if(t.grid){n("#"+c.themodal+t.p.id).html()==null&&(typeof innerWidth!="undefined"?(a=window.innerWidth,v=window.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(a=document.documentElement.clientWidth,v=document.documentElement.clientHeight):(a=1024,v=768),createModal(c,"<div>"+i.alerttext+"<\/div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'><\/span><\/span>",{gbox:"#gbox_"+t.p.id,jqModal:!0,drag:!0,resize:!1,caption:i.alertcap,top:v/2-25,left:a/2-100,width:200,height:"auto",closeOnEscape:i.closeOnEscape},"","",!0));var s,h=n("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr><\/tr><\/tbody><\/table>"),y=n(t.p.pager).attr("id")||"pager";i.add&&(u=u||{},s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'><\/span>"+i.addtext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.addtitle||"",id:u.id||"add_"+t.p.id}).click(function(){return typeof i.addfunc=="function"?i.addfunc():n(t).editGridRow("new",u),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);i.edit&&(s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),r=r||{},n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'><\/span>"+i.edittext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.edittitle||"",id:r.id||"edit_"+t.p.id}).click(function(){var u=t.p.selrow;return u?typeof i.editfunc=="function"?i.editfunc(u):n(t).editGridRow(u,r):(viewModal("#"+c.themodal,{gbox:"#gbox_"+t.p.id,jqm:!0,isalert:!0}),n("#"+c.themodal).focus()),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);i.view&&(s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),o=o||{},n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'><\/span>"+i.viewtext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.viewtitle||"",id:o.id||"view_"+t.p.id}).click(function(){var i=t.p.selrow;return i?n(t).viewGridRow(i,o):(viewModal("#"+c.themodal,{gbox:"#gbox_"+t.p.id,jqm:!0,isalert:!0}),n("#jqg_alrt").focus()),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);i.del&&(s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),f=f||{},n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'><\/span>"+i.deltext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.deltitle||"",id:f.id||"del_"+t.p.id}).click(function(){var i;return t.p.multiselect?(i=t.p.selarrrow,i.length==0&&(i=null)):i=t.p.selrow,i?n(t).delGridRow(i,f):(viewModal("#"+c.themodal,{gbox:"#gbox_"+t.p.id,jqm:!0,isalert:!0}),n("#jqg_alrt").focus()),n("#"+c.themodal).focus(),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);(i.add||i.edit||i.del||i.view)&&n("tr",h).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>");i.search&&(s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),e=e||{},n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'><\/span>"+i.searchtext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.searchtitle||"",id:e.id||"search_"+t.p.id}).click(function(){return n(t).searchGrid(e),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);i.refresh&&(s=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(s).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'><\/span>"+i.refreshtext+"<\/div>"),n("tr",h).append(s),n(s,h).attr({title:i.refreshtitle||"",id:"refresh_"+t.p.id}).click(function(){var u,r;t.p.search=!1;i.search&&(u=t.p.id,n("#fbox_"+u).searchFilter().reset());switch(i.refreshstate){case"firstpage":t.p.page=1;n(t).trigger("reloadGrid");break;case"current":r=t.p.multiselect===!0?t.p.selarrrow:t.p.selrow;n(t).trigger("reloadGrid");setTimeout(function(){if(t.p.multiselect===!0){if(r.length>0)for(var i=0;i<r.length;i++)n(t).setSelection(r[i],!1)}else r&&n(t).setSelection(r,!1)},1e3)}return!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),s=null);p=n(".ui-jqgrid").css("font-size")||"11px";n("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+p+";visibility:hidden;' ><\/div>");l=n(h).clone().appendTo("#testpg2").width();n("#testpg2").remove();n("#"+y+"_"+i.position,"#"+y).append(h);t.p._nvtd&&(l>t.p._nvtd[0]&&(n("#"+y+"_"+i.position,"#"+y).width(l),t.p._nvtd[0]=l),t.p._nvtd[1]=l)}})},navButtonAdd:function(t,i){return i=n.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){var r,u;this.grid&&(t.indexOf("#")!=0&&(t="#"+t),r=n(".navtable",t)[0],r&&(u=n("<td><\/td>"),n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'><\/span>"+i.caption+"<\/div>"),i.id&&n(u).attr("id",i.id),i.position=="first"?r.rows[0].cells.length===0?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u),n(u,r).attr("title",i.title||"").click(function(){return n.isFunction(i.onClickButton)&&i.onClickButton(),!1}).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}).css("cursor",i.cursor?i.cursor:"normal")))})},navSeparatorAdd:function(t,i){return i=n.extend({sepclass:"ui-separator",sepcontent:""},i||{}),this.each(function(){var r,u;this.grid&&(t.indexOf("#")!=0&&(t="#"+t),r=n(".navtable",t)[0],r&&(u="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'><\/span>"+i.sepcontent+"<\/td>",n("tr",r).append(u)))})},GridToForm:function(t,i){return this.each(function(){var f=this,u,r;if(f.grid&&(u=n(f).getRowData(t),u))for(r in u)n("[name="+r+"]",i).is("input:radio")||n("[name="+r+"]",i).is("input:checkbox")?n("[name="+r+"]",i).each(function(){n(this).val()==u[r]?n(this).attr("checked","checked"):n(this).attr("checked","")}):n("[name="+r+"]",i).val(u[r])})},FormToGrid:function(t,i,r,u){return this.each(function(){var e=this,o,f;e.grid&&(r||(r="set"),u||(u="first"),o=n(i).serializeArray(),f={},n.each(o,function(n,t){f[t.name]=t.value}),r=="add"?n(e).addRowData(t,f,u):r=="set"&&n(e).setRowData(t,f))})}})})(jQuery);
/*
//# sourceMappingURL=grid.formedit.min.js.map
*/
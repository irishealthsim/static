jQuery.fn.searchFilter=function(n,t){function i(n,t,i){var nt,l;if(this.$=n,this.add=function(t){return t==null?n.find(".ui-add-last").click():n.find(".sf:eq("+t+") .ui-add").click(),this},this.del=function(t){return t==null?n.find(".sf:last .ui-del").click():n.find(".sf:eq("+t+") .ui-del").click(),this},this.search=function(){return n.find(".ui-search").click(),this},this.reset=function(){return n.find(".ui-reset").click(),this},this.close=function(){return n.find(".ui-closer").click(),this},t!=null){function w(){return jQuery(this).toggleClass("ui-state-hover"),!1}function b(n){return jQuery(this).toggleClass("ui-state-active",n.type=="mousedown"),!1}function u(n,t){return"<option value='"+n+"'>"+t+"<\/option>"}function a(n,t,i){return"<select class='"+n+"'"+(i?" style='display:none;'":"")+">"+t+"<\/select>"}function k(t,i){var r=n.find("tr.sf td.data "+t);r[0]!=null&&i(r)}function d(t,i){var r=n.find("tr.sf td.data "+t);r[0]!=null&&jQuery.each(i,function(){this.data!=null?r.bind(this.type,this.data,this.fn):r.bind(this.type,this.fn)})}var r=jQuery.extend({},jQuery.fn.searchFilter.defaults,i),f=-1,s="";jQuery.each(r.groupOps,function(){s+=u(this.op,this.text)});s="<select name='groupOp'>"+s+"<\/select>";n.html("").addClass("ui-searchFilter").append("<div class='ui-widget-overlay' style='z-index: -1'>&nbsp;<\/div><table class='ui-widget-content ui-corner-all'><thead><tr><td colspan='5' class='ui-widget-header ui-corner-all' style='line-height: 18px;'><div class='ui-closer ui-state-default ui-corner-all ui-helper-clearfix' style='float: right;'><span class='ui-icon ui-icon-close'><\/span><\/div>"+r.windowTitle+"<\/td><\/tr><\/thead><tbody><tr class='sf'><td class='fields'><\/td><td class='ops'><\/td><td class='data'><\/td><td><div class='ui-del ui-state-default ui-corner-all'><span class='ui-icon ui-icon-minus'><\/span><\/div><\/td><td><div class='ui-add ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plus'><\/span><\/div><\/td><\/tr><tr><td colspan='5' class='divider'><div>&nbsp;<\/div><\/td><\/tr><\/tbody><tfoot><tr><td colspan='3'><span class='ui-reset ui-state-default ui-corner-all' style='display: inline-block; float: left;'><span class='ui-icon ui-icon-arrowreturnthick-1-w' style='float: left;'><\/span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+r.resetText+"<\/span><\/span><span class='ui-search ui-state-default ui-corner-all' style='display: inline-block; float: right;'><span class='ui-icon ui-icon-search' style='float: left;'><\/span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+r.searchText+"<\/span><\/span><span class='matchText'>"+r.matchText+"<\/span> "+s+" <span class='rulesText'>"+r.rulesText+"<\/span><\/td><td>&nbsp;<\/td><td><div class='ui-add-last ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plusthick'><\/span><\/div><\/td><\/tr><\/tfoot><\/table>");var v=n.find("tr.sf"),g=v.find("td.fields"),y=v.find("td.ops"),e=v.find("td.data"),h="";jQuery.each(r.operators,function(){h+=u(this.op,this.text)});h=a("default",h,!0);y.append(h);nt="<input autocomplete='off' type='text' class='default' style='display:none;' />";e.append(nt);var c="",p=!1,o=!1;jQuery.each(t,function(t){var s=t,r,h,l,i;c+=u(this.value,this.text);this.ops!=null&&(p=!0,r="",jQuery.each(this.ops,function(){r+=u(this.op,this.text)}),r=a("field"+s,r,!0),y.append(r));this.dataUrl!=null?(t>f&&(f=t),o=!0,h=this.dataEvents,l=this.dataInit,jQuery.get(this.dataUrl,function(i){var r=jQuery("<div />").append(i);r.find("select").addClass("field"+s).hide();e.append(r.html());l&&k(".field"+t,l);h&&d(".field"+t,h);t==f&&n.find("tr.sf td.fields select[name='field']").change()})):this.dataValues!=null?(o=!0,i="",jQuery.each(this.dataValues,function(){i+=u(this.value,this.text)}),i=a("field"+s,i,!0),e.append(i)):(this.dataEvents!=null||this.dataInit!=null)&&(o=!0,i="<input autocomplete='off' type='text' class='field"+s+"' />",e.append(i));this.dataInit!=null&&t!=f&&k(".field"+t,this.dataInit);this.dataEvents!=null&&t!=f&&d(".field"+t,this.dataEvents)});c="<select name='field'>"+c+"<\/select>";g.append(c);l=g.find("select[name='field']");p?l.change(function(n){var r=n.target.selectedIndex,i=jQuery(n.target).parents("tr.sf").find("td.ops"),t;i.find("select").removeAttr("name").hide();t=i.find(".field"+r);t[0]==null&&(t=i.find(".default"));t.attr("name","op").show()}):y.find(".default").attr("name","op").show();o?l.change(function(n){var r=n.target.selectedIndex,i=jQuery(n.target).parents("tr.sf").find("td.data"),t;i.find("select,input").removeAttr("name").hide();t=i.find(".field"+r);t[0]==null&&(t=i.find(".default"));t.attr("name","data").show()}):e.find(".default").attr("name","data").show();(p||o)&&l.change();n.find(".ui-state-default").hover(w,w).mousedown(b).mouseup(b);n.find(".ui-closer").click(function(){r.onClose(jQuery(n.selector));return!1});n.find(".ui-del").click(function(n){var t=jQuery(n.target).parents(".sf");return t.siblings(".sf").length>0?(r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&t.find(".hasDatepicker").datepicker("destroy"),t.remove()):(t.find("select[name='field']")[0].selectedIndex=0,t.find("select[name='op']")[0].selectedIndex=0,t.find(".data input").val(""),t.find(".data select").each(function(){this.selectedIndex=0}),t.find("select[name='field']").change()),!1});n.find(".ui-add").click(function(n){var i=jQuery(n.target).parents(".sf"),t=i.clone(!0).insertAfter(i),f,u;return t.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),r.clone?(t.find("select[name='field']")[0].selectedIndex=i.find("select[name='field']")[0].selectedIndex,f=t.find("select[name='op']")[0]==null,f||(t.find("select[name='op']").focus()[0].selectedIndex=i.find("select[name='op']")[0].selectedIndex),u=t.find("select[name='data']"),u[0]!=null&&(u[0].selectedIndex=i.find("select[name='data']")[0].selectedIndex)):(t.find(".data input").val(""),t.find("select[name='field']").focus()),r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&i.find(".hasDatepicker").each(function(){var n=jQuery.data(this,"datepicker").settings;t.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(n)}),t.find("select[name='field']").change(),!1});n.find(".ui-search").click(function(){var i=jQuery(n.selector),t,u=i.find("select[name='groupOp'] :selected").val();t=r.stringResult?'{"groupOp":"'+u+'","rules":[':{groupOp:u,rules:[]};i.find(".sf").each(function(n){var i=jQuery(this).find("select[name='field'] :selected").val(),u=jQuery(this).find("select[name='op'] :selected").val(),f=jQuery(this).find("input[name='data'],select[name='data'] :selected").val();r.stringResult?(n>0&&(t+=","),t+='{"field":"'+i+'",',t+='"op":"'+u+'",',t+='"data":"'+f+'"}'):t.rules.push({field:i,op:u,data:f})});r.stringResult&&(t+="]}");r.onSearch(t);return!1});n.find(".ui-reset").click(function(){var t=jQuery(n.selector);return t.find(".ui-del").click(),t.find("select[name='groupOp']")[0].selectedIndex=0,r.onReset(),!1});n.find(".ui-add-last").click(function(){var i=jQuery(n.selector+" .sf:last"),t=i.clone(!0).insertAfter(i);return t.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),t.find(".data input").val(""),t.find("select[name='field']").focus(),r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&i.find(".hasDatepicker").each(function(){var n=jQuery.data(this,"datepicker").settings;t.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(n)}),t.find("select[name='field']").change(),!1})}}return new i(this,n,t)};jQuery.fn.searchFilter.version="1.2.9";jQuery.fn.searchFilter.defaults={clone:!0,datepickerFix:!0,onReset:function(n){alert("Reset Clicked. Data Returned: "+n)},onSearch:function(n){alert("Search Clicked. Data Returned: "+n)},onClose:function(n){n.hide()},groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operators:[{op:"eq",text:"is equal to"},{op:"ne",text:"is not equal to"},{op:"lt",text:"is less than"},{op:"le",text:"is less or equal to"},{op:"gt",text:"is greater than"},{op:"ge",text:"is greater or equal to"},{op:"in",text:"is in"},{op:"ni",text:"is not in"},{op:"bw",text:"begins with"},{op:"bn",text:"does not begin with"},{op:"ew",text:"ends with"},{op:"en",text:"does not end with"},{op:"cn",text:"contains"},{op:"nc",text:"does not contain"}],matchText:"match",rulesText:"rules",resetText:"Reset",searchText:"Search",stringResult:!0,windowTitle:"Search Rules"};
/*
//# sourceMappingURL=jquery.searchFilter.min.js.map
*/
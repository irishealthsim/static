function info_dialog(n,t,i,r){var u={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,caption:"<b>"+n+"<\/b>",left:250,top:170,jqModal:!0,closeOnEscape:!0,align:"center",buttonalign:"center"},f;jQuery.extend(u,r||{});f=u.jqModal;jQuery.fn.jqm&&!f&&(f=!1);var o=isNaN(u.dataheight)?u.dataheight:u.dataheight+"px",s="text-align:"+u.align+";",e="<div id='info_id'>";e+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+o+";"+s+"'>"+t+"<\/div>";e+=i?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+u.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+i+"<\/a><\/div>":"";e+="<\/div>";try{jQuery("#info_dialog").remove()}catch(h){}createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},e,u,"","",!0);jQuery("#closedialog","#info_id").click(function(){return hideModal("#info_dialog",{jqm:f}),!1});jQuery(".fm-button","#info_dialog").hover(function(){jQuery(this).addClass("ui-state-hover")},function(){jQuery(this).removeClass("ui-state-hover")});viewModal("#info_dialog",{onHide:function(n){n.w.hide().remove();n.o&&n.o.remove()},modal:!0,jqm:f})}function findPos(n){var t=curtop=0;if(n.offsetParent)do t+=n.offsetLeft,curtop+=n.offsetTop;while(n=n.offsetParent);return[t,curtop]}function isArray(n){return n.constructor.toString().indexOf("Array")==-1?!1:!0}function formatPeoplepickerVal(n){var t={},i=0;return $.trim(n)&&$.each(n.split(","),function(){var n=this,r,u;n!=null&&$.trim(n).length!=0&&(r=n.split("!")[0],u=n.split("!")[1],r!=null&&u!=null&&(t[i]={id:r,name:u},i++))}),t}function createEl(n,t,i){function u(n,t){return jQuery.isFunction(t.dataInit)&&(n.id=t.id,t.dataInit(n,i),delete t.id,delete t.dataInit),t.dataEvents&&(jQuery.each(t.dataEvents,function(){this.data!=null?jQuery(n).bind(this.type,this.data,this.fn):jQuery(n).bind(this.type,this.fn)}),delete t.dataEvents),t}var r="",y,v,e,p,o,s,w,h,f,c,l,a;t.defaultValue&&delete t.defaultValue;switch(n){case"textarea":r=document.createElement("textarea");t.cols||jQuery(r).css("width","98%");(i=="&nbsp;"||i=="&#160;"||i.length==1&&i.charCodeAt(0)==160)&&(i="");r.value=i;t=u(r,t);jQuery(r).attr(t);break;case"multipeople":r=document.createElement("textarea");t.cols||jQuery(r).css("width","98%");i&&i!="&nbsp;"&&i!="&#160;"&&(i.length!=1||i.charCodeAt(0)!=160)||(i="");a=formatPeoplepickerVal(i);t=u(r,t);jQuery(r).attr(t);setTimeout(function(){$(r).peoplepicker({multiple:!0,prePopulate:a})},200);break;case"richtextbox":r=document.createElement("textarea");r.setAttribute("cols",50);r.setAttribute("width","80%");r.setAttribute("rows",15);t.cols||jQuery(r).css("width","98%");(i=="&nbsp;"||i=="&#160;"||i.length==1&&i.charCodeAt(0)==160)&&(i="");r.value=i;t=u(r,t);jQuery(r).attr(t);jQuery(r).addClass("ms-long");jQuery(r).addClass("makerichtext");setTimeout(function(){$(r).RelayRichText({imageEnabled:t.imageEnabled})},150);break;case"checkbox":if(r=document.createElement("input"),r.type="checkbox",t.value){v=t.value.split(":");i===v[0]&&(r.checked=!0,r.defaultChecked=!0);r.value=v[0];jQuery(r).attr("offval",v[1]);try{delete t.value}catch(b){}}else y=i.toLowerCase(),y.search(/(false|0|no|off|undefined)/i)<0&&y!==""?(r.checked=!0,r.defaultChecked=!0,r.value=i):r.value="on",jQuery(r).attr("offval","off");t=u(r,t);jQuery(r).attr(t);break;case"select":if(r=document.createElement("select"),e=t.multiple===!0?!0:!1,t.dataUrl!=null)p="",t.dataParm!=null&&(p=t.dataParm),$.ajax({url:t.dataUrl,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:"{"+p+"}",complete:function(n){try{delete t.dataUrl;delete t.value}catch(s){}var f=$.jgrid.parse(n.responseText),o=jQuery(f.d).html();jQuery(r).append(o);t=u(r,t);typeof t.size=="undefined"&&(t.size=e?3:1);jQuery(r).attr(t);setTimeout(function(){jQuery("option",r).each(function(){if(jQuery(this).html()==i)return this.selected="selected",!1});$.isFunction(t.afterAjaxComplete)&&t.afterAjaxComplete(r)},0)}});else if(t.value)if(o=[],e?(o=i.split(","),o=jQuery.map(o,function(n){return jQuery.trim(n)}),typeof t.size=="undefined"&&(t.size=3)):t.size=1,typeof t.value=="string"){w=t.value.split(";");try{delete t.value}catch(b){}for(t=u(r,t),jQuery(r).attr(t),s=0;s<w.length;s++)h=w[s].split(":"),f=document.createElement("option"),f.value=h[0],f.innerHTML=h[1],e||h[0]!=i||(f.selected="selected"),e&&jQuery.inArray(jQuery.trim(h[0]),o)>-1&&(f.selected="selected"),r.appendChild(f)}else if(typeof t.value=="object"){c=t.value;try{delete t.value}catch(b){}t=u(r,t);jQuery(r).attr(t);s=0;for(l in c)s++,f=document.createElement("option"),f.value=l,f.innerHTML=c[l],e||c[l]!=i||(f.selected="selected"),e&&jQuery.inArray(jQuery.trim(c[l]),o)>-1&&(f.selected="selected"),r.appendChild(f)}break;case"text":case"password":case"button":r=document.createElement("input");r.type=n;r.value=jQuery.jgrid.htmlDecode(i);t=u(r,t);t.size||jQuery(r).css({width:"98%"});jQuery(r).attr(t);break;case"location":r=document.createElement("select");t=u(r,t);jQuery(r).attr(t);$(r).classification({listname:"GeographyData",columnname:"GeographyName",parentcolumnname:"",parentid:"",serviceurl:"/_layouts/IImpact.Web/ClassificationService.asmx/Classification",valuecolumn:"GeographyName",uniquevals:"False",autoindexing:"False"});break;case"function":r=document.createElement("select");t=u(r,t);jQuery(r).attr(t);$(r).classification({listname:"FunctionData",columnname:"FunctionName",parentcolumnname:"",parentid:"",serviceurl:"/_layouts/IImpact.Web/ClassificationService.asmx/Classification",valuecolumn:"FunctionName",uniquevals:"False",autoindexing:"False"});break;case"department":r=document.createElement("select");t=u(r,t);jQuery(r).attr(t);$(r).classification({listname:"DepartmentData",columnname:"DepartmentName",parentcolumnname:"",parentid:"",serviceurl:"/_layouts/IImpact.Web/ClassificationService.asmx/Classification",valuecolumn:"DepartmentName",uniquevals:"False",autoindexing:"False"});break;case"singleperson":r=document.createElement("input");t=u(r,t);t.size||jQuery(r).css({width:"98%"});jQuery(r).attr(t);a=formatPeoplepickerVal(i);t=u(r,t);jQuery(r).attr(t);setTimeout(function(){$(r).peoplepicker({prePopulate:a})},200);break;case"image":case"file":r=document.createElement("input");r.type=n;t=u(r,t);jQuery(r).attr(t)}return r}function checkValues(n,t,i){var r,f,u,s,e,o,h;if(typeof t=="string"){for(f=0,len=i.p.colModel.length;f<len;f++)if(i.p.colModel[f].name==t){r=i.p.colModel[f].editrules;t=f;try{u=i.p.colModel[f].formoptions.label}catch(c){}break}}else t>=0&&(r=i.p.colModel[t].editrules);if(r){if(u||(u=i.p.colNames[t]),r.required===!0&&(s=$.trim(n.replace("&nbsp;","")),s.match(/^\s+$/)||s==""))return[!1,u+": "+jQuery.jgrid.edit.msg.required,""];if(e=r.required===!1?!1:!0,r.number===!0&&!(e===!1&&isEmpty(n))&&isNaN(n))return[!1,u+": "+jQuery.jgrid.edit.msg.number,""];if(typeof r.minValue!="undefined"&&!isNaN(r.minValue)&&parseFloat(n)<parseFloat(r.minValue))return[!1,u+": "+jQuery.jgrid.edit.msg.minValue+" "+r.minValue,""];if(typeof r.maxValue!="undefined"&&!isNaN(r.maxValue)&&parseFloat(n)>parseFloat(r.maxValue))return[!1,u+": "+jQuery.jgrid.edit.msg.maxValue+" "+r.maxValue,""];if(r.email===!0&&!(e===!1&&isEmpty(n))&&(o=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,!o.test(n)))return[!1,u+": "+jQuery.jgrid.edit.msg.email,""];if(r.integer===!0&&!(e===!1&&isEmpty(n))){if(isNaN(n))return[!1,u+": "+jQuery.jgrid.edit.msg.integer,""];if(n%1!=0||n.indexOf(".")!=-1)return[!1,u+": "+jQuery.jgrid.edit.msg.integer,""]}if(r.date===!0&&!(e===!1&&isEmpty(n))&&(h=i.p.colModel[t].datefmt||"Y-m-d",!checkDate(h,n)))return[!1,u+": "+jQuery.jgrid.edit.msg.date+" - "+h,""];if(r.time===!0&&!(e===!1&&isEmpty(n))&&!checkTime(n))return[!1,u+": "+jQuery.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(r.url===!0&&!(e===!1&&isEmpty(n))&&(o=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,!o.test(n)))return[!1,u+": "+jQuery.jgrid.edit.msg.url,""]}return[!0,"",""]}function checkDate(n,t){var i={},h,p,r,w,b,s;if(n=n.toLowerCase(),n.indexOf("/")!=-1)h="/";else if(n.indexOf("-")!=-1)h="-";else if(n.indexOf(".")!=-1)h=".";else try{var a,c,v,l=t.split(" "),k=l[0],y=$.datepicker.regional[""].monthNamesShort.indexOf(k);y>-1&&(a=y+1,p=l[1],c=p.split(",")[0],c!=null&&(v=l[2],t=v+"-"+a+"-"+c,n="y-m-d",h="-"))}catch(d){return!1}if(n=n.split(h),t=t.split(h),t.length!=3)return!1;var u=-1,f,e=-1,o=-1;for(r=0;r<n.length;r++)w=isNaN(t[r])?0:parseInt(t[r],10),i[n[r]]=w,f=n[r],f.indexOf("y")!=-1&&(u=r),f.indexOf("m")!=-1&&(o=r),f.indexOf("d")!=-1&&(e=r);return(f=n[u]=="y"||n[u]=="yyyy"?4:n[u]=="yy"?2:-1,b=DaysArray(12),u===-1)?!1:(s=i[n[u]].toString(),f==2&&s.length==1&&(f=1),s.length!=f||i[n[u]]==0)?!1:o===-1?!1:(s=i[n[o]].toString(),s.length<1||i[n[o]]<1||i[n[o]]>12)?!1:e===-1?!1:(s=i[n[e]].toString(),s.length<1||i[n[e]]<1||i[n[e]]>31||i[n[o]]==2&&i[n[e]]>daysInFebruary(i[n[u]])||i[n[e]]>b[i[n[o]]])?!1:!0}function daysInFebruary(n){return n%4==0&&(!(n%100==0)||n%400==0)?29:28}function DaysArray(n){for(var t=1;t<=n;t++)this[t]=31,(t==4||t==6||t==9||t==11)&&(this[t]=30),t==2&&(this[t]=29);return this}function isEmpty(n){return n.match(/^s+$/)||n==""?!0:!1}function checkTime(n){var t;if(!isEmpty(n))if(t=n.match(/^(\d{1,2}):(\d{2})([ap]m)?$/),t){if(t[3]){if(t[1]<1||t[1]>12)return!1}else if(t[1]>23)return!1;if(t[2]>59)return!1}else return!1;return!0}var showModal=function(n){n.w.show()},closeModal=function(n){n.w.hide().attr("aria-hidden","true");n.o&&n.o.remove()},createResourceProject=function(n,t){var w=$("<div class='ui-state-default' style='height: 24px;'><span id='headerId' class='xp-padding-6' style='font-weight:bold;'>Create new Item and share master data<\/span><\/div>"),l=$("<div  id='dialog' class='reverselink-dialog  ui-widget ui-widget-content ui-corner-all xp-PopupBorder' title='reverse link tool'/>"),u=$("<div  class='xp-FloatLeft xp-Width tab-main'/>"),a=$("<div  class='xp-FloatLeft xp-Width xp-TabBottomBorder ui-jqdialog-titlebar  ui-corner-all'/>"),v=$("<ul class='xp-TopNav reverseTool' />"),tt=$("<div class='xp-FloatLeft xp-Width'/>"),it=$("<div id='tabs-1' class='xp-MarginTop-10 xp-FloatLeft xp-Width'/>"),rt=$("<div class='xp-FloatLeft xp-Width'/>"),ut=$("<div class='xp-FloatLeft xp-Width20'/>"),ft=$("<label class='xp-Padding-6 xp-FloatLeft' >Title<\/label>"),et=$("<div class='xp-FloatLeft xp-Width70'/>"),ot=$("<div class='xp-Padding-6'>"),st=$("<input autocomplete='off' type='text' class='' />"),ht=$("<label class='xp-MarginLeft-5 xp-LightFont'>(Trainer)<\/label>"),ct=$("<span class='error titleError' id='titleErMsg' ><\/span>"),lt=$("<div class='xp-FloatLeft xp-Width'/>"),at=$("<div class='xp-FloatLeft xp-Width20'/>"),vt=$("<label class='xp-Padding-6 xp-FloatLeft' >Description<\/label>"),yt=$("<div class='xp-FloatLeft xp-Width70'/>"),pt=$("<div class='xp-Padding-6'/>"),wt=$("<textarea><\/textarea>"),y=$("<div class='xp-ClearBoth xp-Width xp-MarginTop-10  xp-MarginBottom-10'/>"),f=$("<div class='xp-Padding-6'/>"),o="<div class='ui-state-default'><p id='msg' class='xp-padding-6'><\/p><\/div>",h,r,i,c,d;f.html(o);y.append(f);var p=$("<div class='xp-ClearBoth xp-Width'/>"),s=$("<div class='xp-Padding-6 text-right'/>"),b=$("<button id='clikOk' class='fm-button ui-primarytabclr ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-disk'><\/span>OK<\/button>"),k=$("<button id='clickCancel' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-close'><\/span>Cancel<\/button>");p.append(s);s.append(b);s.append(k);h=$("<div class='xp-FloatLeft xp-Width descDiv' id='aa'  >");for(r in n.LifecycleDetails)n.LifecycleDetails.hasOwnProperty(r)&&(v.append($(" <li><a class='tab ui-state-default' style='' href='#"+r+"'>"+n.LifecycleDetails[r]+"<\/a><\/li>")),i="<div id="+r+" class='xp-MarginTop-10 xp-FloatLeft xp-Width desc'  >",i+="<div class='xp-FloatLeft xp-Width'>",i+="<div class='xp-FloatLeft xp-Width20'>",i+="<label class='xp-Padding-6 xp-FloatLeft' >Title<span style='color:red'>*<\/span><\/label>",i+="<\/div>",i+="<div class='xp-FloatLeft xp-Width70'>",i+="<div class='xp-Padding-6'>",i+="<input autocomplete='off' type='text' class='' id='title_"+r+"' />",i+="<label class='xp-MarginLeft-5 xp-LightFont'>("+n.LifecycleDetails[r]+")<\/label>",i+="<\/div>",i+="<\/div>",i+="<div class='xp-FloatLeft xp-Width'>",i+="<span class='error titleError' style='margin-left:160px;' id='titleErMsg_"+r+"' ><\/span>",i+="<\/div>",i+="<div class='xp-FloatLeft xp-Width'>",i+="<div class='xp-FloatLeft xp-Width20'>",i+="<label class='xp-Padding-6 xp-FloatLeft' >Description<\/label>",i+="<\/div>",i+="<div class='xp-FloatLeft xp-Width70'>",i+="<div class='xp-Padding-6' >",i+="<textarea id='description_"+r+"'><\/textarea>",i+="<\/div>",i+="<\/div>",i+="<\/div>",i+="<\/div>",i+="<\/div>",h.append($(i)));a.append(v);u.append(w);u.append(a);u.append(h);u.append(y);u.append(p);l.append(u);c=$(n.projectDescription).text();d=t.replace("#gview","#lui");l.insertAfter("#load_SDReverseLinkedLC_FlexGrid");$(".descDiv > div:first-child").nextAll().hide();var e=$(".descDiv > div:first-child").attr("id"),g=$(".tab").attr("href").split("#"),nt=g[1];e==nt&&($(".reverseTool > li").first().children().addClass("ui-primarytabclr").removeClass("ui-state-default"),$("#title_"+e).val(n.projectTitle),$("#description_"+e).val(c),$.ajax({url:"/_layouts/IImpact.Web/"+n.serviceName+".asmx/GetSelectedTabInfo",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{contentType:'"+e+"',projectId:'"+n.trackerID+"'}",success:function(n){var t=n.d.m_ToolName;f.html(o);$("#msg").append(t)}}));$(".tab").click(function(t){$(".reverseTool").children().each(function(){$(this).children().removeClass("ui-primarytabclr").addClass("ui-state-default")});$(this).addClass("ui-primarytabclr");var i=$(this).attr("href"),u=i.split("#"),i="#"+u[1],r=i.replace("#","");$("#title_"+r).val(n.projectTitle);$("#description_"+r).val(c);$.ajax({url:"/_layouts/IImpact.Web/"+n.serviceName+".asmx/GetSelectedTabInfo",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{contentType:'"+r+"',projectId:'"+n.trackerID+"'}",success:function(n){var t=n.d.m_ToolName;f.html(o);$("#msg").append(t)}});$(".desc").hide();$(i).show();t.preventDefault()});$("#clikOk").click(function(i){var r;i.preventDefault();$(".reverseTool").children().each(function(){var i=$(this).children().attr("href"),n,t;$(this).children("a").hasClass("ui-primarytabclr")&&(n=$(this).children().attr("href"),t=n.split("#"),r=t[1])});var u=$("#title_"+r).val(),f=$("#title_"+r).next().text(),e=$("#description_"+r).val();u==""&&$("#titleErMsg_"+r).css("display","block").html("Title is required");u!=""&&($("#titleErMsg_"+r).css("display","none"),$.ajax({url:"/_layouts/XPointBase/pages/BaseCreateProjectHandler.aspx/SaveNewToolProjectItem",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{projectTitle:'"+u+" "+f+"',description:'"+e+"',contentType:'"+r+"',projectID:'"+n.trackerID+"'}",error:function(){$("#titleErMsg_"+r).css("display","block").html("A project with this name already exists.")},success:function(i){var u,f;$(".reverselink-dialog").append("<div class='xpNextOverlay'><div id='relayAjaxLoading'><div class='xp-Width xp-TextAlignCenter xp-Height100' style='top: 10%;left: 0px;margin-top:10px;'><img src='/_layouts/Images/XPointProjectSpace/Xploader.gif' style='z-index:1111;text-align:center;width:100px;position:absolute; top:30%;left:40%;'/><\/div><\/div><\/div>");u=jQuery.parseJSON(i.d);u.CreatedProjectID==-1?($("#titleErMsg_"+r).css("display","block").html("A project with this name already exists."),$("#xpNextOverlay").remove()):u.RetStatus==0?($("#titleErMsg_"+r).css("display","block").html("A project with this name already exists."),$("#xpNextOverlay").remove()):(f=$.urlParam("trackerId"),$.ajax({url:"/_layouts/IImpact.Web/"+n.serviceName+".asmx/SaveSDReverseLinkedLC",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",async:!1,data:"{TrackerID:'"+u.CreatedProjectID+"',CurrentTrackerID:'"+f+"'}",success:function(){$("#dialog").remove();var n=t.replace("#gview_","table#"),i=t.replace("#gview","#lui");$(n).trigger("reloadGrid");$(i).hide()}}))}}))});$.urlParam=function(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t[1]};$("#clickCancel").click(function(n){n.preventDefault();$("#dialog").remove();$("#lui_SDReverseLinkedLC_FlexGrid").hide()})},createNewIdea=function(n,t){var s=$("<span class='error titleError' id='titleError' ><\/span>"),h=$("<span class='error accessError' id='accessError'>Please select Access level<\/span>"),c=$("<div id='dialog-overlay'><\/div>"),o=$("<div id='dialog-box'><\/div>"),i=$("<div class='dialog-content'><\/div>"),r=$("<p><\/p>"),l=$("<label>Title<span style='color:red'>*<\/span><\/label>"),a=$("<input autocomplete='off' type='text' id='projTitle' />"),f=$("<p><\/p>"),v=$("<label>Description<\/label>"),y=$("<textarea id='projDescription' ><\/textarea>"),u=$("<p><\/p>"),p=$("<label>Access<span style='color:red'>*<\/span><\/label>"),w=$("<select id='accessID'><option value=''><\/option><option value='public'>Public<\/option><option value='private'>Private<\/option><\/select>"),e=$("<p><\/p>"),b=$("<button id='okButton' class='fm-button ui-primarytabclr ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-disk'><\/span>OK<\/button>"),k=$("<button id='cancelButton' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-close'><\/span>Cancel<\/button>");r.append(l);r.append(a);r.append(s);f.append(v);f.append(y);u.append(p);u.append(w);u.append(h);e.append(k);e.append(b);i.append(r);i.append(f);i.append(u);i.append(e);o.append(i);$("#aspnetForm").append(o);$("#aspnetForm").append(c);$("#okButton").click(function(i){var r,u,f;i.preventDefault();r=$.trim($("#projTitle").val());u=$("#accessID").val();r==""?$("#titleError").css("display","block").html("Title is required"):$("#titleError").css("display","none");u==""?$("#accessError").css("display","block"):$("#accessError").css("display","none");r!=""&&u!=""&&(f=$("#projDescription").val(),$("#okButton").html("Processing..."),$.ajax({url:"/_layouts/IImpact.Web/"+n.serviceName+".asmx/CreateNewProjectWithReverseLink",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{projectTitle:'"+r+"',projectID:'"+n.trackerID+"',description:'"+f+"',access:'"+u+"'}",success:function(n){var i,r,u;n.d&&(i=n.d,i.m_IsProjectExist===!0?($("#titleError").css("display","block").html(i.m_Message),$("#okButton").html("OK")):(r=t.replace("#gview_","table#"),u=t.replace("#gview_","#editmod"),$(r).trigger("reloadGrid"),$("#titleError").css("display","none"),$("#dialog-overlay").remove(),$("#dialog-box").remove(),$(u).hide(),$(".jqgrid-overlay").hide()))}}))});$("#cancelButton").click(function(n){n.preventDefault();$("#sigmadialog-overlay").remove();$("#sigmadialog-box").remove()})},createXbarChartModal=function(n,t,i,r,u){if(n!="_empty")$.ajax({url:"/_layouts/IImpact.Web/NGHA/SigmaChartService.asmx/GetSamples",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{rowId:'"+n+"'}",success:function(t){var i=t.d;showXBarChartPopup(n,i,u)}});else showXBarChartPopup(n,[],u)},showXBarChartPopup=function(n,t,i){var pt=$("<span class='error titleError' id='titleEr' ><\/span>"),wt=$("<span class='error accessError' id='accessEr'>Please select Access level<\/span>"),g=$("<div id='sigmadialog-overlay'><\/div>"),l=$("<div id='sigmadialog-box'><\/div>"),r=$("<div class='dialog-content'><\/div>"),a=$("<p><\/p>"),v=$("<p id='dateTag' />").css("width","150px").css("font-size","15px"),y=$("<p id='timeTag' />").css("width","150px").css("font-size","15px"),nt=$("<span id='dateLabelId'>Date<\/span><input id='dateInputId' autocomplete='off' class='xp-EmptyClickToEdit' style='font-size:10pt' placeholder='Required Field' />"),tt=$("<span>Time<\/span><input id='timeInputId' class='timepicker' autocomplete='off'/>"),u=$("<div/>").css("width","100%").css("height","50px").css("border-bottom","1px solid #e4e6e8"),it=$("<span >Sample<\/span>").css("width","130px").css("margin","3px").css("margin-top","10px").css("font-size","15px"),rt=$("<span>Measure<\/span>").css("width","110px").css("margin","3px").css("margin-top","10px").css("font-size","15px"),f=$("<p/>"),e=$("<table id='popupTableId' />"),o=$("<tr id='newRow_1'/>"),p=$("<td id='firstSampleId'/>"),w=$("<td id='firstMeasureColumn' />"),ut=$("<label class='sampleInput' id='newSampleInput_1' >Sample 1<\/label>").css("width","136px").css("font-size","11px"),ft=$("<input class='measureInput' id='newMeasureInput_1' type='number' autocomplete='off'/>").css("width","130px"),b=$("<p><\/p>"),et=$("<span id='addMore'>Add more<\/span>").css("text-decoration","underline").css("cursor","pointer").css("font-size","11px"),s=$("<p><\/p>"),ot=$("<button id='okButton' class='fm-button ui-primarytabclr ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-disk'><\/span>OK<\/button>"),st=$("<button id='cancelButton' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-close'><\/span>Cancel<\/button>"),k=0,d,h;if(n=="_empty"&&(p.append(ut),w.append(ft),o.append(p),o.append(w),e.append(o)),t!=null&&(d=t.length,$(t).each(function(n){k=k+n+2;var o=n+1,i=$("<tr  id='newRow_"+t[n].xbarChartPopupItemId+"' />"),r=$("<td id='newSampleCol_"+t[n].xbarChartPopupItemId+"'/>").css("width","130px"),u=$("<td id='newMeasureCol_"+t[n].xbarChartPopupItemId+"'/>").css("width","130px"),s=$("<label class='sampleInput' id='newSampleInput_"+t[n].xbarChartPopupItemId+"'  >Sample"+o+"<\/label>").css("width","130px"),h=$("<input autocomplete='off' class='measureInput'  id='newMeasureInput_"+t[n].xbarChartPopupItemId+"' type='number' value='"+t[n].measure+"' />").css("width","130px"),f=$("<td class ='deleClass' id='"+t[n].xbarChartPopupItemId+"' >"),c=$("<span>X<\/span>").css("cursor","pointer");r.append(s);u.append(h);f.append(c);i.append(r);i.append(u);d>1&&i.append(f);e.append(i)})),v.append(nt),y.append(tt),u.append(v),u.append(y),f.append(it),f.append(rt),a.append(e),b.append(et),s.append(st),s.append(ot),r.append(u),r.append(f),r.append(a),r.append(b),r.append(s),l.append(r),$("#gview_ctl00_PlaceHolderMain_LifeCycleContainerWebPartZone_SigmaChart_FlexGrid").append(l),$("#gview_ctl00_PlaceHolderMain_LifeCycleContainerWebPartZone_SigmaChart_FlexGrid").append(g),$("input.timepicker").timepicker({change:function(n){var i=$(this),t,r=i.timepicker();t=r.format(n);i.siblings("span.help-line").text(t);h=t}}),$("#dateInputId").datepicker({dateFormat:"M dd, yy"}).css("width","129px").css("float","left").css("margin","3px"),$("#timeInputId").css("width","129px").css("float","left").css("margin","3px"),$("span").css("float","left"),$("#dateTag").css("width","130px").css("float","left").css("margin","3px"),$("#timeTag").css("width","130px").css("float","left").css("margin","3px"),t!=""){var ht=t[0].dateTimePick.substr(6),c=new Date(parseInt(ht)),ct=c.getMonth()+1,lt=["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"][ct-1],at=c.getDate(),vt=c.getFullYear(),yt=lt+" "+at+","+vt;$("input[id='dateInputId']").val(yt);$("input[id='timeInputId']").val(t[0].timeStamp);$(".deleClass").click(function(){var n=$(this).attr("id");$.ajax({url:"/_layouts/IImpact.Web/NGHA/SigmaChartService.asmx/DeleteSample",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{sampleId:'"+n+"'}",success:function(t){var r=t.d,i;r=="Success"&&($("table#popupTableId tr#newRow_"+n).remove(),i=$("#popupTableId tr").length,i==1&&$(".deleClass").hide(),$("#popupTableId >tbody >tr").each(function(n){var t=n+1;$(this).find("label[class='sampleInput']").text("Sample "+t)}))}})})}$("#addMore").click(function(){var i=!1,n;if($("#popupTableId input[type='number']").each(function(){$(this).val()==""&&(i=!0)}),i===!1){n=$("#popupTableId >tbody >tr").length+1;var t=$("<tr  id='newRow_"+n+"' />"),r=$("<td id='newSampleCol_"+n+"'/>").css("width","130px"),u=$("<td id='newMeasureCol_"+n+"'/>").css("width","130px"),e=$("<label class='sampleInput' id='newSampleInput_"+n+"' >Sample "+n+"<\/label>").css("width","130px").css("font-size","11px"),o=$("<input autocomplete='off' class='measureInput' id='newMeasureInput_"+n+"' type='number' />").css("width","130px").css("width","130px").css("font-size","11px"),f=$("<td  class='newEmptyRowClass' id ='"+n+"'  />"),s=$("<span>X<\/span>").css("cursor","pointer");r.append(e);u.append(o);f.append(s);t.append(r);t.append(u);t.append(f);$("#popupTableId").append(t)}$(".newEmptyRowClass").click(function(){var n=$(this).attr("id");$("table#popupTableId tr#newRow_"+n).remove();$("#popupTableId >tbody >tr").each(function(n){var t=n+1;$(this).find("label[class='sampleInput']").text("Sample "+t)})})});$("#cancelButton").click(function(n){n.preventDefault();$("#sigmadialog-overlay").remove();$("#sigmadialog-box").remove();$(".jqgrid-overlay").hide()});$("#okButton").click(function(t){var r,l,s,c;t.preventDefault();var u="",f=[],e={},o;$("#ctl00_PlaceHolderMain_LifeCycleContainerWebPartZone_SPCChartControl_FlexGrid >tbody >tr").each(function(){o=$("tr[aria-selected='true']").attr("id")});r=$("input[id='dateInputId']").val();h=$("input[id='timeInputId']").val();$("#popupTableId > tbody > tr ").each(function(t){$(this).find("input,number").each(function(){$(this).attr("id").indexOf("newSampleInput_")>=0?l=$(this).attr("id"):$(this).attr("id").indexOf("newMeasureInput_")>=0&&(s=$(this).attr("id"))});newVal=t+1;u=$("#"+s).val();f.push({measure:u,spcItemId:o,itemRowId:n,timeStamp:h,dateTimePick:r});e.sampleData=f});c=JSON.stringify(e);r==""?$("#dateLabelId").append("<span style='font-size:11px;Color:#ff0000'>*<\/span>"):$.ajax({url:"/_layouts/IImpact.Web/NGHA/SigmaChartService.asmx/SaveSample",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:c,success:function(n){var u=n.d,t,r;u=="Success"&&(t=i.replace("#gview_","table#"),r=i.replace("#gview_","#editmod"),$(t).trigger("reloadGrid"),$("#titleError").css("display","none"),$("#sigmadialog-overlay").remove(),$("#sigmadialog-box").remove(),$(r).hide(),$(".jqgrid-overlay").hide())}})})},createModal=function(n,t,i,r,u,f){var e=document.createElement("div"),o,s,h,c;if(e.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog xp-PopupBorder",e.id=n.themodal,o=document.createElement("div"),o.className="ui-jqdialog-titlebar  ui-corner-all ui-helper-clearfix",o.id=n.modalhead,jQuery(o).append("<span class='ui-jqdialog-title'>"+i.caption+"<\/span>"),i.funcAlt==="True"&&jQuery(o).append("<span id='createNewIdea'>[+]<\/span>"),s=jQuery("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all' style='right:0.3em'><\/a>").hover(function(){s.addClass("ui-state-hover")},function(){s.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'><\/span>"),jQuery(o).append(s),h=document.createElement("div"),jQuery(h).addClass("ui-jqdialog-content ui-widget-content").attr("id",n.modalcontent),jQuery(h).append(t),e.appendChild(h),jQuery(e).prepend(o),f===!0?jQuery("body").append(e):jQuery(e).insertBefore(r),typeof i.jqModal=="undefined"&&(i.jqModal=!0),jQuery.fn.jqm&&i.jqModal===!0&&i.left==0&&i.top==0&&(c=[],c=findPos(u),i.left=c[0]+4,i.top=c[1]+4),jQuery("a.ui-jqdialog-titlebar-close",o).click(function(){var t=jQuery("#"+n.themodal).data("onClose")||i.onClose,r=jQuery("#"+n.themodal).data("gbox")||i.gbox;return hideModal("#"+n.themodal,{gb:r,jqm:i.jqModal,onClose:t}),!1}),i.width!=0&&i.width||(i.width=300),i.height!=0&&i.height||(i.height=200),i.zIndex||(i.zIndex=1250),jQuery(e).css({top:i.top+"px",left:i.left+"px",width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"}).attr({tabIndex:"-1",role:"dialog","aria-labelledby":n.modalhead,"aria-hidden":"true"}),typeof i.drag=="undefined"&&(i.drag=!0),typeof i.resize=="undefined"&&(i.resize=!0),i.drag)if(jQuery(o).css("cursor","move"),jQuery.fn.jqDrag)jQuery(e).jqDrag(o);else try{jQuery(e).draggable({handle:jQuery("#"+o.id)})}catch(l){}if(i.resize)if(jQuery.fn.jqResize)jQuery(e).append("<div class='jqResize ui-resizable-handle ui-resizable-se'><\/div>"),jQuery("#"+n.themodal).jqResize(".jqResize",n.scrollelm?"#"+n.scrollelm:!1);else try{jQuery(e).resizable({handles:"se",alsoResize:n.scrollelm?"#"+n.scrollelm:!1});jQuery(e).removeClass("ui-icon jqResize ui-resizable-handle ui-resizable-s")}catch(l){}i.closeOnEscape===!0&&jQuery(e).keydown(function(t){if(t.which==27){var r=jQuery("#"+n.themodal).data("onClose")||i.onClose;hideModal(this,{gb:i.gbox,jqm:i.jqModal,onClose:r})}});$("#createNewIdea").hover(function(n){n.preventDefault();$("#createNewIdea").prepend("<span id='tooltip' class='icontooltip'>Add new<br> "+i.contentType+"<span class='arrowImg'><\/span><\/span>").show()},function(){$("#tooltip").remove()});$("#createNewIdea").click(function(){createNewIdea(i,r)})},viewModal=function(n,t){if(t=jQuery.extend({toTop:!0,overlay:10,modal:!1,onShow:showModal,onHide:closeModal,gbox:"",jqm:!0,jqM:!0,isalert:!1},t||{}),t.isalert&&$(n).css({top:$(t.gbox).offset().top+25}),jQuery.fn.jqm&&t.jqm==!0)t.jqM?jQuery(n).attr("aria-hidden","false").jqm(t).jqmShow():jQuery(n).attr("aria-hidden","false").jqmShow();else{t.gbox!=""&&(jQuery(".jqgrid-overlay:first",t.gbox).show(),jQuery(n).data("gbox",t.gbox));jQuery(n).show().attr("aria-hidden","false");try{jQuery(":input:visible",n)[0].focus()}catch(i){}}},hideModal=function(n,t){if(t=jQuery.extend({jqm:!0,gb:""},t||{}),t.onClose){var i=t.onClose(n);if(typeof i=="boolean"&&!i)return}if(jQuery.fn.jqm&&t.jqm===!0)jQuery(n).attr("aria-hidden","true").jqmHide();else{if(t.gb!="")try{jQuery(".jqgrid-overlay:first",t.gb).hide()}catch(r){}jQuery(n).hide().attr("aria-hidden","true");jQuery(".ui-timepicker-container").hide()}};
/*
//# sourceMappingURL=grid.common.min.js.map
*/
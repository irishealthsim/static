(function(n){n.fn.Ecoach=function(t){function h(){n("#activatetour").remove();n("#endtour,#restarttour").show();!i.autoplay&&u>1&&n("#nextstep").show();y();r()}function r(){if(i.autoplay||(i.step>0?n("#prevstep").show():n("#prevstep").hide(),i.step==u-1?n("#nextstep").hide():n("#nextstep").show()),i.step>=u)return f(),!1;++i.step;o()}function c(){if(i.autoplay||(i.step>2?n("#prevstep").show():n("#prevstep").hide(),i.step==u&&n("#nextstep").show()),i.step<=1)return!1;--i.step;o()}function f(){i.step=0;i.autoplay&&clearTimeout(showtime);s();v();p()}function l(){i.step=0;i.autoplay&&clearTimeout(showtime);r()}function o(){var c,a,y;s();c=e[i.step-1];a=n("."+c.name);i.autoplay&&(showtime=setTimeout(r,c.time));var b=c.bgcolor,k=c.color,t=n("<div>",{id:"tour_tooltip",className:"tooltip",html:"<p>"+c.text+'<\/p><span class="tooltip_arrow"><\/span>'}).css({display:"none","background-color":b,color:k}),u={},d=c.position;n("BODY").prepend(t);var l=a.outerWidth(),h=a.outerHeight(),o=a.offset().left,f=a.offset().top;switch(d){case"TL":u={left:o,top:f+h+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_TL");break;case"TR":u={left:o+l-t.width()+"px",top:f+h+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_TR");break;case"BL":u={left:o+"px",top:f-t.height()+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_BL");break;case"BR":u={left:o+l-t.width()+"px",top:f-t.height()+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_BR");break;case"LT":u={left:o+l+"px",top:f+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_LT");break;case"LB":u={left:o+l+"px",top:f+h-t.height()+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_LB");break;case"RT":u={left:o-t.width()+"px",top:f+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_RT");break;case"RB":u={left:o-t.width()+"px",top:f+h-t.height()+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_RB");break;case"T":u={left:o+l/2-t.width()/2+"px",top:f+h+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_T");break;case"R":u={left:o-t.width()+"px",top:f+h/2-t.height()/2+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_R");break;case"B":u={left:o+l/2-t.width()/2+"px",top:f-t.height()+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_B");break;case"L":u={left:o+l+"px",top:f+h/2-t.height()/2+"px"};t.find("span.tooltip_arrow").addClass("tooltip_arrow_L")}var p=n(window).scrollTop(),w=n(window).scrollTop()+n(window).height(),v=parseFloat(u.top,10);f<v&&(v=f);y=parseFloat(u.top,10)+t.height();f+h>y&&(y=f+h);v<p||v>w||y<p||y>w?n("html, body").stop().animate({scrollTop:v},500,"easeInOutExpo",function(){autoplay&&(clearTimeout(showtime),showtime=setTimeout(r,c.time));t.css(u).show()}):t.css(u).show()}function s(){n("#tour_tooltip").remove()}function a(){var t='<div id="tourcontrols" class="tourcontrols">';t+="<p>First time here?<\/p>";t+='<span class="button" id="activatetour">Start the tour<\/span>';i.autoplay||(t+='<div class="nav"><span class="button" id="prevstep" style="display:none;">< Previous<\/span>',t+='<span class="button" id="nextstep" style="display:none;">Next ><\/span><\/div>');t+='<a id="restarttour" style="display:none;">Restart the tour<\/span>';t+='<a id="endtour" style="display:none;">End the tour<\/a>';t+='<span class="close" id="canceltour"><\/span>';t+="<\/div>";n("BODY").prepend(t);n("#tourcontrols").animate({right:"30px"},500)}function v(){n("#tourcontrols").remove()}function y(){n("BODY").prepend('<div id="tour_overlay" class="overlay"><\/div>')}function p(){n("#tour_overlay").remove()}var i=n.extend({autoplay:!1,showtime:"",step:0},t),e=[{name:"tour_1",bgcolor:"black",color:"white",position:"T",text:"Check out your Project Type",time:500},{name:"tour_10",bgcolor:"black",color:"white",position:"BL",text:"Here you can change your password",time:500}],u=e.length;return n("#activatetour").live("click",h),n("#canceltour").live("click",f),n("#endtour").live("click",f),n("#restarttour").live("click",l),n("#nextstep").live("click",r),n("#prevstep").live("click",c),this.each(function(){var t=n(this);a(t)})}})(jQuery);
/*
//# sourceMappingURL=xpoint.ecoach.min.js.map
*/
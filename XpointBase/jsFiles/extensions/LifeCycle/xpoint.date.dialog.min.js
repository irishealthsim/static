(function(n){n.fn.datedialog=function(t){function e(i){var u=n("#"+f.attr("id")+"actionimg"),e;u.length==0&&(u=n("<div  id='"+f.attr("id")+"actionimg' title='"+t.action+"' ><\/div>").attr("class",t.iconUrl).click(function(){o(i);r.dialog("open")}));e=n("<div class='xp-FloatLeft xp-HoverCursor xp-Margin-0' />").append(u).prependTo(f)}function o(){var e,o,f;return r.length>0&&(r.children().remove(),r.remove()),e=t.buttonText.split(","),$errorp=n("<div id='"+i.validateinput+"' class='xp-ErrorMsg'><\/div>"),$errorp.hide(),$errorp.append(t.errorMessage),o=n("<div />"),f="",r=n("<div id='actiondialog' title='"+t.action+"' />"),r.append($errorp),f+="<table border=0  cellspacing=0 cellpadding=6><tbody>",f+="<tr><td class='xp-FontBold'>"+t.message+"<\/td><\/tr>",f+="<tr><td>"+t.param1+"<\/td>",f+="<td><input type='text' id='"+i.selectdate+"'/>",f+="<\/td><\/tr><\/tbody><\/table>",f+="<\/tbody><\/table>",o.append(f),r.append(o),n("body").append(r),n("#"+i.selectdate).datepicker({dateFormat:"M dd,yy",minDate:0,selectDefaultDate:!1}),r.dialog({autoOpen:!1,width:450,bgiframe:!1,modal:!0,buttons:[{text:e[0],id:i.primarybutton,click:function(){selectedDate=new Date(n("#"+i.selectdate).datepicker("getDate"));selectedDate=n.datepicker.formatDate("M dd,yy",selectedDate);n("#"+i.selectdate).val()==""?$errorp.show():(n("#"+i.primarybutton).attr("disabled",!0),n("#"+i.secondarybutton).attr("disabled",!0),n.relayloading("show"),n.ajax({url:t.serviceUrl+t.serviceName,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{trackerid:'"+t.trackerid+"',date:'"+selectedDate+"'}",success:function(t){var f=t.d;f.Status=="success"?window.location.reload(!1):(n("#"+i.primarybutton).attr("disabled",!1),n("#"+i.secondarybutton).attr("disabled",!1),n.relayloading("hide"),u.html(f.Message),u.show(),n("#"+i.errimage+"errordiv").focus(),r.dialog("close"))}}))}},{text:e[1],id:i.secondarybutton,click:function(){n("#"+i.selectdate).datepicker("destroy");n(this).dialog("close")}}],close:function(){n("#"+i.selectdate).datepicker("destroy")}}),r}var t=n.extend({action:"",iconUrl:"",serviceUrl:"/_layouts/IImpact.Web/",serviceName:"",message:"",buttonText:"Proceed,Cancel",errorMessage:"Select a date",param1:"",param2:"",param3:"",trackerid:""},t),f=n(this),r=n("#actiondialog"),i={errimage:n(this).attr("id")+"xpointerrorimageid",selectdate:n(this).attr("id")+"xpointselectdate",primarybutton:n(this).attr("id")+"primarybuttonid",secondarybutton:n(this).attr("id")+"secondarybuttonid"},u=n("#"+i.errimage+"errordiv");return u=n("<div id= '"+i.errimage+"errordiv' class='xp-ErrorMsg'/>"),u.hide(),n(n(".xp-PhaseActivitydiv").parents().get(0)).prepend(u),u.hide(),u.html(""),this.each(function(){this.options=t;var i=n(this);e(i)})}})(jQuery);
/*
//# sourceMappingURL=xpoint.date.dialog.min.js.map
*/
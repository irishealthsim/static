(function(n){n.fn.textareadialog=function(t){function e(r){var u=n("#"+f.attr("id")+"actionimg"),e;u.length==0&&(u=n("<div  id='"+f.attr("id")+"actionimg' title='"+t.action+"' ><\/div>").attr("class",t.iconUrl).click(function(){o(r);i.dialog("open")}));e=n("<div class='xp-FloatLeft xp-CursorPointer xp-Margin-0' />").append(u).prependTo(f)}function o(){var e,o,f;return i.length>0&&(i.children().remove(),i.remove()),e=t.buttonText.split(","),$errorp=n("<div id='"+r.validateinput+"' class='xp-ErrorMsg xp-FloatLeft'/>"),$errorp.append(t.errorMessage),o=n("<div />"),f="",i=n("<div id='actiondialog' title='"+t.action+"' />"),i.append($errorp),f+="<div class='xp-FloatLeft xp-Width ' ><table border=0 width=100% cellspacing=0 cellpadding=6><tbody>",f+="<tr><td>"+t.message+"<\/td><\/tr>",f+="<tr><td><textarea id= 'textentered' rows='3' cols='65'><\/textarea><\/td><\/tr>",f+="<\/tbody><\/table><\/div>",o.append(f),i.append(o),n("body").append(i),i.dialog({autoOpen:!1,width:"auto",bgiframe:!1,modal:!0,buttons:[{text:e[0],id:r.primarybutton,click:function(){var f=n("#textentered").val().replace("'","");f==""?$errorp.show():(n("#"+r.primarybutton).attr("disabled",!0),n("#"+r.secondarybutton).attr("disabled",!0),n.relayloading("show"),n.ajax({url:t.serviceUrl+t.serviceName,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{trackerid:'"+t.trackerid+"', reason:'"+f+"'}",success:function(t){var f=t.d;f.Status=="success"?window.location.reload(!1):(n("#"+r.primarybutton).attr("disabled",!1),n("#"+r.secondarybutton).attr("disabled",!1),n.relayloading("hide"),u.html(f.Message),u.show(),n("#"+r.errimage+"errordiv").focus(),i.dialog("close"))}}))}},{text:e[1],id:r.secondarybutton,click:function(){n.relayloading("hide");n(this).dialog("close")}}]}),i}var t=n.extend({action:"",iconUrl:"",serviceUrl:"/_layouts/IImpact.Web/",serviceName:"",message:"",buttonText:"Proceed,Cancel",errorMessage:"",param1:"",param2:"",param3:"",trackerid:""},t),f=n(this),i=n("#actiondialog"),r={errimage:n(this).attr("id")+"xpointerrorimageid",validateinput:n(this).attr("id")+"xpointvalidateinputid",primarybutton:n(this).attr("id")+"primarybuttonid",secondarybutton:n(this).attr("id")+"secondarybuttonid"},u=n("#"+r.errimage+"errordiv");return u=n("<div id= '"+r.errimage+"errordiv' class='xp-ErrorMsg'/>"),u.hide(),n(n(".xp-PhaseActivitydiv").parents().get(0)).prepend(u),u.hide(),u.html(""),this.each(function(){this.options=t;var i=n(this);e(i)})}})(jQuery);
/*
//# sourceMappingURL=xpoint.textarea.dialog.min.js.map
*/
(function(n){n.fn.duplicateLifecycle=function(t){function e(t){n(".ui-widget-overlay").length==0&&n(".ui-widget-overlay").css("display","block");o(t);i.dialog("open");var r=n("<div class='xp-FloatLeft xp-HoverCursor xp-Margin-0' />").append($actionImg).prependTo(f),r=n("<div class='xp-FloatLeft xp-HoverCursor xp-Margin-0' />").append($actionImg).prependTo(f)}function o(){i.length>0&&(i.children().remove(),i.remove());$errorp=n("<div id='"+r.validateinput+"' class='xp-ErrorMsg xp-FloatLeft'/>");$errorp.append(t.errorMessage);var e=n("<div />"),f="";return i=n("<div id='actiondialog' title='Duplicate the Item' />"),i.append($errorp),f+="<div class='xp-FloatLeft xp-Width'><table id='mainTableId' border=0 width=100% cellspacing=0 cellpadding=6><tbody>",f+="<tr><td id='messageId' >"+t.message+"<\/td><\/tr>",f+="<\/tbody><\/table><\/div>",e.append(f),i.append(e),n("body").append(i),i.dialog({autoOpen:!1,width:"450px",bgiframe:!1,modal:!0,buttons:[{text:"Duplicate",id:r.primarybutton,click:function(){n(".ui-dialog-buttonset").hide();n("#messageId").empty();n(".xp-IconLCDuplicate").css("display","none");n(".ui-dialog-title").empty();n(".ui-dialog-title").text("Duplicating the Item");n(".ui-icon-closethick").hover(function(){n(this).css("cursor","pointer").attr("title","Duplictaing the item is underway. You can click here to close the window and continue with other tasks. Once the process for duplication is completed then we will update you on home page. Else hang on here")},function(){n(this).css("cursor","auto")});n("#messageId").text("Duplication is underway and will take a few minutes.");n("#mainTableId").append(n("<tr><td><center><img src='/_layouts/IMAGES/Xpointbase/xpoint-progress-bar.gif' width='350px'/><\/center><\/td><\/tr>"));n("#"+r.primarybutton).attr("disabled",!0);n("#"+r.secondarybutton).attr("disabled",!0);n.ajax({url:t.serviceUrl+"Duplicate",contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{trackerid:'"+t.trackerid+"'}",success:function(t){var f=t.d;f!=""?(n(".ui-dialog-title").text("Success - the Item is Duplicated!"),n("#mainTableId").empty(),n("#mainTableId").append(n("<p>The duplicate item can be accessed here:<\/p>")),n("#mainTableId").append(n("<p style='font-size:20px;'>"+f+"<\/p>")),n(".xp-IconLCDuplicate").css("display","block")):(n("#"+r.primarybutton).attr("disabled",!1),n("#"+r.secondarybutton).attr("disabled",!1),n.relayloading("hide"),u.html(f.Message),u.show(),n("#"+r.errimage+"errordiv").focus(),i.dialog("close"))}})}},{text:"Cancel",id:r.secondarybutton,click:function(){n.relayloading("hide");n(this).dialog("close")}}]}),i}var t=n.extend({iconUrl:"",serviceUrl:"/_layouts/IImpact.Web/LifeCycleService.asmx/",message:"Duplication will take a few minutes as all the data is moved across. You will be notified when it is done.",trackerid:""},t),f=n(this),i=n("#actiondialog"),r={errimage:n(this).attr("id")+"xpointerrorimageid",primarybutton:n(this).attr("id")+"primarybuttonid",secondarybutton:n(this).attr("id")+"secondarybuttonid"},u=n("#"+r.errimage+"errordiv");return u=n("<div id= '"+r.errimage+"errordiv' class='xp-ErrorMsg'/>"),u.hide(),n(n(".xp-PhaseActivitydiv").parents().get(0)).prepend(u),u.hide(),u.html(""),this.each(function(){this.options=t;var i=n(this);e(i)})}})(jQuery);
/*
//# sourceMappingURL=xpoint.duplicatelifecycle.min.js.map
*/
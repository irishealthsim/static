(function(n){n.xpointLifecycleUpdates=n.xpointLifecycleUpdates||{};n.fn.xpointLifecycleUpdates=function(t){var r,u,i;if(!this||this.length!=0)return typeof t=="object"?(r=this,u=r.get(0),t=n.extend(n.xpointLifecycleUpdates.defaults,t),u.options=t,n.xpointLifecycleUpdates.methods.init.call(r,t)):n.xpointLifecycleUpdates.methods[t]?(i=n.data(document,"lifecycleUpdatesOptions"),i=n.extend(i,Array.prototype.slice.call(arguments,1)),n.xpointLifecycleUpdates.methods[t].apply(this,n.makeArray(i))):void 0};n.xpointLifecycleUpdates={defaults:{trackerId:"",title:"Recent Activities",page:1,needPage:!0,numberOfUpdates:10},ids:{viewMoreLink:"viewMoreLink"},paths:{getLifecyleUpdatesServicePath:"/_vti_bin/XPointBase/UpdatesService.svc/getLifecycleUpdates"},methods:{init:function(t){var i=this,r=n.makeArray(t);n.xpointLifecycleUpdates.methods.createHtml.apply(i,r)},createHtml:function(t){var r=n(this),u=n("<div class='xp-Width98 xp-MarginAuto xp-ClearBoth xp-DisplayInlineBlock xp-BorderBottom'>"),i=n("<div class='xp-FloatLeft xp-Padding-4 ui-secondarytabclr ui-corner-all xp-MarginBottom-10' ><\/div>");i.append("<div class='xp-FloatLeft xp-PaddingRight-5 xp-Icon xp-IconRecentActivity'>");i.append("<\/div>");i.append("<div class='xp-FloatLeft xp-PaddingRight-5 xp-FontBold xp-FontSize13pt'>"+t.title+"<\/div>");i.append("<\/div>");u.append(i);r.append(u);n.xpointLifecycleUpdates.methods.getUpdates(r,t)},getUpdates:function(t,i){n.ajax({type:"GET",dataType:"json",url:n.xpointLifecycleUpdates.paths.getLifecyleUpdatesServicePath,data:{trackerId:i.trackerId,numberofUpdates:i.numberOfUpdates,page:i.page,needPage:i.needPage},success:function(r){var u=r.GetLifecycleUpdatesResult,f,e;n(u.Data).each(function(){n.xpointTemplates.methods.getBasicPostHtml.call(t,this,i,null,null,!1)});u.NeedPage===!0&&(f=n("#"+n.xpointLifecycleUpdates.ids.viewMoreLink+"_Container"),f.remove(),u.TotalCount>u.PageSize*u.Page&&(f=n("<div id='"+n.xpointLifecycleUpdates.ids.viewMoreLink+"_Container' class='xp-FloatLeft xp-Width ui-state-default xp-HoverCursor xp-TextAlignCenter ui-corner-all xp-MarginTop-5' />"),f.appendTo(t),e=n("<a id='"+n.xpointLifecycleUpdates.ids.viewMoreLink+"' class='xp-nothers xp-PositionRelative xp-LinkLabel xp-HoverCursor Tip-HPUpdatesViewMore xp-Height-20 xp-LineHeight-35' >View More<\/a>").appendTo(f).click(function(){var r=i;r.page=u.Page+1;n.xpointLifecycleUpdates.methods.getUpdates(t,r)})))}})}}}})(jQuery);
/*
//# sourceMappingURL=xpoint.lifecycleUpdates.min.js.map
*/
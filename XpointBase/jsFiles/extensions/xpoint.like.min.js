(function(n){n.xpointLike=n.xpointLike||{};n.fn.xpointLike=function(t){this.options=n.extend(n.xpointLike.defaults,t);n.xpointLike.methods.init.apply(this,n.makeArray(this.options))};var t;n.xpointLike={defaults:{componentId:"",isLiked:!1,likeImage:"xp-IconLcUnlike xp-Icon-Highlight",unlikeImage:"xp-IconLcLike xp-Icon-Highlight ",serviceUrl:""},paths:{toggleLikeUrl:"ToggleLike",getLikesCountUrl:"GetTotalLikesCount",isLikedUrl:"IsLiked"},ids:{likeImage:"xpointLikeImage",likeIcon:"xpointLikeIcon"},methods:{init:function(i){t=n(this);n.xpointLike.methods.createHtml.apply(t,n.makeArray(i))},ajaxCall:function(t,i){if(t){var r={contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{componentId:'"+i.componentId+"'}"};r=n.extend(r,t);n.ajax(r)}},toggleLike:function(t){n("#"+n.xpointLike.ids.likeIcon).click(function(){var i={url:t.serviceUrl+n.xpointLike.paths.toggleLikeUrl,success:function(i){var r=i.d,u={url:t.serviceUrl+n.xpointLike.paths.getLikesCountUrl,success:function(t){n(".xp-LikesCount").text(t.d)}};n.xpointLike.methods.ajaxCall(u,t);t.isLiked=r.Message=="Liked"?!0:!1;n.xpointLike.methods.setImage(t)}};n.xpointLike.methods.ajaxCall(i,t)})},setImage:function(t){var u=n("#"+n.xpointLike.ids.likeImage),i,r;t.isLiked==!0?(i=t.likeImage,r="Unlike"):(i=t.unlikeImage,r="Like");u.attr("class",i).attr("title",r)},createHtml:function(i){var u="<div id='"+n.xpointLike.ids.likeIcon+"'><span class='xp-HoverCursor'><div id='"+n.xpointLike.ids.likeImage+"'><\/div><\/span><\/div>",r;t.append(u);r={url:i.serviceUrl+n.xpointLike.paths.isLikedUrl,success:function(t){i.isLiked=t.d;n.xpointLike.methods.setImage(i);n.xpointLike.methods.toggleLike(i)}};n.xpointLike.methods.ajaxCall(r,i)}}}})(jQuery);
/*
//# sourceMappingURL=xpoint.like.min.js.map
*/
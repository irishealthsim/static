function decodeHtml(n){return n=="&nbsp;"||n=="&#160;"||n.length==1&&n.charCodeAt(0)==160?"":n?String(n).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"'):n}(function(n){n.fn.peoplepicker=function(t){function r(n){var i="",t;switch(n.OnlineStatus.toLowerCase()){case"active":i=" xp-IconOnline xp-Icon-Highlight ";break;case"inactive":case"offline":i=" xp-IconOffline xp-Icon-Highlight "}return t="<div style='height:36px;padding-bottom:0px;' class='xp-Width '>",t+="<div class='xp-FloatLeft' style='width:16%;padding-top:2px'><img src='"+n.ImageUrl+"' style='width:30px;height:35px' />",t+="<\/div>",t+="<div class='xp-FloatLeft' style='width:74%;padding-left:2px;'>",t+="<div style='width:99%;' class='xp-FontNormal'>",t+=n.Name,t+="<\/div>",t+="<div style='width:99%;font-size:10px;line-height:12px;' class='xp-FontLite'>",t+=n.Department+","+n.Function,t+="<\/div>",t+="<div style='width:99%;;font-size:10px;line-height:12px;' class='xp-FontLite'>",t+=n.Geography,t+="<\/div>",t+="<\/div>",t+="<div class='xp-FloatLeft' style='width:6%;padding-left:2px;'\t <div class='"+i+"  xp-DisplayNone' ><\/div>",t+="<\/div>",t+"<\/div>"}function u(n){return n.replace(/(<.+?>)/gi,"")}var i={direction:"bottom",searchurl:"/_layouts/IImpact.Web/ChatService.asmx/SearchUsers",groupUsersUrl:"/_vti_bin/XPointBase/ProfileService.svc/GroupUsers",css:"",altcss:"",chatenabled:!1,multiple:!1,isMultiEntry:!1,resultcontainer:n(this).attr("id")+"ppResultCont",onsubmitpopulate:!1,selectcontainerid:"",prePopulate:{},multivalued:!1,direction:"bottom",inputlimit:-1,needformat:!1,left:4,width:250},t=n.extend(i,t);return t.multiple||(t.inputlimit=1),t=n.extend(i,t),t.isMultiEntry=t.multiple,t.multivalued!=null&&(t.multiple=t.multivalued),n(this).val(""),this.each(function(){var i,f;t.needformat&&(i={},t.prePopulate!=""&&n.each(t.prePopulate.split(","),function(t){var r=this,u,f;r!=null&&n.trim(r).length!=0&&(u=r.split("!")[0],f=r.split("!")[1],u!=null&&f!=null&&(i[t]={id:u,name:f},t++))}),t.prePopulate=i);t.chatenabled?(t.direction="top",t.formatItem=r,t.formatResult=u,n(this).autocomplete(t.searchurl,t)):(n(this).val(),f=n(this).tokenInput(t.searchurl,{prePopulate:t.prePopulate,inputlimit:t.inputlimit,chatenabled:t.chatenabled,width:t.width,isMultiEntry:t.isMultiEntry,groupUsersUrl:t.groupUsersUrl}))})};n.fn.viewProfile=function(t){function o(){n("#"+t.containerid).length==0?(i=n("<div id='"+t.containerid+"'  style='z-index:9999899;' />"),i.addClass("xp-DivBorder"),u=n("<div id='"+t.containerid+"body' />"),i.append(u),i.css("position","absolute"),i.hide(),currentparent=n(r).parents().get(0),n("body").append(i)):(u=n("'#"+t.containerid+"body'"),i=n("'#"+t.containerid+"'"))}function s(){i!=null&&i.length>0&&i.fadeIn()}function e(){i!=null&&i.length>0&&i.remove()}function h(n){if(xOffset=120,yOffset=-20,i!=null&&i.length>0){var u,f,t=r.offset();u=t.top-i.outerHeight()/2;f=t.left+r.width()+20;i.css("top",n.pageY-xOffset+"px").css("left",n.pageX+yOffset+"px")}}function c(n){var t=/\\/gim,i=t.exec(n);return n.replace(t,"\\\\")}function l(i){var l,v,y,a;if(f=!0,r.addClass(""),l=t.profile,v=" , ",l==null)n.ajax({mode:"abort",port:"viewprofilecomplete"+t.username,url:t.getprofileurl,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{username:'"+c(t.username)+"'}",success:function(n){var t=n.d,c,r;if(t!=null){e();o();c="";switch(t.OnlineStatus.toLowerCase()){case"active":c=" xp-IconOnline xp-Icon-Highlight ";break;case"inactive":case"offline":c=" xp-IconOffline xp-Icon-Highlight "}(t.Function==""||t.Department=="")&&(v="");r="<div style='postion:relative;display:block'>";r+="<img src='/_layouts/Images/XPointBase/border_Design.png' />";r+="<table border='0' cellspacing=0 cellpadding=0 style='position:relative;margin:0px 4px 4px 8px;'>";r+="<tr><td rowspan='4' valign='top' style='padding-top:4px;' ><div  class='"+c+" xp-DisplayNone' ><\/div><\/td><td class='xp-FontBold' style='color:#FFFFFF;font-size:12pt;padding:0px 4px 8px 4px;position:relative;top:0px;vertical-align:top!important;'> "+t.Name+"<\/td><td rowspan='3' valign='middle' align='center'> <img src='"+t.ImageUrl+"' width='70px' height='75px' class='pngddd' /> <\/td><\/tr>";r+="<tr><td  class='xp-Font' style='padding:0px 4px 0px 4px;'>"+t.Function+v+t.Department+"<\/td><\/tr>";r+="<tr><td  class='xp-Font' style='padding:0px 0px 8px 4px' valign='top'>"+t.Geography+"<\/td><\/tr>";r+="<tr><td colspan='2' class='xp-Font' >"+t.Email+"<\/td><\/tr>";r+="<\/table>";r+="<\/div>";f&&u!=null&&(u.html(r),s(),h(i))}},error:function(){}});else{e();o();r.addClass("ui-state-hover");y="";switch(l.OnlineStatus.toLowerCase()){case"active":y=" xp-IconOnline xp-Icon-Highlight ";break;case"inactive":case"offline":y=" xp-IconOffline xp-Icon-Highlight "}(l.Function==""||l.Department=="")&&(v="");a="<div>";a+="<img src='/_layouts/Images/XPointBase/border_Design.png' />";a+="<table border='0' cellspacing=0 cellpadding=0 style='position:relative;margin:0px 4px 4px 8px;'>";a+="<tr><td rowspan='4' valign='top' style='padding-top:4px;'><div class='"+y+" xp-DisplayNone' ><\/div><\/td><td class='xp-FontBold' style='color:#FFFFFF;font-size:12pt;padding:0px 4px 8px 4px;position:relative;top:0px;vertical-align:top!important;'> "+l.Name+"<\/td><td rowspan='3' valign='middle' align='center'> <img src='"+l.ImageUrl+"' width='70px' height='75px' class='pngddd' /> <\/td><\/tr>";a+="<tr><td  class='xp-Font' style='color:#FFFFFF;padding:0px 4px 0px 4px;'>"+l.Function+v+l.Department+"<\/td><\/tr>";a+="<tr><td  class='xp-Font' style='color:#FFFFFF;padding:0px 0px 8px 4px' valign='top'>"+l.Geography+"<\/td><\/tr>";a+="<tr><td colspan='2' class='xp-Font' style='color:#FFFFFF'>"+l.Email+"<\/td><\/tr>";a+="<\/table>";a+="<\/div>";f&&u!=null&&(u.html(a),s(),h(i))}}function a(){f=!1;r.removeClass("ui-state-hover");e()}var r,i,u,f;return t=n.extend({getprofileurl:"",username:"",parentcontainer:"",containerid:"Popupviewprofile",profile:null},t),r=n(this),f=!1,this.each(function(){r.hover(l,a)})};n.fn.tokenInput=function(t,i){var r=n.extend({url:t,hintText:"Find user here",noResultsText:"No results",searchingText:"Searching...",searchDelay:300,minChars:1,tokenLimit:null,jsonContainer:null,method:"GET",contentType:"json",queryParam:"q",inputlimit:-1,onResult:null,hasfocus:!1,width:250,scrollheight:169,showhint:!1},i);return r.inputlimit!=-1&&(r.tokenLimit=r.inputlimit),r.classes=n.extend({tokenList:"token-input-list xp-TxtBox",token:"token-input-token xp-FontBold",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown xp-FontNormal",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token",focusClass:"has-focus"},i.classes),this.each(function(){var t=new n.TokenList(this,r);this.GetCurrentIds=function(){t.GetCurrentIds()};this.GetCurrentTokens=function(){t.GetCurrentTokens()};this.ValidTokenCount=function(){t.validtokencount()}})};n.TokenList=function(t,i){function et(){var t,r,u;if(li_data=i.prePopulate,li_data)for(t in li_data)r=n("<li><p>"+li_data[t].name+"<\/p><\/li>").addClass(i.classes.token).insertBefore(s),n("<span>x<\/span>").addClass(i.classes.tokenDelete).appendTo(r).click(function(){return b(n(this).parent()),!1}),n.data(r.get(0),"tokeninput",{id:li_data[t].id,name:li_data[t].name}),y++,f.val("").focus(),a(),i.tokenLimit!=null&&i.tokenLimit>=y&&(f.hide(),n(f.parent().get(0)).hide()),u=li_data[t].id.replace("\\","_")+";",c.val(c.val()+u)}function ot(n){return n>=48&&n<=90||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222?!0:!1}function p(t,i){var r=n(t.target),u=null;return r.is(i)?u=r:r.parent(i).length?u=r.parents(i+":first"):r.parents(i).length&&(u=r.parents(i+":first")),u}function st(t,r){var u=n("<li><p>"+r+"<\/p><\/li>").addClass(i.classes.token).insertBefore(s);return n("<span>x<\/span>").addClass(i.classes.tokenDelete).appendTo(u).click(function(){return b(n(this).parent()),!1}),n.data(u.get(0),"tokeninput",{id:t,name:r}),u}function tt(t){var r=n.data(t.get(0),"tokeninput");r.isGroup?n.getJSON(i.groupUsersUrl+"?id="+r.itemId+"&format=true",function(t){t=n.parseJSON(t.GroupUsersResult);n.each(t,function(){it({id:this.UserLoginName,name:this.UserName})})}):it(r)}function it(t){st(t.id,t.name);f.val("").focus();a();var r=t.id+";";c.val(c.val()+r);y++;i.tokenLimit!=null&&i.tokenLimit>=y&&(f.hide(),n(f.parent().get(0)).hide(),a())}function w(n){n.addClass(i.classes.selectedToken);r=n.get(0);f.val("");a()}function v(n,t){n.removeClass(i.classes.selectedToken);r=null;t==h.BEFORE?s.insertBefore(n):t==h.AFTER?s.insertAfter(n):s.appendTo(o);f.focus()}function ht(t){r==t.get(0)?v(t,h.END):(r&&v(n(r),h.END),w(t))}function b(t){var s=n.data(t.get(0),"tokeninput");t.remove();r=null;f.focus();var u=c.val(),e=u.indexOf(s.id+";"),o=u.indexOf(";",e)+1;o>=u.length?c.val(u.slice(0,e)):c.val(u.slice(0,e)+u.slice(o,u.length));y--;i.tokenLimit!=null&&(f.show().val("").focus(),n(f.parent().get(0)).show())}function a(){l.hide().empty();e=null}function ct(){l.html("<p>"+i.searchingText+"<\/p>").show()}function lt(){i.inputlimit!=-1?d()<i.inputlimit&&l.html("<p>"+i.hintText+"<\/p>").show():l.html("<p>"+i.hintText+"<\/p>").show()}function at(n,t){return n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1<\/b>")}function vt(n,t){var u="",r,i;switch(n.OnlineStatus.toLowerCase()){case"active":u=" xp-IconOnline xp-Icon-Highlight ";break;case"inactive":case"offline":u=" xp-IconOffline xp-Icon-Highlight "}return n.Department!=""&&n.Function!=""?r=n.Department+","+n.Function:n.Department==""?r=n.Function:n.Function==""&&(r=n.Department),i="<div style='height:36px;padding-bottom:0px;' class='xp-Width'>",i+="<div class='xp-FloatLeft' style='width:16%;padding-top:2px'><img src='"+n.ImageUrl+"' style='width:30px;height:35px' />",i+="<\/div>",i+="<div class='xp-FloatLeft' style='width:74%;padding-left:2px;'>",i+="<div style='width:99%;' class=xp-FontNormal>",i+=at(n.Name,t),i+="<\/div>",i+="<div style='width:99%;font-size:10px;line-height:12px;' class='xp-FontLite'>",i+=r,i+="<\/div>",i+="<div style='width:99%;;font-size:10px;line-height:12px;' class='xp-FontLite'>",i+=n.Geography,i+="<\/div>",i+="<\/div>",i+="<div  class='xp-FloatLeft' style='width:6%;'> <div class='"+u+" xp-DisplayNone' ><\/div>",i+="<\/div>",i+"<\/div>"}function rt(t,r){var s,h,c,u,o;if(r.length){l.empty();s=f.attr("id");h="";h=r.length<4?"<ul  id='"+s+"_dropdown'/>":"<ul  id='"+s+"_dropdown'  style='height:"+i.scrollheight+"px;overflow-x:hidden; overflow-y: auto;'/>";c=n(h).appendTo(l).mouseout(function(){i.hasfocus=!1}).click(function(){return i.hasfocus=!1,e?(tt(n(e)),!1):void 0}).mouseover(function(n){i.hasfocus=!0;k(p(n,"li"))}).mousedown(function(){return!1}).hide();for(u in r)(i.isMultiEntry||!r[u].IsGroup)&&r.hasOwnProperty(u)&&(o=n("<li>"+vt(r[u],t)+"<\/li>").appendTo(c),u%2?o.addClass(i.classes.dropdownItem):o.addClass(i.classes.dropdownItem2),u==0&&k(o),n.data(o.get(0),"tokeninput",{id:r[u].UserName,name:r[u].Name,itemId:r[u].ID,isGroup:r[u].IsGroup}));l.show();c.slideDown("fast")}else l.html("<p>"+i.noResultsText+"<\/p>").show()}function k(t){t&&(e&&yt(n(e)),t.addClass(i.classes.selectedDropdownItem),e=t.get(0))}function yt(n){n.removeClass(i.classes.selectedDropdownItem);e=null}function ut(t){var u=f.val().toLowerCase();u&&u.length&&(r&&v(n(r),h.AFTER),u.length>=i.minChars?(ct(),t?ft(u):(clearTimeout(nt),nt=setTimeout(function(){ft(u)},i.searchDelay))):a())}function ft(t){var r=g.get(t);if(r&&r.length>0)rt(t,r);else{var e=i.url.indexOf("?")<0?"?":"&",u=function(r){n.isFunction(i.onResult)&&(r=i.onResult.call(this,r));g.add(t,i.jsonContainer?r[i.jsonContainer]:r);rt(t,i.jsonContainer?r[i.jsonContainer]:r)},f=window.location.search.substring(1).split("=");n.ajax({mode:"abort",port:"viewprofilecomplte"+t,url:i.url,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:"{"+i.queryParam+":'"+t+"',itemType:'"+f[1]+"'}",success:function(n){var t=n.d;t!=null&&u(t)}})}}function d(){var t=0,i=0;return n.each(o.children(),function(){var r=n.data(o.children().get(i),"tokeninput");r!=null&&t++;i++}),t}function pt(){var i={},t=0;return n.each(o.children(),function(){var r=n.data(o.children().get(t),"tokeninput");r!=null&&(i[t]=r);t++}),i}function wt(){var i={},t=0;return n.each(o.children(),function(){var r=n.data(o.children().get(t),"tokeninput");r!=null&&(i[t]=r.id);t++}),i}var h={BEFORE:0,AFTER:1,END:2},u={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188},y=0,g=new n.TokenList.Cache,nt,f=n('<input type="text">').css({outline:"none"}).focus(function(){i.showhint==!0&&lt()}).blur(function(){i.hasfocus||a()}).keydown(function(t){var f,o,c,l;switch(t.keyCode){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:if(n(this).val())return c=null,c=t.keyCode==u.DOWN||t.keyCode==u.RIGHT?n(e).next():n(e).prev(),c.length&&k(c),!1;f=s.prev();o=s.next();f.length&&f.get(0)===r||o.length&&o.get(0)===r?t.keyCode==u.LEFT||t.keyCode==u.UP?v(n(r),h.BEFORE):v(n(r),h.AFTER):(t.keyCode==u.LEFT||t.keyCode==u.UP)&&f.length?w(n(f.get(0))):(t.keyCode==u.RIGHT||t.keyCode==u.DOWN)&&o.length&&w(n(o.get(0)));break;case u.BACKSPACE:if(f=s.prev(),n(this).val().length)n(this).val().length==1?a():setTimeout(function(){ut(!1)},5);else return r?b(n(r)):f.length&&w(n(f.get(0))),!1;break;case u.TAB:case u.RETURN:case u.COMMA:if(e)return tt(n(e)),!1;break;case u.ESC:return a(),!0;default:if(l=!0,i.inputlimit!=-1&&d()==i.inputlimit)return l=!1,!1;l&&ot(t.keyCode)&&setTimeout(function(){ut(!1)},5)}}),c=n(t).bind("resetpp",function(){if(o)return n.each(o.children(),function(){var t=n(this);n.data(t.get(0),"tokeninput")&&b(t)}),!1}).hide().focus(function(){f.focus()}).blur(function(){f.blur()}),r=null,e=null,o=n("<ul />").width(i.width).addClass(i.classes.tokenList).insertAfter(c).click(function(t){var i=p(t,"li");if(i&&i.get(0)!=s.get(0))return ht(i),!1;f.focus();r&&v(n(r),h.END)}).mouseover(function(n){var t=p(n,"li");t&&r!==this&&t.addClass(i.classes.highlightedToken)}).mouseout(function(n){var t=p(n,"li");t&&r!==this&&t.removeClass(i.classes.highlightedToken)}).mousedown(function(n){var t=p(n,"li");if(t)return!1}),l=n("<div>").addClass(i.classes.dropdown).insertAfter(o).hide(),s=n("<li />").addClass(i.classes.inputToken).appendTo(o).append(f);et();n.fn.extend(t,{PeopleIds:function(){return wt()},PeopleTokens:function(){return pt()},PeopleValidTokenCount:function(){return d()}})};n.TokenList.Cache=function(t){var u=n.extend({max_size:50},t),i={},r=0,f=function(){i={};r=0};this.add=function(n,t){r>u.max_size&&f();i[n]||r++;i[n]=t};this.get=function(n){return i[n]}};n.fn.RemoveRichText=function(){return this.each(function(){n(this).get(0).tagName=="TEXTAREA"?tinymce.remove("#"+n(this).attr("id")):n("textarea",this).each(function(){tinymce.remove("#"+n(this).attr("id"))})})};n.fn.SaveRichtextbox=function(){return this.each(function(){tinymce.get(n(this).attr("id")).save()})};n.fn.EmailBox=function(t){function r(n){i.emailBox+=n;i.person+=n;i.subject+=n;i.emailBody+=n}function u(n){n.empty();var t="";t+="<table border='0' width='97%' cellspacing='0' cellpadding='6'><tbody>";t+="<tr><td valign='top' width='10%'>To:<\/td>";t+="<td style='width:258px'><input id='"+i.person+"' autocomplete='off'><\/input><\/td>";t+="<td style='width:100px;' valign=top>Use Template: <\/td>";t+="<td style='width:140px;' valign=top><label class='xp-CustomLabel'><select id='"+i.emailTemplate+"' style='width:140px;overflow:hidden;' ><\/select><\/label><\/td>";t+="<\/tr><tr><td valign=top>Subject:<\/td><td colspan=3><input type=text name=Subject id='"+i.subject+"' autocomplete='off' style='width:70%' class='xp-TxtBox'/><\/td><\/tr><tr><td valign=top> <\/td><td colspan=3>";t+="<textarea name='body' id='"+i.emailBody+"' cols='80'><\/textarea><\/td><\/tr>";t+="<\/tbody><\/table>";n.html(t)}function f(){n.ajax({url:"/_layouts/IImpact.Web/AdminEMailTemplateService.asmx/GetEMailTemplateItems",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",success:function(t){var u=t.d,r;u&&(r={},n.each(u,function(){var t=this,u=n("<option value='"+t.templateID+"'>"+t.title+"<\/option>");n("#"+i.emailTemplate).append(u);r[t.templateID]={title:t.title,subject:t.eMailSubject,body:t.eMailBody}}),n("#"+i.emailTemplate).change(function(){n("#"+i.subject).val(r[n(this).val()].subject);tinyMCE.get("emailBodyemailLinkemailTeam").setContent(r[n(this).val()].body)}))}})}var i={emailBox:"emailBox",person:"personInput",subject:"subjectInput",emailBody:"emailBody",emailTemplate:"emailTemaplate"},t=n.extend({url:"",defaultusers:{},dialogTitle:"Send Email",allowMultiple:!1,updateUsers:!1,getUsersUrl:"",itemId:"",emailSubject:""},t);return this.each(function(){var e=n(this);r(e.attr("id"));e.click(function(r){var e=n("#"+i.emailBox),o=n("#"+i.person),h=n("#"+i.subject),s=n("#"+i.emailBody);e.length>0&&e.remove();e=n("<div id='"+i.emailBox+"' title='Compose Email'/>").hide();u(e);f();n("body").append(e);var o=n("#"+i.person),h=n("#"+i.subject),s=n("#"+i.emailBody),c=n([]).add(o).add(h).add(s);return e.dialog({autoOpen:!1,width:750,height:410,bgiframe:!1,modal:!0,buttons:{Send:function(){tinyMCE.triggerSave();var i={team:o.val(),subject:h.val(),body:s.val()+t.emailPredefinedBody},r={post:i};n.ajax({url:t.url,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:n.toJSON(r),success:function(){e.dialog("close")}})},Cancel:function(){n(this).dialog("close")}},open:function(){s.RelayRichText()},close:function(){tinymce.remove("#"+s.attr("id"));c.val("")}}),h.val("["+t.senderName+"]"+t.emailSubject),t.updateUsers=="True"?n.ajax({url:t.getUsersUrl,dataType:"json",type:"POST",async:!1,contentType:"application/json; charset=utf-8",data:"{itemId:'"+t.itemId+"'}",success:function(n){o.peoplepicker({multiple:t.allowMultiple,prePopulate:n.d,needformat:!0});r.stopImmediatePropagation()}}):o.peoplepicker({multiple:t.allowMultiple,prePopulate:t.defaultusers,needformat:!0}),e.dialog("open"),n(".ui-widget-overlay").css("z-index","999"),e.css("z-index","1111"),!1})})};n.fn.RelayRichText=function(t){return this.each(function(){tinymce.init({menubar:!1,statusbar:!1,autoresize_min_height:150,autoresize_max_height:300,plugins:"textcolor, image, link, paste, autolink, autoresize",image_list:"/_vti_bin/XPointBase/ImagesService.svc/getImages",toolbar:"undo redo bold italic underline strikethrough alignleft aligncenter alignright  richtextFontSize forecolor backcolor "+((t?!!t.imageEnabled:!1)?" image ":" ")+"bullist numlist outdent indent styleselect",style_formats:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}],setup:n.createSetupOptions,selector:"#"+n(this).attr("id")})})};n.createSetupOptions=function(t){function i(i,r,u){return function(){var f=this;t.on("nodeChange",function(e){var s=t.formatter,o=null;n.each(e.parents,function(t,u){return n.each(i,function(n,t){return r?s.matchNode(u,r,{value:t.value})&&(o=t.value):s.matchNode(u,t.value)&&(o=t.value),o?!1:void 0}),o?!1:void 0});f.value(o?o:u)})}}t.addButton("richtextFontSize",function(){var r=[],u=t.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return n.each(u.split(" "),function(n,t){var u=t,f=t,i=t.split("=");i.length>1&&(u=i[0],f=i[1]);r.push({text:u,value:f})}),{type:"listbox",text:"8pt",tooltip:"Font Sizes",values:r,fixedWidth:!1,onPostRender:i(r,"fontsize","8pt"),onclick:function(n){n.control.settings.value&&t.execCommand("FontSize",!1,n.control.settings.value)}}})}})(jQuery);var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,n=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(u,f,e){var h=dateFormat;if(arguments.length!=1||Object.prototype.toString.call(u)!="[object String]"||/\d/.test(u)||(f=u,u=undefined),u=u?new Date(u):new Date,isNaN(u))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]);f.slice(0,4)=="UTC:"&&(f=f.slice(4),e=!0);var o=e?"getUTC":"get",c=u[o+"Date"](),y=u[o+"Day"](),l=u[o+"Month"](),p=u[o+"FullYear"](),s=u[o+"Hours"](),w=u[o+"Minutes"](),b=u[o+"Seconds"](),a=u[o+"Milliseconds"](),v=e?0:u.getTimezoneOffset(),k={d:c,dd:n(c),ddd:h.i18n.dayNames[y],dddd:h.i18n.dayNames[y+7],m:l+1,mm:n(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(p).slice(2),yyyy:p,h:s%12||12,hh:n(s%12||12),H:s,HH:n(s),M:w,MM:n(w),s:b,ss:n(b),l:n(a,3),L:n(a>99?Math.round(a/10):a),t:s<12?"a":"p",tt:s<12?"am":"pm",T:s<12?"A":"P",TT:s<12?"AM":"PM",Z:e?"UTC":(String(u).match(i)||[""]).pop().replace(r,""),o:(v>0?"-":"+")+n(Math.floor(Math.abs(v)/60)*100+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return f.replace(t,function(n){return n in k?k[n]:n.slice(1,n.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(n,t){return dateFormat(this,n,t)};Date.prototype.formatDate=function(n,t){return dateFormat(this,n,t)};
/*
//# sourceMappingURL=relay.extensions.min.js.map
*/
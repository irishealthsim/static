var g,JSGantt;(function(n){function c(i,r){var o="child_"+i,u=JSGantt.findObj(o);if(u){var l=n("#contentmain").scrollTop(),s=n(u).position().top,h=n(u.cells[1]).width()+5,c=s,a=n("#cMenu ul").children(),f=JSGantt.getTask(r,t.g),e=f.getContentType();e=="TaskGroupContentType"||e=="ShortcutContentType"?(n("#DeleteTaskItem").show(),f.getMile()==!0?(n("#AddTaskItem").hide(),n("#LinkTaskItem").hide()):(n("#AddTaskItem").show(),n("#LinkTaskItem").show()),n("#EditTaskItem").show()):(n("#EditTaskItem").hide(),n("#DeleteTaskItem").hide());n(".GVHoverMenu")[0].id=r;n(".GVHoverMenu").css("left",h-14);n(".GVHoverMenu").css("top",c+32);n.browser.safari=/webkit/.test(navigator.userAgent.toLowerCase());n(".GVHoverMenu").css("border","none");n(".GVHoverMenu:hidden").show();n(".GVHoverMenu #cMenu").hide()}}function l(n,t){switch(t){case"LinkTaskItem":u(n,a);break;case"AddTaskItem":u(n,y);break;case"EditTaskItem":u(n,p);break;case"DeleteTaskItem":u(n,v)}}function a(i){var u=i.d,r=n("#"+t.gridID);r.setGridParam({targetLinkID:u.m_Id});r[0].p.postData.trackerLinkID=u.m_Id;r[0].p.postData.contentTypeFilter=t.contentTypeFilter;r.trigger("reloadGrid");n("#"+t.linker).dialog("open")}function v(i){var r=i.d;n("#"+t.controlids.DelItemId).text(r.m_Id);n("#"+t.controlids.DelDiv).dialog("open")}function y(i){var r=i.d,u=new Date,f=new Date;n("#"+t.controlids.AddDiv).data("title.dialog",r.m_Title);n("#"+t.controlids.AddItemId).text(r.m_Id);n("#"+t.controlids.AddTitleDiv).val("New Task Item");n("#"+t.controlids.AddStartDatePicker).val(n.datepicker.formatDate("M dd,yy",u)).bind("keypress",function(){return!1});n("#"+t.controlids.AddEndDatePicker).val(n.datepicker.formatDate("M dd,yy",f)).bind("keypress",function(){return!1});n("#"+t.controlids.AddEndDatePicker).datepicker("destroy");n("#"+t.controlids.AddEndDatePicker).datepicker({beforeShowDay:n.datepicker.noWeekends,dateFormat:"M dd,yy"});n("#"+t.controlids.AddStartDatePicker).datepicker("destroy");n("#"+t.controlids.AddStartDatePicker).datepicker({beforeShowDay:n.datepicker.noWeekends,dateFormat:"M dd,yy"});n("#"+t.controlids.AddOwnerDiv).val("");n("#"+t.controlids.AddDiv).dialog("open")}function p(i){var r=i.d,f=new Date(r.m_StartDate),e=new Date(r.m_DueDate),u;n("#"+t.controlids.EditDiv).data("title.dialog",r.m_Title);n("#"+t.controlids.EditItemId).text(r.m_Id);n("#"+t.controlids.EditTitleDiv).val(n("<div/>").html(r.m_Title).text());n("#"+t.controlids.EditStartDatePicker).val(n.datepicker.formatDate("M dd,yy",f)).bind("keypress",function(){return!1});n("#"+t.controlids.EditEndDatePicker).val(n.datepicker.formatDate("M dd,yy",e)).bind("keypress",function(){return!1});n("#"+t.controlids.EditEndDatePicker).datepicker("destroy");n("#"+t.controlids.EditEndDatePicker).datepicker({beforeShowDay:n.datepicker.noWeekends,dateFormat:"M dd,yy"});n("#"+t.controlids.EditStartDatePicker).datepicker("destroy");n("#"+t.controlids.EditStartDatePicker).datepicker({beforeShowDay:n.datepicker.noWeekends,dateFormat:"M dd,yy"});n("#"+t.controlids.EditOwnerDiv).val(r.m_Owner);n("#"+t.controlids.EditPercentCompleteDiv).html("&nbsp;"+r.m_PercentComplete+"%");u=n("#"+t.controlids.EditSliderDiv).slider({min:0,max:100,step:5,value:r.m_PercentComplete,slide:function(i,r){n("#"+t.controlids.EditPercentCompleteDiv).html("&nbsp;"+r.value+"%")}});u.slider("value",r.m_PercentComplete);n("#"+t.controlids.EditTaskStatusDiv).val(r.m_Status);r.m_Children!=null&&r.m_Children.length>0?(n("#"+t.controlids.EditSliderDiv).slider("option","disabled",!0),n("#"+t.controlids.EditEndDatePicker).attr({disabled:!0}),n("#"+t.controlids.EditStartDatePicker).attr({disabled:!0}),n("#"+t.controlids.EditTaskStatusDiv).attr({disabled:!0})):(n("#"+t.controlids.EditSliderDiv).slider("option","disabled",!1),n("#"+t.controlids.EditEndDatePicker).removeAttr("disabled"),n("#"+t.controlids.EditStartDatePicker).removeAttr("disabled"),n("#"+t.controlids.EditTaskStatusDiv).removeAttr("disabled"));n("#"+t.controlids.EditDiv).dialog("open")}var t,f,w,o;n.fn.ganttViewer=function(i){var f={trackerid:"",classification:"",serviceurl:"/_layouts/IImpact.Web/GanttViewerService.asmx",ganttchartdiv:"GanttChartDIV",renderingduration:"day",incolumnediting:0,linker:"",openTasks:[],statusoptions:""};return this.each(function(){var a=n(this),d,w,e,tt,nt,h,v,c,y,o,p,b,k;a.addClass("ganttenabled xp-PositionRelative");d=a.parent();t=n.extend(f,i||{});t.ganttchartdiv=a.attr("id");t.controlids={EditItemId:n(this).attr("id")+"ganttIdDiv",EditDiv:n(this).attr("id")+"ganttViewerOuterEditDiv",EditTitleDiv:n(this).attr("id")+"ganttViewerTitleDiv",EditTaskStatusDiv:n(this).attr("id")+"ganttViewerEditStatus",EditStartDatePicker:n(this).attr("id")+"ganttViewerStartDateDiv",EditEndDatePicker:n(this).attr("id")+"ganttViewerEndDatePicker",EditSliderDiv:n(this).attr("id")+"ganttViewerEditSlider",EditOwnerDiv:n(this).attr("id")+"ganttViewerEditOwner",EditPercentCompleteDiv:n(this).attr("id")+"ganttEditPercentComplete",AddItemId:n(this).attr("id")+"ganttAddIdDiv",AddDiv:n(this).attr("id")+"ganttViewerOuterAddDiv",AddTitleDiv:n(this).attr("id")+"ganttAddViewerTitleDiv",AddStartDatePicker:n(this).attr("id")+"ganttAddViewerStartDateDiv",AddEndDatePicker:n(this).attr("id")+"ganttAddViewerEndDatePicker",AddOwnerDiv:n(this).attr("id")+"ganttViewerAddOwner",DelDiv:n(this).attr("id")+"ganttViewerOuterDelDiv",DelItemId:n(this).attr("id")+"ganttViewerDelIdDiv"};t.ContentTypes={0:"PartialContentType",1:"SuperQuickWinContentType",2:"QuickWinContentType",3:"BaseTaskContentType",4:"PhaseContentType",5:"TaskGroupContentType"};t.CTypeColor=["0000ff","00ffff","1E90FF","E9967A","FF8C00","A0522D"];w=n("#"+t.ganttchartdiv);w.css({"max-width":w.width()});w.css({overflow:"hidden"});t.g=new JSGantt.GanttChart("g",document.getElementById(t.ganttchartdiv),t.renderingduration);g=null;g=t.g;t.g.setInColumnEditing(t.incolumnediting);t.g.setShowRes(0);t.g.setShowDur(1);t.g.setShowComp(0);t.g.setCaptionType("None");t.g.setShowStartDate(1);t.g.setShowEndDate(1);t.g.setDateInputFormat("mm/dd/yyyy");t.g.setDateDisplayFormat("mm/dd/yyyy");t.g.setFormatArr("day","week","month","quarter");e='<table border=0 cellspacing=0 cellpadding=0 class="xp-Font xp-GantChart  xp-Padding-4"><tr class= xp-CustomForm>';e+='<td class="Tip-LCGtCheckStart"><input id=StartDate class=displayoptions type=checkbox ';e+=t.g.getShowStartDate()?"checked":"";e+=" value=startdate ><label for='StartDate'/><\/td><td style='padding-right:8px'>Start Date<\/td>";e+="<td><input id=EndDate class=displayoptions type=checkbox ";e+=t.g.getShowEndDate()?"checked":"";e+=" value=enddate ><label for='EndDate'/><\/td><td style='padding-right:8px'>End Date<\/td>";e+="<td><input id=Duration  class=displayoptions type=checkbox ";e+=t.g.getShowDur()?"checked":"";e+=" value=duration ><label for='Duration'/><\/td><td style='padding-right:8px'>Duration<\/td>";e+="<td><input id=complete class=displayoptions type=checkbox ";e+=t.g.getShowComp()?"checked":"";e+=" value=complete ><label for='complete'/><\/td><td style='padding-right:8px'>% Complete<\/td>";e+="<td><input id=TaskStatus class=displayoptions type=checkbox";e+=t.g.getShowStatus()?"checked":"";e+=" value=status ><label for='TaskStatus'/><\/td><td style='padding-right:8px'>Task Status<\/td>";e+="<td style='padding-right:8px'>Caption<\/td><td class='Tip-LCGtCaptionDDM'><label class='xp-CustomLabel'><select id=captionselector class='xp-Font'><option selected='yes'>None<\/option><option>Duration<\/option><option>Complete<\/option><\/select><\/label><\/td><\/tr><\/table>";e+="<\/nobr><\/span>";n(d).prepend(e);n(".displayoptions").click(function(){switch(n(this).val()){case"resources":t.g.setShowRes(n(this).is(":checked")?1:0);break;case"startdate":t.g.setShowStartDate(n(this).is(":checked")?1:0);break;case"enddate":t.g.setShowEndDate(n(this).is(":checked")?1:0);break;case"complete":t.g.setShowComp(n(this).is(":checked")?1:0);break;case"duration":t.g.setShowDur(n(this).is(":checked")?1:0);break;case"status":t.g.setShowStatus(n(this).is(":checked")?1:0)}n("#ganttworking").show();setTimeout(function(){t.g.Draw();t.g.DrawDependencies();n("#ganttworking").hide()},1)});n("#captionselector").change(function(){t.g.setCaptionType(n(this).val());t.g.Draw();t.g.DrawDependencies()});tt=t.trackerid;this.options=t;this._resetGantt=function(n){r(n)};t.isedit&&(nt=n("#gvHoverMenu"),nt.length==0&&(h="",h+="<div id='gvHoverMenu' class='GVHoverMenu'><div id='trigger' style='margin-top:5px' ><div class='ui-icon ui-icon-triangle-1-s'><\/div>",h+="<\/div><div id='cMenu' style='display:none; padding:0px' class='xp-Font'><ul>",h+="<li id='EditTaskItem'><div class=xp-Width'><div class='ui-icon ui-icon-pencil xp-FloatLeft' /><div >Edit<\/div><\/div><\/li>",h+="<li id='AddTaskItem' ><div class=xp-Width'><div class='ui-icon ui-icon-plus xp-FloatLeft' /><div>Add Task<\/span><\/div><\/li>",h+="<li id='LinkTaskItem'><div class=xp-Width'><div class='ui-icon ui-icon-link xp-FloatLeft' /><div >Link Manager<\/div><\/div><\/li>",h+="<li id='DeleteTaskItem'><div class=xp-Width'><div class='ui-icon ui-icon-trash xp-FloatLeft' /><div >Delete<\/div><\/div><\/li>",h+="<\/ul><\/div><\/div>",n(a.parent()).append(h)),n(".GVHoverMenu #trigger div").click(function(){n(".GVHoverMenu").css("border","1px #3f3f40 solid");n("#cMenu").show(100)}),n(".GVHoverMenu").blur(function(){n(".GVHoverMenu").css("border-style","none");n(".GVHoverMenu #cMenu").hide(100)}),n("#ganttcontainer").mouseleave(function(){n(".GVHoverMenu").fadeOut()}),n(".GVHoverMenu li").click(function(){n(".GVHoverMenu").hide(50);var t=this.id,i=n(this).parents(".GVHoverMenu")[0].id;l(i,t)}),v=n("#"+t.controlids.AddDiv),v.length==0&&(v=n("<div  id='"+t.controlids.AddDiv+"' ><\/div>"),c="<div id='"+t.controlids.AddItemId+"' style='display:none' /><table width=100% border=0 cellspacing=0 cellpadding=4><tr><td>",c+="<b>Title<\/b> <\/td>",c+="<td><input style='width:153px' type='text' id='"+t.controlids.AddTitleDiv+"' class='xp-TxtBox'/><\/td><\/tr>",c+="<tr style='display:none'><td><b>Owner<\/b><\/td><td><input type='text' id='"+t.controlids.AddOwnerDiv+"' style='display:none' class='xp-TxtBox'/><\/td><\/tr>",c+="<tr><td><b>Start Date<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.AddStartDatePicker+"' class='xp-TxtBox'/><\/td><\/tr>",c+="<tr><td><b>End Date<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.AddEndDatePicker+"' class='xp-TxtBox'/><\/td><\/tr>",c+="<\/table>",v.append(c),n(a.parent()).append(v),n("#"+t.controlids.AddTitleDiv).charCounter(60)),v.dialog("close"),v.dialog({open:function(){},autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Add:function(){var i={},u=new Date(n("#"+t.controlids.AddEndDatePicker).datepicker("getDate")),f=new Date(n("#"+t.controlids.AddStartDatePicker).datepicker("getDate")),e;if(u<f)return alert("End date cannot be before start date"),!1;i.enddate=n.datepicker.formatDate("mm/dd/yy",u);i.startdate=n.datepicker.formatDate("mm/dd/yy",f);e=n("#"+t.controlids.AddOwnerDiv).val();i.owner=e.replace(/\\/g,":");i.title=n("<div />").text(n("#"+t.controlids.AddTitleDiv).val()).html();i.parentItemID=n("#"+t.controlids.AddItemId).text();i.trackerid=t.trackerid;i.classification=t.classification;n.ajax({url:t.serviceurl+"/AddItem",type:"POST",contentType:"application/json; charset=utf-8",success:function(i){var u=i.d;u.Status=="success"?(n(".xp-PhaseHealth").html(u.Message),n("#"+t.controlids.AddDiv).dialog("close"),r(-1)):alert(u.Status)},dataType:"json",data:n.toJSON(i)})},Cancel:function(){n("#"+t.controlids.AddEndDatePicker).datepicker("destroy");n("#"+t.controlids.AddStartDatePicker).datepicker("destroy");n(this).dialog("close")}},close:function(){n("#ui-datepicker-div").hide()}}),y=n("#"+t.controlids.EditDiv),y.length==0&&(y=n("<div  id='"+t.controlids.EditDiv+"' ><\/div>"),o="<div id='"+t.controlids.EditItemId+"' style='display:none' /><table width=100% border=0 cellpadding=4 cellspacing=0 style=''><tr><td>",o+="<b>Title<\/b> <\/td>",o+="<td><input type='text' autocomplete='off' id='"+t.controlids.EditTitleDiv+"' style='width:150px' class='xp-TxtBox'/><\/td><\/tr>",o+="<tr><td style='width:120px'><b>Complete<\/b><\/td><td><div id='"+t.controlids.EditPercentCompleteDiv+"' class='xp-FloatLeft' style='padding-right:10px;position:relative;top:-0.3em' /><div id='"+t.controlids.EditSliderDiv+"' class='xp-FloatLeft xp-Width80' /><\/td><\/tr>",o+="<tr><td><b>Status<\/b><\/td><td class='xp-GantChart'><label class='xp-CustomLabel'><select id='"+t.controlids.EditTaskStatusDiv+"'>"+t.statusoptions+"<\/select><\/label><\/td><\/tr>",o+="<tr style='display:none'><td><b>Owner<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.EditOwnerDiv+"' style='display:none' /><\/td><\/tr>",o+="<tr><td><b>Start Date<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.EditStartDatePicker+"' class='xp-TxtBox'/><\/td><\/tr>",o+="<tr><td><b>End Date<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.EditEndDatePicker+"' class='xp-TxtBox'/><\/td><\/tr>",o+="<\/table>",y.append(o),n(a.parent()).append(y),n("#"+t.controlids.EditTitleDiv).charCounter(60)),y.dialog("close"),y.dialog({open:function(){},autoOpen:!1,height:270,width:450,modal:!0,buttons:{Update:function(){var i={},u=new Date(n("#"+t.controlids.EditEndDatePicker).datepicker("getDate")),f=new Date(n("#"+t.controlids.EditStartDatePicker).datepicker("getDate")),e;if(u<f)return alert("End date cannot be before start date"),!1;i.enddate=n.datepicker.formatDate("mm/dd/yy",u);i.startdate=n.datepicker.formatDate("mm/dd/yy",f);i.complete=n("#"+t.controlids.EditPercentCompleteDiv).text();e=n("#"+t.controlids.EditOwnerDiv).val();i.owner=e.replace(/\\/g,":");i.status=n("#"+t.controlids.EditTaskStatusDiv).val();i.title=n("<div />").text(n("#"+t.controlids.EditTitleDiv).val()).html();i.itemID=n("#"+t.controlids.EditItemId).text();i.trackerid=t.trackerid;i.classification=t.classification;n.ajax({url:t.serviceurl+"/UpdateItem",type:"POST",contentType:"application/json; charset=utf-8",success:function(i){var u=i.d;u.Status=="success"?(n(".xp-PhaseHealth").html(u.Message),n("#"+t.controlids.EditDiv).dialog("close"),r(-1)):alert(u.Status)},dataType:"json",data:n.toJSON(i)})},Cancel:function(){n("#"+t.controlids.EditEndDatePicker).datepicker("destroy");n("#"+t.controlids.EditStartDatePicker).datepicker("destroy");n(this).dialog("close")}},close:function(){n("#ui-datepicker-div").hide()}}),p=n("#"+t.controlids.DelDiv),p.length==0&&(p=n("<div  id='"+t.controlids.DelDiv+"' title='Delete'><\/div>"),b="<div id='delconfirm' style='height:auto;' class='xp-Overflowhidden' >Are you sure you want to delete this item and all children?<\/div>",b+="<div id='"+t.controlids.DelItemId+"' style='display:none' />",p.append(b),n(a.parent()).append(p)),p.dialog("close"),p.dialog({open:function(){},autoOpen:!1,height:130,width:300,modal:!0,buttons:{Delete:function(){var i=n("#"+t.controlids.DelItemId).text();n.ajax({url:t.serviceurl+"/DeleteGanttItem",type:"POST",contentType:"application/json; charset=utf-8",success:function(i){var u=i.d;n(".xp-PhaseHealth").html(u.Message);n("#"+t.controlids.DelDiv).dialog("close");r(-1)},dataType:"json",data:"{'itemID' : '"+i+"', 'trackerID': '"+t.trackerid+"', 'classification': '"+t.classification+"' }"})},Cancel:function(){n(this).dialog("close")}}}),k=n("#"+t.linker),k.dialog("close"),k.dialog({autoOpen:!1,width:"auto",maxHeight:200,modal:!0,title:"Life Cycle Link Manager",buttons:{Close:function(){n(this).dialog("close")}}}));u(t.trackerid,s)})};var r=function(i){var f,r;n("#ganttworking").show();f=n(t.g.getList()).filter(function(){return this.getOpen()==1});n(f).each(function(){t.openTasks.push(this.getID())});i>0&&(r=n(f).filter(function(){return this.getID()==i}),r.length==0&&(r=n(t.g.getList()).filter(function(){return this.getID()==i}),r.length!=0&&t.openTasks.push(r[0].getID())));t.g.ClearTaskList();u(t.trackerid,s)},e=function(i){var r=i.d,y=t.g,s=null,l=t.isedit,a=y.getList(),h,u,c,o,v;if(r.length>0)for(u=0;u<r.length;u++){if(s==null||s.getID()!=r[u].m_ParentID)for(h=0;h<a.length;h++)if(a[h].getID()==r[u].m_ParentID){s=a[h];break}l=s!=null?s.getEdit():!1;r[u].m_Edit=t.isedit&&l&&r[u].m_Edit;f(r[u])}else if(r.m_Edit=l&&r.m_Edit,f(r),r.m_Children)for(u=0;u<r.m_Children.length;u++)c=r.m_Children[u],c.m_Edit=t.isedit&&c.m_Edit&&r.m_Edit,f(c);if(t.openTasks.length>0)for(o=0;o<t.openTasks.length;o++)for(v=t.openTasks[o],r=t.g.getList(),jdx=0;jdx<r.length;jdx++)if(r[jdx].getID()==v){r[jdx].getOpen()!=1&&(r[jdx].setOpen(1),n.ajax({url:t.serviceurl+"/GetGanttTaskChildren",type:"POST",contentType:"application/json; charset=utf-8",success:function(n){e(n)},dataType:"json",data:"{'itemId' : '"+r[jdx].getID()+"'}"}));t.openTasks.splice(o,1);o--;break}t.openTasks.length==0&&(t.g.Draw(),t.g.DrawDependencies(),n("#ganttworking").hide())},s=function(n){return!n.d.length>0&&(n.d.m_IsExpanded=!0),e(n)},u=function(i,r){n.ajax({url:t.serviceurl+"/GetGanttTask",type:"POST",contentType:"application/json; charset=utf-8",success:r,dataType:"json",data:"{'itemId' : '"+i+"'}"})},h=function(i,r){for(var f=t.g,o=f.getList(),u=0;u<o.length;u++)if(o[u].getID()==i)if(o[u].getNumKids()>0){r.callback(i,r.vTop,f);break}else{n("#ganttworking").show();n.ajax({url:t.serviceurl+"/GetGanttTaskChildren",type:"POST",contentType:"application/json; charset=utf-8",success:function(t){e(t);r.callback(i,r.vTop,f);n("#ganttworking").hide()},dataType:"json",data:"{'itemId' : '"+i+"'}"});break}};f=function(n){var u=new Date(n.m_StartDate),f=u.getMonth()+1,i=u.getDate(),s=(f<10?"0"+f:f)+"/"+(i<10?"0"+i:i)+"/"+u.getFullYear(),e=new Date(n.m_DueDate),o=e.getMonth()+1,r=e.getDate(),h=(o<10?"0"+o:o)+"/"+(r<10?"0"+r:r)+"/"+e.getFullYear(),a=t.CTypeColor[n.m_ContentType],c,l;r=new Date(h);i=new Date(s);c=!1;l=n.m_Owner==null?"":n.m_Owner;t.g.AddTaskItem(new JSGantt.TaskItem(n.m_Id,n.m_Title,s,h,a,n.m_Link,c,l,n.m_PercentComplete,n.m_IsGroup?1:0,n.m_ParentID,n.m_IsExpanded?1:0,n.m_Dependents,"",n.m_Edit,0,n.m_ContentType,n.m_Status))};JSGantt||(JSGantt={});w=0;o=(new Date).getTime();JSGantt.TaskItem=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var tt=b,kt=w,ft=!0;y!=null&&(ft=y);var dt=p,gt=n,nt=t,it=new Date,rt=new Date,et=u,ni=f,ot=e,st=o,d=s,ti=h,ii=c,ht=l,ut=a,ct=v,k="",lt=0,at=0,vt=1,yt,pt,wt,bt;it=JSGantt.parseDateStr(i,g.getDateInputFormat());rt=JSGantt.parseDateStr(r,g.getDateInputFormat());this.getPhaseId=function(){return dt};this.getEdit=function(){return ft};this.getID=function(){return gt};this.getContentType=function(){return kt};this.getTaskStatus=function(){return tt?tt:""};this.getName=function(){return nt.length<36?nt:nt.substring(0,35)+"..."};this.getFullName=function(){return nt};this.getStart=function(){return it};this.getEnd=function(){return rt};this.getColor=function(){return et?et:"1E90FF"};this.getLink=function(){return ni};this.getMile=function(){return ot};this.getDepend=function(){return ut?ut:null};this.getCaption=function(){return ct?ct:""};this.getResource=function(){return st?st:"&nbsp"};this.getCompVal=function(){return d?d:0};this.getCompStr=function(){return d?d+"%":"0%"};this.getWorkDays=function(n,t){var f=Math.abs(n-t),r=Math.floor(f/864e5),i=r%7,e=Math.floor(r/7),u=n.getDay(),o=t.getDay();return u==6?i-=2:u==0&&(i-=1),o==0&&(i-=1),e*5+i+1};this.getDuration=function(n){return ot?k="-":n=="hour"?(tmpPer=Math.ceil((this.getEnd()-this.getStart())/36e5),k=tmpPer==1?"1 Hour":tmpPer+" Hours"):n=="minute"?(tmpPer=Math.ceil((this.getEnd()-this.getStart())/6e4),k=tmpPer==1?"1 Minute":tmpPer+" Minutes"):(tmpPer=Math.ceil((this.getEnd()-this.getStart())/864e5+1),k=tmpPer==1?"1 Day":tmpPer+" Days"),k};this.getParent=function(){return ii};this.getGroup=function(){return ti};this.getOpen=function(){return ht};this.getLevel=function(){return lt};this.getNumKids=function(){return at};this.getStartX=function(){return yt};this.getStartY=function(){return pt};this.getEndX=function(){return wt};this.getEndY=function(){return bt};this.getVisible=function(){return vt};this.setDepend=function(n){ut=n};this.setStart=function(n){it=n};this.setEnd=function(n){rt=n};this.setLevel=function(n){lt=n};this.setNumKid=function(n){at=n};this.setCompVal=function(n){d=n};this.setStartX=function(n){yt=n};this.setStartY=function(n){pt=n};this.setEndX=function(n){wt=n};this.setEndY=function(n){bt=n};this.setOpen=function(n){ht=n};this.setVisible=function(n){vt=n};this.setTaskStatus=function(n){tt=n}};JSGantt.GanttChart=function(u,f,e){var v=0,h=u,st=f,s=e,nt=0,y=0,p=1,w=0,b=1,d=1,rt="mm/dd/yyyy",a="mm/dd/yy",ut="dd/mm/yy",tt=0,ft,it=1,o=[],l=["day","week","month","quarter"],et=[1,1,1,2,2,2,3,3,3,4,4,4],ht=[31,28,31,30,31,30,31,31,30,31,30,31],ot=["January","February","March","April","May","June","July","August","September","October","November","December"];this.setFormatArr=function(){l=[];for(var n=0;n<arguments.length;n++)l[n]=arguments[n];l.length>4&&(l.length=4)};this.setInColumnEditing=function(n){nt=n};this.setShowRes=function(n){y=n};this.setShowStatus=function(n){v=n};this.setShowDur=function(n){p=n};this.setShowComp=function(n){w=n};this.setShowStartDate=function(n){b=n};this.setShowEndDate=function(n){d=n};this.setDateInputFormat=function(n){rt=n};this.setDateDisplayFormat=function(n){a=n};this.setCaptionType=function(n){ft=n};this.setFormat=function(n){s=n;this.Draw()};this.getFormat=function(){return s};this.getInColumnEditing=function(){return nt};this.getShowRes=function(){return y};this.getShowStatus=function(){return v};this.getShowDur=function(){return p};this.getShowComp=function(){return w};this.getShowStartDate=function(){return b};this.getShowEndDate=function(){return d};this.getDateInputFormat=function(){return rt};this.getDateDisplayFormat=function(){return a};this.getCaptionType=function(){return ft};this.CalcTaskXY=function(){var n=this.getList(),r,t;for(i=0;i<n.length;i++)vID=n[i].getID(),r=document.getElementById("taskbar_"+vID),vBarDiv=document.getElementById("bardiv_"+vID),t=document.getElementById("childgrid_"+vID),vBarDiv&&(n[i].setStartX(vBarDiv.offsetLeft),n[i].setStartY(t.offsetTop+vBarDiv.offsetTop+6),n[i].setEndX(vBarDiv.offsetLeft+vBarDiv.offsetWidth),n[i].setEndY(t.offsetTop+vBarDiv.offsetTop+6))};this.AddTaskItem=function(n){for(var i=n.getParent(),r=this.getArrayLocationByID(i)==undefined?-1:this.getArrayLocationByID(i),t=r+1;t<o.length&&o[t].getParent()==i;t++);o.splice(t,0,n)};this.getList=function(){return o};this.ClearTaskList=function(){o=[]};this.clearDependencies=function(){var t=document.getElementById("rightside"),n,r=it;for(i=1;i<r;i++)n=document.getElementById("line"+i),n&&t.removeChild(n);it=1};this.sLine=function(n,t,i,r){vLeft=Math.min(n,i);vTop=Math.min(t,r);vWid=Math.abs(i-n)+1;vHgt=Math.abs(r-t)+1;vDoc=document.getElementById("rightside");var u=document.createElement("div");u.id="line"+it++;u.style.position="absolute";u.style.margin="0px";u.style.padding="0px";u.style.overflow="hidden";u.style.border="0px";u.style.zIndex=0;u.style.backgroundColor="red";u.style.left=vLeft+"px";u.style.top=vTop+"px";u.style.width=vWid+"px";u.style.height=vHgt+"px";u.style.visibility="visible";vDoc.appendChild(u)};this.dLine=function(n,t,r,u){var f=r-n,e=u-t,s=n,h=t,o=Math.max(Math.abs(f),Math.abs(e));for(f=f/o,e=e/o,i=0;i<=o;i++)vx=Math.round(s),vy=Math.round(h),this.sLine(vx,vy,vx,vy),s+=f,h+=e};this.drawDependency=function(n,t,i,r){n+10<i?(this.sLine(n,t,n+4,t),this.sLine(n+4,t,n+4,r),this.sLine(n+4,r,i,r),this.dLine(i,r,i-3,r-3),this.dLine(i,r,i-3,r+3),this.dLine(i-1,r,i-3,r-2),this.dLine(i-1,r,i-3,r+2)):(this.sLine(n,t,n+4,t),this.sLine(n+4,t,n+4,r-10),this.sLine(n+4,r-10,i-8,r-10),this.sLine(i-8,r-10,i-8,r),this.sLine(i-8,r,i,r),this.dLine(i,r,i-3,r-3),this.dLine(i,r,i-3,r+3),this.dLine(i-1,r,i-3,r-2),this.dLine(i-1,r,i-3,r+2))};this.DrawDependencies=function(){var n,t,i,r;for(this.CalcTaskXY(),this.clearDependencies(),n=this.getList(),t=0;t<n.length;t++)if(vDepend=n[t].getDepend(),vDepend){var f=vDepend+"",u=f.split(","),e=u.length;for(i=0;i<e;i++)r=this.getArrayLocationByID(u[i]),n[r].getVisible()==1&&this.drawDependency(n[r].getEndX(),n[r].getEndY(),n[t].getStartX()-1,n[t].getStartY())}};this.getArrayLocationByID=function(n){for(var i=this.getList(),t=0;t<i.length;t++)if(i[t].getID()==n)return t};this.Draw=function(){var kt=new Date,ft=new Date,u=new Date,it=new Date,rt=new Date,bt=0,yt=0,ci=0,c=0,ti="",e="",k="",ct="",lt="",f=0,at=0,ii=0,li=0,pt=0,dt="",ei=290,vt=85,ri=120,gt=70,ui=80,fi=70,ni,wt,ai,oi,si,hi;if(o.length>0){for(JSGantt.processRows(o,0,-1,1,1),ft=JSGantt.getMinDate(o,s),kt=JSGantt.getMaxDate(o,s),s=="day"?(f=18,at=1):s=="week"?(f=37,at=7):s=="month"?(f=37,at=30):s=="quarter"?(f=60,at=90):s=="hour"?(f=18,at=1):s=="minute"&&(f=18,at=1),li=(Date.parse(kt)-Date.parse(ft))/864e5,tt=li/at,ii=tt*f+1,pt=f/at+1/at,ti='<TABLE id=theTable cellSpacing=0 cellPadding=0 border=0 width=100% class="xp-Font xp-Overflowhidden xp-PositionRelative"><TBODY><TR><TD vAlign=top>',e='<DIV class=scroll id=leftside ><TABLE cellSpacing=0 cellPadding=0 border=0 width=100%><TBODY><TR>  <TD style="WIDTH: 15px; HEIGHT: 20px"><\/TD>  <TD style="WIDTH: '+ei+'px; "><NOBR><\/NOBR><\/TD>',y==1&&(e+='<TD style="WIDTH: '+ri+'px; "><\/TD>'),p==1&&(e+='<TD style="WIDTH: '+ui+'px; "><\/TD>'),w==1&&(e+='<TD style="WIDTH: '+fi+'px; "><\/TD>'),b==1&&(e+='<TD style="WIDTH: '+vt+'px; "><\/TD>'),d==1&&(e+='<TD style="WIDTH: '+vt+'px; "><\/TD>'),v==1&&(e+='<TD style="WIDTH: '+gt+'px; "><\/TD>'),e+='<TR class=" ui-th-column ">  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: 15px; HEIGHT: 20px"><\/TD>  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: '+ei+'px; "><NOBR><\/NOBR><\/TD>',y==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+ri+'px; White-space:nowrap;" align=left class="xp-FontBold">Resource<\/TD>'),p==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+ui+'px;White-space:nowrap;" align=left class="xp-FontBold">Duration<\/TD>'),w==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+fi+'px;White-space:nowrap; " align=left class="xp-FontBold">% Comp.<\/TD>'),b==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+vt+'px; White-space:nowrap;" align=left class="xp-FontBold">Start Date<\/TD>'),d==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+vt+'px; White-space:nowrap;" align=left class="xp-FontBold">End Date<\/TD>'),v==1&&(e+='<TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: '+gt+'px; White-space:nowrap;" align=left class="xp-FontBold">Status<\/TD>'),e+="<\/TR>",i=0;i<o.length;i++){if(o[i].getGroup()?(vBGColor="f3f3f3",vRowType="group"):(vBGColor="ffffff",vRowType="row"),c=o[i].getID(),c==null)return;for(ni=o[i].getEdit(),e+=o[i].getVisible()==0?"<TR id=child_"+c+" bgcolor=#"+vBGColor+' style="display:none"  onMouseover=g.mouseOver(this,'+c+',"left","'+vRowType+'",'+ni+") onMouseout=g.mouseOut(this,"+c+',"left","'+vRowType+'")>':"<TR id=child_"+c+" bgcolor=#"+vBGColor+" onMouseover=g.mouseOver(this,"+c+',"left","'+vRowType+'",'+ni+") onMouseout=g.mouseOut(this,"+c+',"left","'+vRowType+'")>',e+='  <TD class=gdatehead style="WIDTH: 15px; HEIGHT: 20px; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;">&nbsp;<\/TD>  <TD class=gname style="WIDTH: '+ei+'px; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px;" nowrap><NOBR><span style="color: #aaaaaa">',j=1;j<o[i].getLevel();j++)e+="&nbsp&nbsp&nbsp&nbsp";e+="<\/span>";e+=o[i].getGroup()?o[i].getOpen()==1?'<SPAN id="group_'+c+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+c+","+h+");"+h+'.DrawDependencies();">&ndash;<\/span><span style="color:#000000">&nbsp<\/SPAN>':'<SPAN id="group_'+c+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+c+","+h+");"+h+'.DrawDependencies();">+<\/span><span style="color:#000000">&nbsp<\/SPAN>':'<span style="color: #000000; font-weight:bold; FONT-SIZE: 12px;">&nbsp&nbsp&nbsp<\/span>';e+=o[i].getContentType()=="PhaseContentType"||o[i].getContentType()=="TaskGroupContentType"?'<span title="'+o[i].getFullName()+'" class="Tip-TipLCGtTaskName" onclick=JSGantt.taskLink("'+o[i].getLink()+'",300,200); style="cursor:default"> '+o[i].getFullName()+"<\/span><\/NOBR><\/TD>":'<span title="'+o[i].getFullName()+'" onclick=JSGantt.taskLink("'+o[i].getLink()+'",300,200); style="cursor:pointer"><a href="/SitePages/Lifecycle.aspx?TrackerID='+o[i].getID()+'">'+o[i].getFullName()+"<\/a><\/span><\/NOBR><\/TD>";y==1&&(e+='<TD class=gname style="Padding-left:2px;WIDTH: '+ri+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+o[i].getResource()+"<\/NOBR><\/TD>");p==1&&(e+='<TD class=gname style="Padding-left:2px;WIDTH: '+ui+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+o[i].getDuration(s)+"<\/NOBR><\/TD>");w==1&&(e+='<TD class=gname style="Padding-left:2px;WIDTH: '+fi+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+o[i].getCompStr()+"<\/NOBR><\/TD>");b==1&&(e+=o[i].getEdit()&&!o[i].getGroup()&&nt==1?'<TD class=gname style="Padding-left:2px;WIDTH: '+vt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><input style="width:'+vt+'px;" autocomplete="off" class=dpstartdate type=text name='+o[i].getID()+' value="'+JSGantt.formatDateStr(o[i].getStart(),"M dd,yy")+'"/><\/TD>':'<TD class=gname style="Padding-left:2px;WIDTH: '+vt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(o[i].getStart(),"M dd,yy")+"<\/NOBR><\/TD>");d==1&&(e+=o[i].getEdit()&&!o[i].getGroup()&&nt==1?'<TD class=gname style="Padding-left:2px;WIDTH: '+vt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><input style="width:'+vt+'px;" autocomplete="off" class=dpenddate type=text name='+o[i].getID()+' value="'+JSGantt.formatDateStr(o[i].getEnd(),"M dd,yy")+'"/><\/TD>':'<TD class=gname style="Padding-left:2px;WIDTH: '+vt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(o[i].getEnd(),"M dd,yy")+"<\/NOBR><\/TD>");v==1&&(e+=o[i].getEdit()&&nt==1?'<TD class=gname style="Padding-left:2px;WIDTH: '+gt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><select style="width:'+gt+'px;"class=dpstatus name='+o[i].getID()+" >"+t.statusoptions+"<\/select><\/TD>":'<TD class=gname style="Padding-left:2px;WIDTH: '+gt+'px; TEXT-ALIGN: left; BORDER-TOP: #ffffff 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #ffffff 1px solid;" align=center><NOBR>'+o[i].getTaskStatus()+"<\/NOBR><\/TD>");e+="<\/TR>"}for(e+='<\/TD><\/TR><TR><TD border=1 colspan=5 align=left style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 11px; BORDER-LEFT: #efefef 1px solid; height=18px"><table><tr><TD style="width:17px;"><img id=ganttworking height=17px width=17px style="display:none;" src="_layouts/images/XPointBase/snake.gif" /><\/TD><TD class= "xp-CustomForm Tip-LCGtFormat" >&nbsp;&nbsp;Format:',l.join().indexOf("minute")!=-1&&(e+=s=="minute"?'<INPUT TYPE=RADIO id=radFormat NAME="radFormat" VALUE="minute" checked/><label for="radFormat">Minute<\/label>':'<INPUT TYPE=RADIO id=radFormat NAME="radFormat" onclick=JSGantt.changeFormat("minute",'+h+'); VALUE="minute"/><label for="radFormat">Minute<\/label>'),l.join().indexOf("hour")!=-1&&(e+=s=="hour"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="hour" checked>Hour':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("hour",'+h+'); VALUE="hour">Hour'),l.join().indexOf("day")!=-1&&(e+=s=="day"?'<INPUT id=day TYPE=RADIO NAME="radFormat" VALUE="day" checked/><label for=day>Day<\/label>':'<INPUT id=day TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("day",'+h+'); VALUE="day"/><label for=day>Day<\/label>'),l.join().indexOf("week")!=-1&&(e+=s=="week"?'<INPUT id=week TYPE=RADIO NAME="radFormat" VALUE="week" checked/><label for=week>Week<\/label>':'<INPUT  id=week TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("week",'+h+') VALUE="week"/><label for=week>Week<\/label>'),l.join().indexOf("month")!=-1&&(e+=s=="month"?'<INPUT id=month TYPE=RADIO NAME="radFormat" VALUE="month" checked/><label for=month>Month<\/label>':'<INPUT  id=month TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("month",'+h+') VALUE="month"/><label for=month>Month<\/label>'),l.join().indexOf("quarter")!=-1&&(e+=s=="quarter"?'<INPUT id=Quarter TYPE=RADIO NAME="radFormat" VALUE="quarter" checked/><label for=Quarter >Quarter<\/label>':'<INPUT id=Quarter TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("quarter",'+h+') VALUE="quarter"/><label for=Quarter >Quarter<\/label>'),e+="<\/TD><\/TR><\/table><\/td><\/tr><\/TBODY><\/TABLE><\/TD>",ti+=e,n(window).width()<=1024?(wt=130,n.browser.msie&&(n.browser.version=="7.0"||n.browser.version=="8.0")&&(wt=80)):wt=400,p==0&&(wt+=ui),w==0&&(wt+=fi),b==0&&(wt+=vt),d==0&&(wt+=vt),y==0&&(wt+=ri),v==0&&(wt+=gt),k="<TD vAlign=top><DIV class=scroll_2 id=rightside style='WIDTH:"+wt+"px;position:relative;overflow-x:scroll;overflow-y:hidden;border: 0 solid black;'><TABLE cellSpacing=0 cellPadding=0 border=0><TBODY><TR>",u.setFullYear(ft.getFullYear(),ft.getMonth(),ft.getDate()),u.setHours(0),u.setMinutes(0);Date.parse(u)<=Date.parse(kt);)if(dt=u.getFullYear()+"",dt=dt.substring(2,4),s=="minute"&&(k+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 20px;" align=center colspan=60>',k+=JSGantt.formatDateStr(u,a)+" "+u.getHours()+":00 -"+u.getHours()+":59 <\/td>",u.setHours(u.getHours()+1)),s=="hour"&&(k+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 20px;" align=center colspan=24>',k+=JSGantt.formatDateStr(u,a)+"<\/td>",u.setDate(u.getDate()+1)),s=="day")k+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 20px;" align=center colspan=7>'+JSGantt.formatDateStr(u,ut.substring(0,5))+" - ",u.setDate(u.getDate()+6),k+=JSGantt.formatDateStr(u,ut)+"<\/td>",u.setDate(u.getDate()+1);else if(s=="week")k+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 20px;" >`'+dt+"<\/td>",u.setDate(u.getDate()+7);else if(s=="month")for(k+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 20px;" >`'+dt+"<\/td>",u.setDate(u.getDate()+1);u.getDate()>1;)u.setDate(u.getDate()+1);else if(s=="quarter")for(k+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 20px;" >`'+dt+"<\/td>",u.setDate(u.getDate()+81);u.getDate()>1;)u.setDate(u.getDate()+1);for(ai=new Date(u),k+="<\/TR><TR>",u.setFullYear(ft.getFullYear(),ft.getMonth(),ft.getDate()),it.setFullYear(ft.getFullYear(),ft.getMonth(),ft.getDate()),ci=0;Date.parse(u)<=Date.parse(ai);)if(s=="minute")vWeekdayColor=u.getMinutes()==0?"ccccff":"ffffff",ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">'+u.getMinutes()+"<\/div><\/td>",lt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>',u.setMinutes(u.getMinutes()+1);else if(s=="hour")vWeekdayColor=u.getHours()==0?"ccccff":"ffffff",ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">'+u.getHours()+"<\/div><\/td>",lt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>',u.setHours(u.getHours()+1);else if(s=="day")JSGantt.formatDateStr(rt,"mm/dd/yyyy")==JSGantt.formatDateStr(u,"mm/dd/yyyy")?(vWeekdayColor="ccccff",vWeekendColor="9999ff",vWeekdayGColor="bbbbff",vWeekendGColor="8888ff"):(vWeekdayColor="ffffff",vWeekendColor="cfcfcf",vWeekdayGColor="f3f3f3",vWeekendGColor="c3c3c3"),u.getDay()%6==0?(ct+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekendColor+' align=center><div style="width: '+f+'px">'+u.getDate()+"<\/div><\/td>",lt+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px;BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekendColor+' align=center><div style="width: '+f+'px">&nbsp<\/div><\/td>'):(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">'+u.getDate()+"<\/div><\/td>",lt+=JSGantt.formatDateStr(rt,"mm/dd/yyyy")==JSGantt.formatDateStr(u,"mm/dd/yyyy")?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'),u.setDate(u.getDate()+1);else if(s=="week")it.setDate(it.getDate()+7),vWeekdayColor=rt>=u&&rt<it?"ccccff":"ffffff",oi=new Date,oi.setDate(u.getDate()+1),si=oi.getDate()==1?"1/"+(u.getMonth()+2):u.getDate()+1+"/"+(u.getMonth()+1),it<=kt?(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+f+'px><div style="width: '+f+'px">'+si+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid;HEIGHT: 20px; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid;HEIGHT: 20px; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'):(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; bgcolor=#'+vWeekdayColor+' BORDER-RIGHT: #efefef 1px solid;" align=center width:'+f+'px><div style="width: '+f+'px">'+si+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'),u.setDate(u.getDate()+7);else if(s=="month")for(it.setFullYear(u.getFullYear(),u.getMonth(),ht[u.getMonth()]),vWeekdayColor=rt>=u&&rt<it?"ccccff":"ffffff",it<=kt?(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+f+'px><div style="width: '+f+'px">'+ot[u.getMonth()].substr(0,3)+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'):(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+f+'px><div style="width: '+f+'px">'+ot[u.getMonth()].substr(0,3)+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'),u.setDate(u.getDate()+1);u.getDate()>1;)u.setDate(u.getDate()+1);else if(s=="quarter")for(it.setDate(it.getDate()+122),u.getMonth()==0||u.getMonth()==1||u.getMonth()==2?it.setFullYear(u.getFullYear(),2,31):u.getMonth()==3||u.getMonth()==4||u.getMonth()==5?it.setFullYear(u.getFullYear(),5,30):u.getMonth()==6||u.getMonth()==7||u.getMonth()==8?it.setFullYear(u.getFullYear(),8,30):(u.getMonth()==9||u.getMonth()==10||u.getMonth()==11)&&it.setFullYear(u.getFullYear(),11,31),vWeekdayColor=rt>=u&&rt<it?"ccccff":"ffffff",it<=kt?(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+f+'px><div style="width: '+f+'px">Qtr. '+et[u.getMonth()]+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'):(ct+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+f+'px><div style="width: '+f+'px">Qtr. '+et[u.getMonth()]+"<\/div><\/td>",lt+=rt>=u&&rt<it?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;HEIGHT: 20px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+f+'px">&nbsp&nbsp<\/div><\/td>'),u.setDate(u.getDate()+81);u.getDate()>1;)u.setDate(u.getDate()+1);for(k+=ct+"<\/TR>",k+="<\/TBODY><\/TABLE>",i=0;i<o.length;i++){if(u.setFullYear(ft.getFullYear(),ft.getMonth(),ft.getDate()),vTaskStart=o[i].getStart(),vTaskEnd=o[i].getEnd(),ci=0,c=o[i].getID(),tt=(o[i].getEnd()-o[i].getStart())/864e5+1,s=="hour"?tt=(o[i].getEnd()-o[i].getStart())/6e4+1:s=="minute"&&(tt=(o[i].getEnd()-o[i].getStart())/6e4+1),k+=o[i].getVisible()==0?"<DIV id=childgrid_"+c+' style="position:relative; display:none;">':"<DIV id=childgrid_"+c+' style="position:relative">',o[i].getMile()){if(k+='<DIV><TABLE style="position:relative; top:0px; width: '+ii+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+c+' class=yesdisplay style="HEIGHT: 20px" onMouseover=g.mouseOver(this,'+c+',"right","mile",'+ni+") onMouseout=g.mouseOut(this,"+c+',"right","mile")>'+lt+"<\/TR><\/TABLE><\/DIV>",ct=JSGantt.formatDateStr(vTaskStart,a),bt=Math.ceil((Date.parse(o[i].getStart())-Date.parse(ft))/864e5),yt=1,k+="<div id=bardiv_"+c+' style="position:absolute; top:0px; left:'+Math.max(Math.ceil(bt*pt+6),1)+'px; height: 18px; width:160px; overflow:hidden;">  <div id=taskbar_'+c+' title="'+o[i].getName()+": "+ct+'" style="height: 16px; width:12px; overflow:hidden; cursor: pointer;font-size:12pt;" onclick=JSGantt.taskLink("'+o[i].getLink()+'",300,200);>',k+=o[i].getCompVal()<100?"&loz;<\/div>":"&diams;<\/div>",g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=o[i].getCaption();break;case"Resource":vCaptionStr=o[i].getResource();break;case"Duration":vCaptionStr=o[i].getDuration(s);break;case"Complete":vCaptionStr=o[i].getCompStr();break;case"Status":vCaptionStr=o[i].getTaskStatus()}k+='<div style="FONT-SIZE:12px; position:absolute; top:2px; width:120px; left:12px">'+vCaptionStr+"<\/div>"}k+="<\/div>"}else if(ct=JSGantt.formatDateStr(vTaskStart,a)+" - "+JSGantt.formatDateStr(vTaskEnd,a),s=="minute"?(yt=(Date.parse(o[i].getEnd())-Date.parse(o[i].getStart()))/6e4+1/at,bt=Math.ceil((Date.parse(o[i].getStart())-Date.parse(ft))/6e4)):s=="hour"?(yt=(Date.parse(o[i].getEnd())-Date.parse(o[i].getStart()))/36e5+1/at,bt=(Date.parse(o[i].getStart())-Date.parse(ft))/36e5):(yt=(Date.parse(o[i].getEnd())-Date.parse(o[i].getStart()))/864e5+1/at,bt=Math.ceil((Date.parse(o[i].getStart())-Date.parse(ft))/864e5),s=="day"&&(hi=new Date,hi.setTime(Date.parse(o[i].getStart())),hi.getMinutes()>29&&(bt+=.5))),o[i].getGroup()){if(k+='<DIV><TABLE style="position:relative; top:0px; width: '+ii+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+c+' class=yesdisplay style="HEIGHT: 20px" bgColor=#f3f3f3 onMouseover=g.mouseOver(this,'+c+',"right","group",'+ni+") onMouseout=g.mouseOut(this,"+c+',"right","group")>'+lt+"<\/TR><\/TABLE><\/DIV>",k+="<div id=bardiv_"+c+' style="position:absolute; top:5px; left:'+Math.max(Math.ceil(bt*pt+1),1)+"px; height: 7px; width:"+Math.max(Math.ceil(yt*pt-1),1)+'px"><div id=taskbar_'+c+' title="'+o[i].getName()+": "+ct+'" class=gtask style="background-color:#000; height: 7px; width:'+Math.max(Math.ceil(yt*pt-1),1)+'px;  cursor: default;opacity:0.9;"><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4;  background-color:#666666; height:3px;  margin-top:1px; margin-left:1px; margin-right:1px; filter: alpha(opacity=80); opacity:0.8; width:'+o[i].getCompStr()+'; cursor: default;" onclick=JSGantt.taskLink("'+o[i].getLink()+'",300,200);><\/div><\/div>',k+='<div class="xp-FloatLeft xp-Overflowhidden"  style="Z-INDEX: -4;  background-color:#000; height:4px;width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden"  style="Z-INDEX: -4;  background-color:#000; height:4px; width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden"  style="Z-INDEX: -4; background-color:#000; height:3px; overflow: hidden; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4; float:right; background-color:#000; height:3px; overflow: hidden; width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; float:left; background-color:#000; height:2px; overflow: hidden; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4; float:right; background-color:#000; height:2px; overflow: hidden; width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; float:left; background-color:#000; height:1px; overflow: hidden; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4; float:right; background-color:#000; height:1px; overflow: hidden; width:1px;"><\/div>',g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=o[i].getCaption();break;case"Resource":vCaptionStr=o[i].getResource();break;case"Duration":vCaptionStr=o[i].getDuration(s);break;case"Complete":vCaptionStr=o[i].getCompStr()}k+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil(yt*pt-1)+6)+'px">'+vCaptionStr+"<\/div>"}k+="<\/div>"}else{if(vDivStr='<DIV><TABLE style="position:relative; top:0px; width: '+ii+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+c+' class=yesdisplay style="HEIGHT: 20px" bgColor=#ffffff onMouseover=g.mouseOver(this,'+c+',"right","row",'+ni+") onMouseout=g.mouseOut(this,"+c+',"right","row")>'+lt+"<\/TR><\/TABLE><\/DIV>",k+=vDivStr,k+="<div id=bardiv_"+c+' style="position:absolute; top:4px; left:'+Math.max(Math.ceil(bt*pt+1),1)+"px; height:18px; width:"+Math.max(Math.ceil(yt*pt-1),1)+'px"><div id=taskbar_'+c+' title="'+o[i].getName()+": "+ct+'" class=gtask style="background-color:#'+o[i].getColor()+"; height: 13px; width:"+Math.max(Math.ceil(yt*pt-1),1)+'px; cursor: default;opacity:0.9;" onclick=JSGantt.taskLink("'+o[i].getLink()+'",300,200); ><div class=gcomplete style="Z-INDEX: -4; float:left; background-color:black; height:5px; overflow: auto; margin-top:4px; filter: alpha(opacity=40); opacity:0.4; width:100%; overflow:hidden"><\/div><\/div>',g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=o[i].getCaption();break;case"Resource":vCaptionStr=o[i].getResource();break;case"Duration":vCaptionStr=o[i].getDuration(s);break;case"Complete":vCaptionStr=o[i].getCompStr()}k+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil(yt*pt-1)+6)+'px">'+vCaptionStr+"<\/div>"}k+="<\/div>"}k+="<\/DIV>"}ti+=k+"<\/DIV><\/TD><\/TR><\/TBODY><\/TABLE><\/BODY><\/HTML>";st.innerHTML=ti}n(".gcomplete").each(function(){var f=n(this).parent(),i=n(f).attr("id"),u;i=i.substring(8);u=JSGantt.getTask(i,t.g);u&&u.getEdit()&&n(this).slider({range:"min",min:0,max:100,value:u.getCompVal(),change:function(u,f){n("#ganttworking").show();n.ajax({url:t.serviceurl+"/SetCompletion",type:"POST",contentType:"application/json; charset=utf-8",success:function(n){var t=n.d;t=="success"?r():alert(t)},dataType:"json",data:"{'trackerid' : '"+t.trackerid+"', itemID:'"+i+"', complete: '"+f.value+"'}"})}})});n(".dpstatus").each(function(){var i=this.name,r=JSGantt.getTask(i,t.g);n(this).val(r.getTaskStatus());n(this).change(function(){var u=n(this).val();n("#ganttworking").show();n.ajax({url:t.serviceurl+"/UpdateStatus",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:"{'trackerid' : "+i+", 'status': '"+n(this).val()+"'}",success:function(i){var f=i.d;f=="success"?(r.setTaskStatus(u),t.g.Draw(),t.g.DrawDependencies(),n("#ganttworking").hide()):alert(f)}})})});n(".dpstartdate").each(function(){n(this).datepicker({dateFormat:"M dd,yy",maxDate:new Date(n('.dpenddate[name="'+this.name+'"]').val()),onSelect:function(i,u){var f=u.input[0].name,e=JSGantt.getTask(f,t.g);n("#ganttworking").show();n.ajax({url:t.serviceurl+"/UpdateStartDate",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:"{'trackerid' : "+f+", 'startdate': '"+i+"'}",success:function(t){var u=t.d;u.Status=="success"?(n(".xp-PhaseHealth").html(u.Message),e.setStart(new Date(i)),r()):alert(u.Status)}})}})});n(".dpenddate").each(function(){n(this).datepicker({dateFormat:"M dd,yy",minDate:new Date(n('.dpstartdate[name="'+this.name+'"]').val()),onSelect:function(i,u){var f=u.input[0].name,e=JSGantt.getTask(f,t.g);n("#ganttworking").show();n.ajax({url:t.serviceurl+"/UpdateEndDate",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:"{'trackerid' : "+f+", 'enddate': '"+i+"'}",success:function(t){var u=t.d;u.Status=="success"?(n(".xp-PhaseHealth").html(u.Message),e.setEnd(new Date(i)),r()):alert(u.Status)}})}})})};this.mouseOver=function(t,i,r,u,f){var e,s;if(vID=r=="right"?"child_"+i:"childrow_"+i,t.bgColor="#F7931D",vRowObj=JSGantt.findObj(vID),vRowObj&&(vRowObj.bgColor="#F7931D"),n(".GVHoverMenu").hide(),n(".GVHoverMenu #cMenu").hide(),f)for(k=0;o.length;k++)if(e=o[k].getID(),i==e){s=o[k].getID();c(i,s,r);break}};this.mouseOut=function(n,t,i,r){vID=i=="right"?"child_"+t:"childrow_"+t;n.bgColor="#ffffff";vRowObj=JSGantt.findObj(vID);vRowObj&&(r=="group"?(n.bgColor="#f3f3f3",vRowObj.bgColor="#f3f3f3"):(n.bgColor="#ffffff",vRowObj.bgColor="#ffffff"))}};JSGantt.isIE=function(){return typeof document.all!="undefined"?!0:!1};JSGantt.processRows=function(n,t,i,r,u){for(var o=new Date,s=new Date,h=0,c=0,v=n,l=r,f=0,a=0,y=0,e=u,f=0;f<n.length;f++)n[f].getParent()==t&&(e=u,n[f].setVisible(e),e==1&&n[f].getOpen()==0&&(e=0),n[f].setLevel(l),a++,n[f].getGroup()==1&&JSGantt.processRows(v,n[f].getID(),f,l+1,e),(h==0||n[f].getStart()<o)&&(o=n[f].getStart(),h=1),(c==0||n[f].getEnd()>s)&&(s=n[f].getEnd(),c=1),y+=n[f].getCompVal());i>=0&&n[i].setNumKid(a)};JSGantt.getMinDate=function(n,t){var r=new Date;for(r.setFullYear(n[0].getStart().getFullYear(),n[0].getStart().getMonth(),n[0].getStart().getDate()),i=0;i<n.length;i++)Date.parse(n[i].getStart())<Date.parse(r)&&r.setFullYear(n[i].getStart().getFullYear(),n[i].getStart().getMonth(),n[i].getStart().getDate());if(t=="minute")r.setHours(0),r.setMinutes(0);else if(t=="hour")r.setHours(0),r.setMinutes(0);else if(t=="day")for(r.setDate(r.getDate()-1);r.getDay()%7!=1;)r.setDate(r.getDate()-1);else if(t=="week")for(r.setDate(r.getDate()-7);r.getDay()%7>0;)r.setDate(r.getDate()-1);else if(t=="month")while(r.getDate()>1)r.setDate(r.getDate()-1);else t=="quarter"&&(r.getMonth()==0||r.getMonth()==1||r.getMonth()==2?r.setFullYear(r.getFullYear(),0,1):r.getMonth()==3||r.getMonth()==4||r.getMonth()==5?r.setFullYear(r.getFullYear(),3,1):r.getMonth()==6||r.getMonth()==7||r.getMonth()==8?r.setFullYear(r.getFullYear(),6,1):(r.getMonth()==9||r.getMonth()==10||r.getMonth()==11)&&r.setFullYear(r.getFullYear(),9,1));return r};JSGantt.getMaxDate=function(n,t){var r=new Date;for(r.setFullYear(n[0].getEnd().getFullYear(),n[0].getEnd().getMonth(),n[0].getEnd().getDate()),i=0;i<n.length;i++)Date.parse(n[i].getEnd())>Date.parse(r)&&r.setTime(Date.parse(n[i].getEnd()));if(t=="minute"&&(r.setHours(r.getHours()+1),r.setMinutes(59)),t=="hour"&&r.setHours(r.getHours()+2),t=="day")for(r.setDate(r.getDate()+1);r.getDay()%6>0;)r.setDate(r.getDate()+1);if(t=="week")for(r.setDate(r.getDate()+11);r.getDay()%6>0;)r.setDate(r.getDate()+1);if(t=="month"){while(r.getDay()>1)r.setDate(r.getDate()+1);r.setDate(r.getDate()-1)}return t=="quarter"&&(r.getMonth()==0||r.getMonth()==1||r.getMonth()==2?r.setFullYear(r.getFullYear(),2,31):r.getMonth()==3||r.getMonth()==4||r.getMonth()==5?r.setFullYear(r.getFullYear(),5,30):r.getMonth()==6||r.getMonth()==7||r.getMonth()==8?r.setFullYear(r.getFullYear(),8,30):(r.getMonth()==9||r.getMonth()==10||r.getMonth()==11)&&r.setFullYear(r.getFullYear(),11,31)),r};JSGantt.findObj=function(n,t){var u,r,i;for(t||(t=document),(u=n.indexOf("?"))>0&&parent.frames.length&&(t=parent.frames[n.substring(u+1)].document,n=n.substring(0,u)),(i=t[n])||!t.all||(i=t.all[n]),r=0;!i&&r<t.forms.length;r++)i=t.forms[r][n];for(r=0;!i&&t.layers&&r<t.layers.length;r++)i=JSGantt.findObj(n,t.layers[r].document);return!i&&document.getElementById&&(i=document.getElementById(n)),i};JSGantt.changeFormat=function(n,t){t?(t.setFormat(n),t.DrawDependencies()):alert("Chart undefined")};JSGantt.folder=function(n,t){var r=t.getList();for(i=0;i<r.length;i++)r[i].getID()==n&&(r[i].getOpen()==1?(r[i].setOpen(0),JSGantt.hide(n,t),JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText="+":JSGantt.findObj("group_"+n).textContent="+"):(r[i].setOpen(1),h(n,{callback:JSGantt.show,vTop:1,ganttObj:t}),JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText="-":JSGantt.findObj("group_"+n).textContent="-"))};JSGantt.hide=function(n,t){for(var r=t.getList(),u=0,i=0;i<r.length;i++)r[i].getParent()==n&&(u=r[i].getID(),JSGantt.findObj("child_"+u).style.display="none",JSGantt.findObj("childgrid_"+u).style.display="none",r[i].setVisible(0),r[i].getGroup()==1&&JSGantt.hide(u,t))};JSGantt.getTask=function(n,t){for(var r=t.getList(),i=0;i<r.length;i++)if(r[i].getID()==n)return r[i];return null};JSGantt.show=function(n,t,i){for(var f=i.getList(),r=0,u=0;u<f.length;u++)f[u].getParent()==n&&(r=f[u].getID(),t==1?JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText=="+"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.findObj("group_"+n).textContent=="+"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText=="–"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.findObj("group_"+n).textContent=="–"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)),f[u].getGroup()==1&&JSGantt.show(r,0,i))};JSGantt.taskLink=function(n,t,i){if(n!="null"){vWidth=t?t:400;vHeight=i?i:400;var r=window.open(n,"newwin","height="+vHeight+",width="+vWidth)}};JSGantt.parseDateStr=function(n,t){var r=new Date,i;r.setTime(Date.parse(n));switch(t){case"mm/dd/yyyy":i=n.split("/");r.setFullYear(parseInt(i[2],10),parseInt(i[0],10)-1,parseInt(i[1],10));break;case"dd/mm/yyyy":i=n.split("/");r.setFullYear(parseInt(i[2],10),parseInt(i[1],10)-1,parseInt(i[0],10));break;case"yyyy-mm-dd":i=n.split("-");r.setFullYear(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[1],10))}return r};JSGantt.formatDateStr=function(t,i){vYear4Str=t.getFullYear()+"";vYear2Str=vYear4Str.substring(2,4);vMonthStr=t.getMonth()+1+"";vDayStr=t.getDate()+"";var r=n.datepicker.formatDate("M dd,yy",t);switch(i){case"mm/dd/yyyy":return vMonthStr+"/"+vDayStr+"/"+vYear4Str;case"dd/mm/yyyy":return vDayStr+"/"+vMonthStr+"/"+vYear4Str;case"yyyy-mm-dd":return vYear4Str+"-"+vMonthStr+"-"+vDayStr;case"mm/dd/yy":return vMonthStr+"/"+vDayStr+"/"+vYear2Str;case"dd/mm/yy":return vDayStr+"/"+vMonthStr+"/"+vYear2Str;case"yy-mm-dd":return vYear2Str+"-"+vMonthStr+"-"+vDayStr;case"mm/dd":return vMonthStr+"/"+vDayStr;case"dd/mm":return vDayStr+"/"+vMonthStr;case"M dd,yy":return r}};JSGantt.parseXML=function(n,t){var i=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM")}catch(r){try{i==!1&&(xmlDoc=document.implementation.createDocument("","",null))}catch(r){alert(r.message);return}}i==!1?(xmlDoc.async=!1,xmlDoc.load(n),JSGantt.AddXMLTask(t),xmlDoc=null,Task=null):(JSGantt.ChromeLoadXML(n,t),ta=null)};JSGantt.AddXMLTask=function(n){var i,t;for(Task=xmlDoc.getElementsByTagName("task"),i=xmlDoc.documentElement.childNodes.length,t=0;t<i;t++){try{pID=Task[t].getElementsByTagName("pID")[0].childNodes[0].nodeValue}catch(r){pID=0}if(pID*=1,pID!=0){try{pName=Task[t].getElementsByTagName("pName")[0].childNodes[0].nodeValue}catch(r){pName="No Task Name"}try{pColor=Task[t].getElementsByTagName("pColor")[0].childNodes[0].nodeValue}catch(r){pColor="0000ff"}try{pParent=Task[t].getElementsByTagName("pParent")[0].childNodes[0].nodeValue}catch(r){pParent=0}pParent*=1;try{pStart=Task[t].getElementsByTagName("pStart")[0].childNodes[0].nodeValue}catch(r){pStart=""}try{pEnd=Task[t].getElementsByTagName("pEnd")[0].childNodes[0].nodeValue}catch(r){pEnd=""}try{pLink=Task[t].getElementsByTagName("pLink")[0].childNodes[0].nodeValue}catch(r){pLink=""}try{pMile=Task[t].getElementsByTagName("pMile")[0].childNodes[0].nodeValue}catch(r){pMile=0}pMile*=1;try{pRes=Task[t].getElementsByTagName("pRes")[0].childNodes[0].nodeValue}catch(r){pRes=""}try{pComp=Task[t].getElementsByTagName("pComp")[0].childNodes[0].nodeValue}catch(r){pComp=0}pComp*=1;try{pGroup=Task[t].getElementsByTagName("pGroup")[0].childNodes[0].nodeValue}catch(r){pGroup=0}pGroup*=1;try{pOpen=Task[t].getElementsByTagName("pOpen")[0].childNodes[0].nodeValue}catch(r){pOpen=1}pOpen*=1;try{pDepend=Task[t].getElementsByTagName("pDepend")[0].childNodes[0].nodeValue}catch(r){pDepend=0}pDepend.length==0&&(pDepend="");try{pCaption=Task[t].getElementsByTagName("pCaption")[0].childNodes[0].nodeValue}catch(r){pCaption=""}n.AddTaskItem(new JSGantt.TaskItem(pID,pName,pStart,pEnd,pColor,pLink,pMile,pRes,pComp,pGroup,pParent,pOpen,pDepend,pCaption))}}};JSGantt.ChromeLoadXML=function(n,t){XMLLoader=new XMLHttpRequest;XMLLoader.onreadystatechange=function(){JSGantt.ChromeXMLParse(t)};XMLLoader.open("GET",n,!1);XMLLoader.send(null)};JSGantt.ChromeXMLParse=function(n){var u,l,i,f,a,v,y,p,w,e,b,o,s,h,c,r,t,k;if(XMLLoader.readyState==4)for(u=XMLLoader.responseText.split(/<task>/gi),l=u.length,i=1;i<l;i++)Task=u[i].replace(/<[/]p/g,"<p"),t=Task.split(/<pid>/i),f=t.length>2?t[1]:0,f*=1,t=Task.split(/<pName>/i),a=t.length>2?t[1]:"No Task Name",t=Task.split(/<pstart>/i),v=t.length>2?t[1]:"",t=Task.split(/<pEnd>/i),y=t.length>2?t[1]:"",t=Task.split(/<pColor>/i),p=t.length>2?t[1]:"0000ff",t=Task.split(/<pLink>/i),w=t.length>2?t[1]:"",t=Task.split(/<pMile>/i),e=t.length>2?t[1]:0,e*=1,t=Task.split(/<pRes>/i),b=t.length>2?t[1]:"",t=Task.split(/<pComp>/i),o=t.length>2?t[1]:0,o*=1,t=Task.split(/<pGroup>/i),s=t.length>2?t[1]:0,s*=1,t=Task.split(/<pParent>/i),h=t.length>2?t[1]:0,h*=1,t=Task.split(/<pOpen>/i),c=t.length>2?t[1]:1,c*=1,t=Task.split(/<pDepend>/i),r=t.length>2?t[1]:"",r.length==0&&(r=""),t=Task.split(/<pCaption>/i),k=t.length>2?t[1]:"",n.AddTaskItem(new JSGantt.TaskItem(f,a,v,y,p,w,e,b,o,s,h,c,r,k))};JSGantt.benchMark=function(n){var t=(new Date).getTime();alert(n+": Elapsed time: "+(t-o)/1e3+" seconds.");o=(new Date).getTime()};n.fn.ResetGantt=function(t){return this.each(function(){var i=this;n.isFunction(i._resetGantt)&&i._resetGantt(t)})}})(jQuery);
/*
//# sourceMappingURL=relay.ganttViewer.min.js.map
*/
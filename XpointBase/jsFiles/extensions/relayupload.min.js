(function(n){n.fn.gridupload=function(t){var i={exts:["jpeg","doc","pdf","gif"],size:100,uploadurl:"",fileid:"gridupload"+n(this).attr("id"),text:"Add",buttonid:"griduploadbutton"+n(this).attr("id"),title:"Add"},t=n.extend(i,t);this.each(function(){var r=n(this),e=r.get(0).p.pager.attr("id"),o="<div id='"+t.fileid+"' class='xp-FloatRight'><a href='#' style='color:#3F3F40 !important'>"+t.text+"<\/a><\/div>",s,i,u,f;n(r).navButtonAdd("#"+e,{caption:o,buttonicon:"ui-icon-plus",position:"first",id:t.buttonid,title:t.title});s=n("#"+t.fileid);i=n("<div id='"+n(this).attr("id")+"_errordialog' class='xp-Width' title='Error'/>");i.html("");i.dialog("destroy");u=n("<div />");i.append(u);n("body").append(i);f=new AjaxUpload("#"+t.buttonid,{data:{currenturl:location.href},action:t.uploadurl,onSubmit:function(t,e){var s=r.get(0).p.postData.phaseid,o;if(typeof s=="undefined"&&(s="-1"),f.setData({currenturl:location.href,phaseid:s}),i.dialog("destroy"),e&&/^(jpg|png|jpeg|gif|bmp|doc|docx|xls|xlsx|ppt|pptx|pdf|txt|fla|avi|wmv|mov|mpg|mp3|mp4|rtf|msg)$/i.test(e))o=r.get(0),o&&(o.p.loadui="block",n("#lui_"+o.p.id).show(),n("#load_"+o.p.id).show());else return u.html("Invalid file extension. Allowed extensions are jpg, png, jpeg, gif, bmp, doc, docx, xls, xlsx, ppt, pptx, pdf, txt, fla, avi, wmv, mov, mpg, mp3, mp4, rtf, msg."),i.dialog(),!1},onComplete:function(t,f){var o,s,e;n.relayloading("hide");i.dialog("destroy");o="";f.text!=null?o=f.text:f.firstChild!=null&&(o=f.firstChild.firstChild.nodeValue);o=="success"?(s=r.get(0).p.postData.parentid,typeof s!="undefined"?n("#"+s).trigger("reloadGrid"):r.trigger("reloadGrid")):o=="AlreadyExists"?(e=r.get(0),e&&(e.p.loadui="block",n("#lui_"+e.p.id).hide(),n("#load_"+e.p.id).hide()),u.html("File name already exists."),i.dialog({resizable:!1}).dialog("open")):(e=r.get(0),e&&(e.p.loadui="block",n("#lui_"+e.p.id).hide(),n("#load_"+e.p.id).hide()),u.html("Operation unsuccessful!  Please check if you are trying to upload a valid file, or if the file is empty or already exists or exceeds maximum size limit (28 MB)."),i.dialog({resizable:!1}).dialog("open"))}})})}})(jQuery);
/*
//# sourceMappingURL=relayupload.min.js.map
*/
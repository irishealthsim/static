jQuery.fn.classification=function(n){function r(i){var u=i.d,o,s;if(u.itemIds){var r=u.itemIds.split(","),f=u.items.split(","),h=u.clientid,e=$("#"+h);n.allowblank==!1?t.find("option").remove():e.html($("<option><\/option>").val("").html(""));o=!1;s=!1;switch(typeof n.selectedtext){case"string":$.trim(n.selectedtext).length>0&&(o=!0);break;case"number":$(n.selectedtext).length>0&&(o=!0)}switch(typeof n.selectedvalue){case"string":$.trim(n.selectedvalue).length>0&&(s=!0);break;case"number":$(n.selectedvalue).length>0&&(s=!0)}$(r).each(function(t){var u=!1,i;if(f[t]==""||r[t]=="")return!1;o==!0&&f[t]==n.selectedtext&&(u=!0);s==!0&&r[t]==n.selectedvalue&&(u=!0);u==!0?e.append($('<option selected="selected"><\/option>').val(r[t]).html(f[t])):(i=document.createElement("option"),i.text=f[t],i.value=r[t],e[0].options.add(i))});n.allowblank==!1&&e.trigger("change")}else $id="#"+t.attr("id"),$($id).find("option").remove()}var n=jQuery.extend({listname:"",columnname:"",parentcolumnname:"",parentid:"",serviceurl:"",customattr:"",uniquevals:!1,autoindexing:!1,valuecolumn:"ID",allowblank:!0,selectedvalue:"",selectedtext:"",parentKey:""},n),t=$(this),i;return t.attr("listname",n.listname),t.attr("columnname",n.columnname),t.attr("parentcolumnname",n.parentcolumnname),t.attr("parentid",n.parentid),t.attr("serviceurl",n.serviceurl),n.parentid!=""?($("#"+n.parentid).change(function(){var i,u;$(this).val()!=""?(i=n.customattr==null||n.customattr==""?$(this).val():$("#"+$(this).attr("id")+" option:selected").attr(n.customattr),n.parentKey!=""&&(i=n.parentKey,n.parentKey=""),u={classificationparams:{listname:n.listname,columnname:n.columnname,parentcolumnname:n.parentcolumnname,parentselection:i,clientid:t.attr("id"),autoindexing:n.autoindexing,uniquevals:n.uniquevals,valuecolumn:n.valuecolumn}},$.ajax({url:t.attr("serviceurl"),contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:$.toJSON(u),success:r})):t.html("")}),this):(i={classificationparams:{listname:n.listname,columnname:n.columnname,clientid:t.attr("id"),autoindexing:n.autoindexing,uniquevals:n.uniquevals,valuecolumn:n.valuecolumn}},$.ajax({url:n.serviceurl,contentType:"application/json; charset=utf-8",type:"post",dataType:"json",data:$.toJSON(i),success:r,error:function(n,t){alert(t)}}),this)};
/*
//# sourceMappingURL=relay.classification.min.js.map
*/
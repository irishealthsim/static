(function(n){n.postSummary=n.postSummary|{};n.fn.postSummary=function(t){var i,u,t,r;if(this&&this.length!=0)return(i=this,typeof(t=="object"))?(u=i.get(0),t=n.extend(n.postSummary.defaults,t),u.options=t,n.postSummary.methods.init.call(i,t)):(r=n.postSummary.methods[t],r&&n.isFunction(r)?r.methods[t].call(i,arguments[1]):void 0)};n.postSummary={defaults:{currentUserId:null,siteUrl:null,postCount:1,page:1,needPage:!1},ids:{summaryPostContainer:"summaryPostContainer",timeStampContainer:"timeStampContainer",timeStampIcon:"timeStampIcon",timeStampDiv:"timeStampDiv",postLink:"postLink",postLinkDiv:"postLinkDiv",dateDiv:"dateDiv"},classes:{summaryPostContainer:"xp-FloatLeft xp-Width xp-PaddingTop-10",timeStampContainer:"xp-FloatLeft xp-MarginLeft-5 xp-PositionRelative xp-MarginTop-5",timeStampIcon:"xp-FloatLeft  xp-Icon  xp-IconTimestamp xp-PaddingRight-3",timeStampDiv:"xp-FloatLeft xp-CharCounter xp-IconTxtAlign",postLink:"xp-LinkLabel Tip-HPLatestPost",postLinkDiv:"xp-FloatLeft xp-Padding-4",dateDiv:"xp-PositionAbsolute xp-Padding-4 ui-state-default xp-BoxShadow xp-DisplayNone xp-DateHoverDiv "},paths:{getSummaryPost:"/_vti_bin/XPointBase/UserPostsService.svc/getPosts"},methods:{init:function(t){return this.each(function(){var i=n(this),r=n("<div />").attr("id",n.postSummary.ids.summaryPostContainer).attr("class",n.postSummary.classes.summaryPostContainer).attr("data-options",t).data("options",t).appendTo(i);n.postSummary.methods.getPostData.call(r,t)})},getPostData:function(t){var i=n(this),r;i.empty();r={url:n.postSummary.paths.getSummaryPost,data:{numberOfPosts:t.postCount,contentTypes:"ALL",page:t.page,needPage:t.needPage},type:"GET",dataType:"json",success:function(t){var r=t.GetPostsResult;r.Data.length>0&&n.postSummary.methods.createHtml.call(i,r.Data[0])}};n.xpointTemplates.methods.ajaxCall.call(this,r)},createHtml:function(t){var i=n(this),e=i.data().options,u=new Date(parseInt(t.CreatedDate.substr(6))),o=n.xpointTemplates.methods.formatDate(u),s=e.siteUrl+"/SitePages/Post.aspx?PostID="+t.Id,h=n("<div />").attr("id",n.postSummary.ids.postLinkDiv).attr("class",n.postSummary.classes.postLinkDiv).appendTo(i),c=n("<a>view my latest post<\/a>").attr("id",n.postSummary.ids.postLink).attr("href",s).attr("class",n.postSummary.classes.postLink).appendTo(h),r=n("<div />").attr("id",n.postSummary.ids.timeStampContainer).attr("class",n.postSummary.classes.timeStampContainer).attr("style","z-index:10").appendTo(i),l=n("<div />").attr("id",n.postSummary.ids.timeStampIcon).attr("class",n.postSummary.classes.timeStampIcon).appendTo(r),f=n("<div />").attr("id",n.postSummary.ids.dateDiv).attr("class",n.postSummary.classes.dateDiv).attr("style","left:20px;top:20px").append(o).appendTo(r),a=n("<div />").attr("id",n.postSummary.ids.timeStampDiv).attr("class",n.postSummary.classes.timeStampDiv).append(n.timeago(u)).appendTo(r).hover(function(){f.removeClass(n.xpointTemplates.classes.displayNone)},function(){f.addClass(n.xpointTemplates.classes.displayNone)})}}}})(jQuery);
/*
//# sourceMappingURL=xpoint.summaryPost.min.js.map
*/
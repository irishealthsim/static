function cancelEdit(){$(".EditContainer").jqmHide()}var g,JSGantt;(function(n){function c(t,i){var u="child_"+t,r=JSGantt.findObj(u);if(r){var f=n("body").scrollTop(),e=n(r).position().top,o=n(r.cells[2]).position().left-40,s=f+e;n(".GVHoverMenu")[0].id=i;n(".GVHoverMenu").css("left",o);n(".GVHoverMenu").css("top",s);n(".GVHoverMenu").css("border","none");n(".GVHoverMenu:hidden").show();n(".GVHoverMenu #cMenu").hide()}}function l(n,t){switch(t){case"Edit":o(n,a)}}function a(i){var r=i.d,u=new Date(r.m_StartDate),e=new Date(r.m_MinStartDate),o=new Date(r.m_MaxStartDate),f=new Date(r.m_DueDate),s=new Date(r.m_MinDueDate),h=new Date(r.m_MaxDueDate);n("#"+t.controlids.PhaseIdDiv).text(r.m_Id);n("#"+t.controlids.TitleDiv).text(r.m_Title);n("#"+t.controlids.StartDateDiv).text(n.datepicker.formatDate("M dd,yy",u));n("#"+t.controlids.EndDatePicker).val(n.datepicker.formatDate("M dd,yy",f)).bind("keypress",function(){return!1});n("#"+t.controlids.EditDiv).data("title.dialog",r.m_Title);n("#"+t.controlids.EndDatePicker).datepicker("destroy");n("#"+t.controlids.EndDatePicker).datepicker({minDate:u,dateFormat:"M dd,yy"});n("#"+t.controlids.EditDiv).dialog("open")}var t,r,v,u;n.fn.phaseviewer=function(i){var r=n(this);return t=n.extend({trackerid:"",serviceurl:"/_layouts/IImpact.Web/GanttViewerService.asmx",renderingduration:"week",isedit:!0},i||{}),t.ganttchartdiv=r.attr("id"),t.controlids={PhaseIdDiv:n(this).attr("id")+"phaseIdDiv",EditDiv:n(this).attr("id")+"phaseViewerOuterEditDiv",TitleDiv:n(this).attr("id")+"phaseViewerTitleDiv",StartDateDiv:n(this).attr("id")+"phaseViewerStartDateDiv",EndDatePicker:n(this).attr("id")+"phaseViewerEndDatePicker"},t.ContentTypes={0:"PartialContentType",1:"SuperQuickWinContentType",2:"QuickWinContentType",3:"BaseTaskContentType",4:"PhaseContentType",5:"TaskGroupContentType"},t.CTypeColor=["0000ff","00ffff","1E90FF","E9967A","FF8C00","A0522D"],t.g=new JSGantt.GanttChart("g",document.getElementById(t.ganttchartdiv),t.renderingduration),g=null,g=t.g,t.g.setShowRes(1),t.g.setShowDur(1),t.g.setShowComp(1),t.g.setCaptionType("None"),t.g.setShowStartDate(0),t.g.setShowEndDate(0),t.g.setDateInputFormat("mm/dd/yyyy"),t.g.setDateDisplayFormat("mm/dd/yyyy"),t.g.setFormatArr("day","week","month","quarter"),this.each(function(){var s,u,i,o;t.isedit&&(s=n("#gvHoverMenu"),s.length==0&&(u="",u+="<div id='gvHoverMenu' class='GVHoverMenu'><div id='trigger'><div class='ui-icon ui-icon-triangle-1-s'><\/div>",u+="<\/div><div id='cMenu' style='display:none; padding:0px'>",u+="<ul><li id='Edit'>Edit<\/li>",u+="<\/ul><\/div><\/div>",n(r.parent()).append(u)),n(".GVHoverMenu #trigger div").click(function(){n(".GVHoverMenu").css("border","1px #6B86B5 solid");n(".GVHoverMenu #cMenu").show(300)}),n(".GVHoverMenu").blur(function(){n(".GVHoverMenu").css("border-style","none");n(".GVHoverMenu #cMenu").hide(100)}),n("#ganttcontainer").mouseleave(function(){n(".GVHoverMenu").fadeOut()}),n(".GVHoverMenu li").click(function(){n(".GVHoverMenu").hide(50);var t=this.id,i=n(this).parents(".GVHoverMenu")[0].id;l(i,t)}),i=n("#"+t.controlids.EditDiv),i.length==0&&(i=n("<div  id='"+t.controlids.EditDiv+"' ><\/div>"),o="<div id='"+t.controlids.PhaseIdDiv+"' style='display:none' /><table width=100%><tr><td>",o+="<b>Title<\/b> <\/td>",o+="<td><div id='"+t.controlids.TitleDiv+"'/><\/td><\/tr>",o+="<tr><td><b>Start Date<\/b><\/td><td><div id='"+t.controlids.StartDateDiv+"'/><\/td><\/tr>",o+="<tr><td><b>End Date<\/b><\/td><td><input type='text' autocomplete='off' id='"+t.controlids.EndDatePicker+"' /><\/td><\/tr><\/table>",i.append(o),n(r.parent()).append(i)),i.dialog("close"),i.dialog({open:function(){},autoOpen:!1,height:330,width:400,modal:!0,buttons:{Cancel:function(){n("#"+t.controlids.EndDatePicker).datepicker("destroy");n(this).dialog("close")},Update:function(){var u=new Date(n("#"+t.controlids.EndDatePicker).datepicker("getDate")),f;u=n.datepicker.formatDate("mm/dd/yy",u);f=n("#"+t.controlids.PhaseIdDiv).text();n.ajax({url:t.serviceurl+"/UpdateDates",type:"POST",contentType:"application/json; charset=utf-8",success:function(u){var f=u.d,e,o;f=="success"?(i.dialog("close"),e=n("#"+t.ganttchartdiv),e.html(""),n(".GVHoverMenu").remove(),o=t.trackerid,t="",g="",r.phaseviewer({trackerid:o})):alert(f)},dataType:"json",data:"{'trackerid' : '"+t.trackerid+"' , phaseid:'"+f+"',enddate:'"+u+"'}"})}},close:function(){n("#ui-datepicker-div").hide()}}));e(t.trackerid,f)})};var f=function(n){var i=n.d,u,f;for(i.m_IsExpanded=!0,i.m_Edit=!1,r(i),u=0;u<i.m_Children.length;u++)f=i.m_Children[u],t.isedit||(f.m_Edit=!1),r(f);t.g.Draw();t.g.DrawDependencies()},e=function(i,r){n.ajax({url:t.serviceurl+"/GetPhaseGanttTask",type:"POST",contentType:"application/json; charset=utf-8",success:r,dataType:"json",data:"{'itemId' : '"+i+"'}"})},o=function(i,r){n.ajax({url:t.serviceurl+"/GetPhaseTaskDetail",type:"POST",contentType:"application/json; charset=utf-8",success:r,dataType:"json",data:"{'trackerid' : '"+t.trackerid+"' ,'phaseid' : '"+i+"' }"})},s=function(i,r){for(var f=t.g,e=f.getList(),u=0;u<e.length;u++)if(e[u].getID()==i)if(e[u].getNumKids()>0){r.callback(i,r.vTop,f);break}else{n.ajax({url:t.serviceurl+"/GetGanttTaskChildren",type:"POST",contentType:"application/json; charset=utf-8",success:function(n){h(n);r.callback(i,r.vTop,f)},dataType:"json",data:"{'itemId' : '"+i+"'}"});break}},h=function(n){var u=n.d;for(i=0;i<u.length;i++)r(u[i]);t.g.Draw();t.g.DrawDependencies()};r=function(n){var i=new Date(n.m_StartDate),r=i.getMonth()+1,u=i.getDate(),l=(r<10?"0"+r:r)+"/"+(u<10?"0"+u:u)+"/"+i.getFullYear(),f=new Date(n.m_DueDate),e=f.getMonth()+1,o=f.getDate(),a=(e<10?"0"+e:e)+"/"+(o<10?"0"+o:o)+"/"+f.getFullYear(),v=t.CTypeColor[n.m_ContentType],s,h,c;s=n.m_Owner==null?"":n.m_Owner;h=n.m_Edit==null?!1:n.m_Edit;c=n.m_PhaseID;t.g.AddTaskItem(new JSGantt.TaskItem(n.m_Id,n.m_Title,l,a,v,n.m_Link,0,s,n.m_PercentComplete,n.m_IsGroup?1:0,n.m_ParentID,n.m_IsExpanded?1:0,"","",h,c))};JSGantt||(JSGantt={});v=0;u=(new Date).getTime();JSGantt.TaskItem=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var tt=!0;y!=null&&(tt=y);var yt=p,pt=n,wt=t,k=new Date,d=new Date,it=u,bt=f,rt=e,ut=o,b=s,kt=h,dt=c,ft=l,nt=a,et=v,w="",ot=0,st=0,ht=1,ct,lt,at,vt;k=JSGantt.parseDateStr(i,g.getDateInputFormat());d=JSGantt.parseDateStr(r,g.getDateInputFormat());this.getPhaseId=function(){return yt};this.getEdit=function(){return tt};this.getID=function(){return pt};this.getName=function(){return wt};this.getStart=function(){return k};this.getEnd=function(){return d};this.getColor=function(){return it?it:"1E90FF"};this.getLink=function(){return bt};this.getMile=function(){return rt};this.getDepend=function(){return nt?nt:null};this.getCaption=function(){return et?et:""};this.getResource=function(){return ut?ut:"&nbsp"};this.getCompVal=function(){return b?b:0};this.getCompStr=function(){return b?b+"%":""};this.getDuration=function(n){return rt?w="-":n=="hour"?(tmpPer=Math.ceil((this.getEnd()-this.getStart())/36e5),w=tmpPer==1?"1 Hour":tmpPer+" Hours"):n=="minute"?(tmpPer=Math.ceil((this.getEnd()-this.getStart())/6e4),w=tmpPer==1?"1 Minute":tmpPer+" Minutes"):(tmpPer=Math.ceil((this.getEnd()-this.getStart())/864e5+1),w=tmpPer==1?"1 Day":tmpPer+" Days"),w};this.getParent=function(){return dt};this.getGroup=function(){return kt};this.getOpen=function(){return ft};this.getLevel=function(){return ot};this.getNumKids=function(){return st};this.getStartX=function(){return ct};this.getStartY=function(){return lt};this.getEndX=function(){return at};this.getEndY=function(){return vt};this.getVisible=function(){return ht};this.setDepend=function(n){nt=n};this.setStart=function(n){k=n};this.setEnd=function(n){d=n};this.setLevel=function(n){ot=n};this.setNumKid=function(n){st=n};this.setCompVal=function(n){b=n};this.setStartX=function(n){ct=n};this.setStartY=function(n){lt=n};this.setEndX=function(n){at=n};this.setEndY=function(n){vt=n};this.setOpen=function(n){ft=n};this.setVisible=function(n){ht=n}};JSGantt.GanttChart=function(t,r,u){var o=t,rt=r,e=u,l=0,a=1,v=0,y=1,p=1,d="mm/dd/yyyy",h="mm/dd/yy",w=0,nt,b=1,f=[],s=["day","week","month","quarter"],tt=[1,1,1,2,2,2,3,3,3,4,4,4],ut=[31,28,31,30,31,30,31,31,30,31,30,31],it=["January","February","March","April","May","June","July","August","September","October","November","December"];this.setFormatArr=function(){s=[];for(var n=0;n<arguments.length;n++)s[n]=arguments[n];s.length>4&&(s.length=4)};this.setShowRes=function(n){l=n};this.setShowDur=function(n){a=n};this.setShowComp=function(n){v=n};this.setShowStartDate=function(n){y=n};this.setShowEndDate=function(n){p=n};this.setDateInputFormat=function(n){d=n};this.setDateDisplayFormat=function(n){h=n};this.setCaptionType=function(n){nt=n};this.setFormat=function(n){e=n;this.Draw()};this.getShowRes=function(){return l};this.getShowDur=function(){return a};this.getShowComp=function(){return v};this.getShowStartDate=function(){return y};this.getShowEndDate=function(){return p};this.getDateInputFormat=function(){return d};this.getDateDisplayFormat=function(){return h};this.getCaptionType=function(){return nt};this.CalcTaskXY=function(){var n=this.getList(),r,t;for(i=0;i<n.length;i++)vID=n[i].getID(),r=document.getElementById("taskbar_"+vID),vBarDiv=document.getElementById("bardiv_"+vID),t=document.getElementById("childgrid_"+vID),vBarDiv&&(n[i].setStartX(vBarDiv.offsetLeft),n[i].setStartY(t.offsetTop+vBarDiv.offsetTop+6),n[i].setEndX(vBarDiv.offsetLeft+vBarDiv.offsetWidth),n[i].setEndY(t.offsetTop+vBarDiv.offsetTop+6))};this.AddTaskItem=function(n){for(var i=n.getParent(),r=this.getArrayLocationByID(i)==undefined?-1:this.getArrayLocationByID(i),t=r+1;t<f.length&&f[t].getParent()==i;t++);f.splice(t,0,n)};this.getList=function(){return f};this.clearDependencies=function(){var t=document.getElementById("rightside"),n,r=b;for(i=1;i<r;i++)n=document.getElementById("line"+i),n&&t.removeChild(n);b=1};this.sLine=function(n,t,i,r){vLeft=Math.min(n,i);vTop=Math.min(t,r);vWid=Math.abs(i-n)+1;vHgt=Math.abs(r-t)+1;vDoc=document.getElementById("rightside");var u=document.createElement("div");u.id="line"+b++;u.style.position="absolute";u.style.margin="0px";u.style.padding="0px";u.style.overflow="hidden";u.style.border="0px";u.style.zIndex=0;u.style.backgroundColor="red";u.style.left=vLeft+"px";u.style.top=vTop+"px";u.style.width=vWid+"px";u.style.height=vHgt+"px";u.style.visibility="visible";vDoc.appendChild(u)};this.dLine=function(n,t,r,u){var f=r-n,e=u-t,s=n,h=t,o=Math.max(Math.abs(f),Math.abs(e));for(f=f/o,e=e/o,i=0;i<=o;i++)vx=Math.round(s),vy=Math.round(h),this.sLine(vx,vy,vx,vy),s+=f,h+=e};this.drawDependency=function(n,t,i,r){n+10<i?(this.sLine(n,t,n+4,t),this.sLine(n+4,t,n+4,r),this.sLine(n+4,r,i,r),this.dLine(i,r,i-3,r-3),this.dLine(i,r,i-3,r+3),this.dLine(i-1,r,i-3,r-2),this.dLine(i-1,r,i-3,r+2)):(this.sLine(n,t,n+4,t),this.sLine(n+4,t,n+4,r-10),this.sLine(n+4,r-10,i-8,r-10),this.sLine(i-8,r-10,i-8,r),this.sLine(i-8,r,i,r),this.dLine(i,r,i-3,r-3),this.dLine(i,r,i-3,r+3),this.dLine(i-1,r,i-3,r-2),this.dLine(i-1,r,i-3,r+2))};this.DrawDependencies=function(){var n,t,i,r;for(this.CalcTaskXY(),this.clearDependencies(),n=this.getList(),t=0;t<n.length;t++)if(vDepend=n[t].getDepend(),vDepend){var f=vDepend+"",u=f.split(","),e=u.length;for(i=0;i<e;i++)r=this.getArrayLocationByID(u[i]),n[r].getVisible()==1&&this.drawDependency(n[r].getEndX(),n[r].getEndY(),n[t].getStartX()-1,n[t].getStartY())}};this.getArrayLocationByID=function(n){for(var i=this.getList(),t=0;t<i.length;t++)if(i[t].getID()==n)return t};this.Draw=function(){var at=new Date,d=new Date,n=new Date,b=new Date,k=new Date,ct=0,st=0,kt=0,u=0,pt="",r="",c="",nt="",ft="",t=0,et=0,wt=0,dt=0,ht=0,vt="",lt=100,ot=70,yt,bt;if(f.length>0){for(JSGantt.processRows(f,0,-1,1,1),d=JSGantt.getMinDate(f,e),at=JSGantt.getMaxDate(f,e),e=="day"?(t=18,et=1):e=="week"?(t=37,et=7):e=="month"?(t=37,et=30):e=="quarter"?(t=60,et=90):e=="hour"?(t=18,et=1):e=="minute"&&(t=18,et=1),dt=(Date.parse(at)-Date.parse(d))/864e5,w=dt/et,wt=w*t+1,ht=t/et+1/et,pt="<TABLE id=theTable cellSpacing=0 cellPadding=0 border=0 width=100%><TBODY><TR><TD vAlign=top bgColor=#ffffff>",l=0,a=1,y=1,p=1,v=0,l!=1&&(lt+=ot),a!=1&&(lt+=ot),v!=1&&(lt+=ot),y!=1&&(lt+=ot),p!=1&&(lt+=ot),r='<DIV class=scroll id=leftside><TABLE cellSpacing=0 cellPadding=0 border=0 width=100%><TBODY><TR style="HEIGHT: 17px">  <TD style="WIDTH: 15px; HEIGHT: 17px"><\/TD>  <TD style="WIDTH: '+lt+'px; HEIGHT: 17px"><NOBR><\/NOBR><\/TD>',l==1&&(r+='  <TD style="WIDTH: '+ot+'px; HEIGHT: 17px"><\/TD>'),a==1&&(r+='  <TD style="WIDTH: '+ot+'px; HEIGHT: 17px"><\/TD>'),v==1&&(r+='  <TD style="WIDTH: '+ot+'px; HEIGHT: 17px"><\/TD>'),y==1&&(vnewWidth=ot+10),r+='  <TD style="WIDTH: '+ot+'px; HEIGHT: 17px"><\/TD>',p==1&&(r+='  <TD style="WIDTH: '+ot+'px; HEIGHT: 17px"><\/TD>'),r+='<TR style="HEIGHT: 20px">  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: 15px; HEIGHT: 20px"><\/TD>  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: '+lt+'px; HEIGHT: 20px"><NOBR><\/NOBR><\/TD>',l==1&&(r+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>Resource<\/TD>'),a==1&&(r+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px;font-weight:bold;" align=center nowrap>Duration<\/TD>'),v==1&&(r+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px;font-weight:bold;" align=center nowrap>% Comp.<\/TD>'),y==1&&(r+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 68px; HEIGHT: 20px;font-weight:bold;White-space:nowrap;" align=center >Start Date<\/TD>'),p==1&&(r+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px;font-weight:bold;" align=center nowrap>End Date<\/TD>'),r+="<\/TR>",i=0;i<f.length;i++){for(f[i].getGroup()?(vBGColor="f3f3f3",vRowType="group"):(vBGColor="ffffff",vRowType="row"),u=f[i].getID(),yt=f[i].getEdit(),r+=f[i].getVisible()==0?"<TR id=child_"+u+" bgcolor=#"+vBGColor+' style="display:none"  onMouseover=g.mouseOver(this,'+u+',"left","'+vRowType+'",'+yt+") onMouseout=g.mouseOut(this,"+u+',"left","'+vRowType+'")>':"<TR id=child_"+u+" bgcolor=#"+vBGColor+" onMouseover=g.mouseOver(this,"+u+',"left","'+vRowType+'",'+yt+") onMouseout=g.mouseOut(this,"+u+',"left","'+vRowType+'")>',r+='  <TD class=gdatehead style="WIDTH: 15px; HEIGHT: 20px; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;">&nbsp;<\/TD>  <TD class=gname style="WIDTH: '+lt+'px; HEIGHT: 20px; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;" nowrap><NOBR><span style="color: #aaaaaa">',j=1;j<f[i].getLevel();j++)r+="&nbsp&nbsp&nbsp&nbsp";r+="<\/span>";r+=f[i].getGroup()?f[i].getOpen()==1?'<SPAN id="group_'+u+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+u+","+o+");"+o+'.DrawDependencies();">&ndash;<\/span><span style="color:#000000">&nbsp<\/SPAN>':'<SPAN id="group_'+u+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+u+","+o+");"+o+'.DrawDependencies();">+<\/span><span style="color:#000000">&nbsp<\/SPAN>':'<span style="color: #000000; font-weight:bold; FONT-SIZE: 12px;">&nbsp&nbsp&nbsp<\/span>';r+='<span onclick=JSGantt.taskLink("'+f[i].getLink()+'",300,200); style="cursor:pointer"> '+f[i].getName()+"<\/span><\/NOBR><\/TD>";l==1&&(r+='  <TD class=gname style="Padding-left:2px;WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: left; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+f[i].getResource()+"<\/NOBR><\/TD>");a==1&&(r+='  <TD class=gname style="Padding-left:2px;WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: left; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+f[i].getDuration(e)+"<\/NOBR><\/TD>");v==1&&(r+='  <TD class=gname style="Padding-left:2px;WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: left; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+f[i].getCompStr()+"<\/NOBR><\/TD>");y==1&&(r+='  <TD class=gname style="Padding-left:2px;WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: left; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(f[i].getStart(),"M dd,yy")+"<\/NOBR><\/TD>");p==1&&(r+='  <TD class=gname style="Padding-left:2px;WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: left; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(f[i].getEnd(),"M dd,yy")+"<\/NOBR><\/TD>");r+="<\/TR>"}for(r+='<\/TD><\/TR><TR><TD border=1 colspan=5 align=left style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 11px; BORDER-LEFT: #efefef 1px solid; height=18px">&nbsp;&nbsp;&nbsp;&nbsp;Format:',s.join().indexOf("minute")!=-1&&(r+=e=="minute"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="minute" checked>Minute':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("minute",'+o+'); VALUE="minute">Minute'),s.join().indexOf("hour")!=-1&&(r+=e=="hour"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="hour" checked>Hour':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("hour",'+o+'); VALUE="hour">Hour'),s.join().indexOf("day")!=-1&&(r+=e=="day"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="day" checked>Day':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("day",'+o+'); VALUE="day">Day'),s.join().indexOf("week")!=-1&&(r+=e=="week"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="week" checked>Week':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("week",'+o+') VALUE="week">Week'),s.join().indexOf("month")!=-1&&(r+=e=="month"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="month" checked>Month':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("month",'+o+') VALUE="month">Month'),s.join().indexOf("quarter")!=-1&&(r+=e=="quarter"?'<INPUT TYPE=RADIO NAME="radFormat" VALUE="quarter" checked>Quarter':'<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("quarter",'+o+') VALUE="quarter">Quarter'),r+="<\/TD><\/TR><\/TBODY><\/TABLE><\/TD>",pt+=r,c='<TD vAlign=top bgColor=#ffffff><DIV class=scroll2 id=rightside><TABLE cellSpacing=0 cellPadding=0 border=0><TBODY><TR style="HEIGHT: 18px">',n.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),n.setHours(0),n.setMinutes(0);Date.parse(n)<=Date.parse(at);)if(vt=n.getFullYear()+"",vt=vt.substring(2,4),e=="minute"&&(c+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=60>',c+=JSGantt.formatDateStr(n,h)+" "+n.getHours()+":00 -"+n.getHours()+":59 <\/td>",n.setHours(n.getHours()+1)),e=="hour"&&(c+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=24>',c+=JSGantt.formatDateStr(n,h)+"<\/td>",n.setDate(n.getDate()+1)),e=="day")c+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=7>'+JSGantt.formatDateStr(n,h.substring(0,5))+" - ",n.setDate(n.getDate()+6),c+=JSGantt.formatDateStr(n,h)+"<\/td>",n.setDate(n.getDate()+1);else if(e=="week")c+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" >`'+vt+"<\/td>",n.setDate(n.getDate()+7);else if(e=="month")for(c+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" >`'+vt+"<\/td>",n.setDate(n.getDate()+1);n.getDate()>1;)n.setDate(n.getDate()+1);else if(e=="quarter")for(c+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" >`'+vt+"<\/td>",n.setDate(n.getDate()+81);n.getDate()>1;)n.setDate(n.getDate()+1);for(c+="<\/TR><TR>",n.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),kt=0;Date.parse(n)<=Date.parse(at);)if(e=="minute")vWeekdayColor=n.getMinutes()==0?"ccccff":"ffffff",nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">'+n.getMinutes()+"<\/div><\/td>",ft+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>',n.setMinutes(n.getMinutes()+1);else if(e=="hour")vWeekdayColor=n.getHours()==0?"ccccff":"ffffff",nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">'+n.getHours()+"<\/div><\/td>",ft+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>',n.setHours(n.getHours()+1);else if(e=="day")JSGantt.formatDateStr(k,"mm/dd/yyyy")==JSGantt.formatDateStr(n,"mm/dd/yyyy")?(vWeekdayColor="ccccff",vWeekendColor="9999ff",vWeekdayGColor="bbbbff",vWeekendGColor="8888ff"):(vWeekdayColor="ffffff",vWeekendColor="cfcfcf",vWeekdayGColor="f3f3f3",vWeekendGColor="c3c3c3"),n.getDay()%6==0?(nt+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekendColor+' align=center><div style="width: '+t+'px">'+n.getDate()+"<\/div><\/td>",ft+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekendColor+' align=center><div style="width: '+t+'px">&nbsp<\/div><\/td>'):(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">'+n.getDate()+"<\/div><\/td>",ft+=JSGantt.formatDateStr(k,"mm/dd/yyyy")==JSGantt.formatDateStr(n,"mm/dd/yyyy")?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'),n.setDate(n.getDate()+1);else if(e=="week")b.setDate(b.getDate()+7),vWeekdayColor=k>=n&&k<b?"ccccff":"ffffff",b<=at?(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+t+'px><div style="width: '+t+'px">'+(n.getMonth()+1)+"/"+n.getDate()+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'):(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; bgcolor=#'+vWeekdayColor+' BORDER-RIGHT: #efefef 1px solid;" align=center width:'+t+'px><div style="width: '+t+'px">'+(n.getMonth()+1)+"/"+n.getDate()+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'),n.setDate(n.getDate()+7);else if(e=="month")for(b.setFullYear(n.getFullYear(),n.getMonth(),ut[n.getMonth()]),vWeekdayColor=k>=n&&k<b?"ccccff":"ffffff",b<=at?(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+t+'px><div style="width: '+t+'px">'+it[n.getMonth()].substr(0,3)+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'):(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+t+'px><div style="width: '+t+'px">'+it[n.getMonth()].substr(0,3)+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'),n.setDate(n.getDate()+1);n.getDate()>1;)n.setDate(n.getDate()+1);else if(e=="quarter")for(b.setDate(b.getDate()+122),n.getMonth()==0||n.getMonth()==1||n.getMonth()==2?b.setFullYear(n.getFullYear(),2,31):n.getMonth()==3||n.getMonth()==4||n.getMonth()==5?b.setFullYear(n.getFullYear(),5,30):n.getMonth()==6||n.getMonth()==7||n.getMonth()==8?b.setFullYear(n.getFullYear(),8,30):(n.getMonth()==9||n.getMonth()==10||n.getMonth()==11)&&b.setFullYear(n.getFullYear(),11,31),vWeekdayColor=k>=n&&k<b?"ccccff":"ffffff",b<=at?(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+t+'px><div style="width: '+t+'px">Qtr. '+tt[n.getMonth()]+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'):(nt+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+t+'px><div style="width: '+t+'px">Qtr. '+tt[n.getMonth()]+"<\/div><\/td>",ft+=k>=n&&k<b?'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>':'<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+t+'px">&nbsp&nbsp<\/div><\/td>'),n.setDate(n.getDate()+81);n.getDate()>1;)n.setDate(n.getDate()+1);for(c+=nt+"<\/TR>",c+="<\/TBODY><\/TABLE>",i=0;i<f.length;i++){if(n.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),vTaskStart=f[i].getStart(),vTaskEnd=f[i].getEnd(),kt=0,u=f[i].getID(),w=(f[i].getEnd()-f[i].getStart())/864e5+1,e=="hour"?w=(f[i].getEnd()-f[i].getStart())/6e4+1:e=="minute"&&(w=(f[i].getEnd()-f[i].getStart())/6e4+1),c+=f[i].getVisible()==0?"<DIV id=childgrid_"+u+' style="position:relative; display:none;">':"<DIV id=childgrid_"+u+' style="position:relative">',f[i].getMile()){if(c+='<DIV><TABLE style="position:relative; top:0px; width: '+wt+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+u+' class=yesdisplay style="HEIGHT: 20px" onMouseover=g.mouseOver(this,'+u+',"right","mile",'+yt+") onMouseout=g.mouseOut(this,"+u+',"right","mile")>'+ft+"<\/TR><\/TABLE><\/DIV>",nt=JSGantt.formatDateStr(vTaskStart,h),ct=(Date.parse(f[i].getStart())-Date.parse(d))/864e5,st=1,c+="<div id=bardiv_"+u+' style="position:absolute; top:0px; left:'+Math.max(Math.ceil(ct*ht+1),1)+'px; height: 18px; width:160px; overflow:hidden;">  <div id=taskbar_'+u+' title="'+f[i].getName()+": "+nt+'" style="height: 16px; width:12px; overflow:hidden; cursor: pointer;" onclick=JSGantt.taskLink("'+f[i].getLink()+'",300,200);>',c+=f[i].getCompVal()<100?"&loz;<\/div>":"&diams;<\/div>",g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=f[i].getCaption();break;case"Resource":vCaptionStr=f[i].getResource();break;case"Duration":vCaptionStr=f[i].getDuration(e);break;case"Complete":vCaptionStr=f[i].getCompStr()}c+='<div style="FONT-SIZE:12px; position:absolute; top:2px; width:120px; left:12px">'+vCaptionStr+"<\/div>"}c+="<\/div>"}else if(nt=JSGantt.formatDateStr(vTaskStart,h)+" - "+JSGantt.formatDateStr(vTaskEnd,h),e=="minute"?(st=(Date.parse(f[i].getEnd())-Date.parse(f[i].getStart()))/6e4+1/et,ct=Math.ceil((Date.parse(f[i].getStart())-Date.parse(d))/6e4)):e=="hour"?(st=(Date.parse(f[i].getEnd())-Date.parse(f[i].getStart()))/36e5+1/et,ct=(Date.parse(f[i].getStart())-Date.parse(d))/36e5):(st=(Date.parse(f[i].getEnd())-Date.parse(f[i].getStart()))/864e5+1/et,ct=Math.ceil((Date.parse(f[i].getStart())-Date.parse(d))/864e5),(e="day")&&(bt=new Date,bt.setTime(Date.parse(f[i].getStart())),bt.getMinutes()>29&&(ct+=.5))),f[i].getGroup()){if(c+='<DIV><TABLE style="position:relative; top:0px; width: '+wt+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+u+' class=yesdisplay style="HEIGHT: 20px" bgColor=#f3f3f3 onMouseover=g.mouseOver(this,'+u+',"right","group",'+yt+") onMouseout=g.mouseOut(this,"+u+',"right","group")>'+ft+"<\/TR><\/TABLE><\/DIV>",c+="<div id=bardiv_"+u+' style="position:absolute; top:5px; left:'+Math.max(Math.ceil(ct*ht+1),1)+"px; height: 7px; width:"+Math.max(Math.ceil(st*ht-1),1)+'px"><div id=taskbar_'+u+' title="'+f[i].getName()+": "+nt+'" class=gtask style="background-color:#000; height: 7px; width:'+Math.max(Math.ceil(st*ht-1),1)+'px;  cursor: pointer;opacity:0.9;"><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; background-color:#666666; height:3px;margin-top:1px; margin-left:1px; margin-right:1px; filter: alpha(opacity=80); opacity:0.8; width:'+f[i].getCompStr()+'; cursor: pointer;" onclick=JSGantt.taskLink("'+f[i].getLink()+'",300,200);><\/div><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4;  background-color:#000; height:4px;  width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4; background-color:#000; height:4px; width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; background-color:#000; height:3px; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4;  background-color:#000; height:3px; width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; background-color:#000; height:2px; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4;  background-color:#000; height:2px;width:1px;"><\/div><div class="xp-FloatLeft xp-Overflowhidden" style="Z-INDEX: -4; background-color:#000; height:1px; width:1px;"><\/div><div class="xp-FloatRight xp-Overflowhidden" style="Z-INDEX: -4;background-color:#000; height:1px; width:1px;"><\/div>',g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=f[i].getCaption();break;case"Resource":vCaptionStr=f[i].getResource();break;case"Duration":vCaptionStr=f[i].getDuration(e);break;case"Complete":vCaptionStr=f[i].getCompStr()}c+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil(st*ht-1)+6)+'px">'+vCaptionStr+"<\/div>"}c+="<\/div>"}else{if(vDivStr='<DIV><TABLE style="position:relative; top:0px; width: '+wt+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+u+' class=yesdisplay style="HEIGHT: 20px" bgColor=#ffffff onMouseover=g.mouseOver(this,'+u+',"right","row",'+yt+") onMouseout=g.mouseOut(this,"+u+',"right","row")>'+ft+"<\/TR><\/TABLE><\/DIV>",c+=vDivStr,c+="<div id=bardiv_"+u+' style="position:absolute; top:4px; left:'+Math.max(Math.ceil(ct*ht+1),1)+"px; height:18px; width:"+Math.max(Math.ceil(st*ht-1),1)+'px"><div id=taskbar_'+u+' title="'+f[i].getName()+": "+nt+'" class=gtask style="background-color:#'+f[i].getColor()+"; height: 13px; width:"+Math.max(Math.ceil(st*ht-1),1)+'px; cursor: pointer;opacity:0.9;" onclick=JSGantt.taskLink("'+f[i].getLink()+'",300,200); ><div class=gcomplete style="Z-INDEX: -4; float:left; background-color:black; height:5px; overflow: auto; margin-top:4px; filter: alpha(opacity=40); opacity:0.4; width:'+f[i].getCompStr()+'; overflow:hidden"><\/div><\/div>',g.getCaptionType()){vCaptionStr="";switch(g.getCaptionType()){case"Caption":vCaptionStr=f[i].getCaption();break;case"Resource":vCaptionStr=f[i].getResource();break;case"Duration":vCaptionStr=f[i].getDuration(e);break;case"Complete":vCaptionStr=f[i].getCompStr()}c+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil(st*ht-1)+6)+'px">'+vCaptionStr+"<\/div>"}c+="<\/div>"}c+="<\/DIV>"}pt+=c+"<\/DIV><\/TD><\/TR><\/TBODY><\/TABLE><\/BODY><\/HTML>";rt.innerHTML=pt}};this.mouseOver=function(t,i,r,u,e){var o,s;if(vID=r=="right"?"child_"+i:"childrow_"+i,t.bgColor="#F7931D",vRowObj=JSGantt.findObj(vID),vRowObj&&(vRowObj.bgColor="#F7931D"),n(".GVHoverMenu").hide(),n(".GVHoverMenu #cMenu").hide(),e){for(o=0,k=0;f.length;k++)if(s=f[k].getID(),i==s){o=f[k].getPhaseId();break}o>0&&c(i,o,r)}};this.mouseOut=function(n,t,i,r){vID=i=="right"?"child_"+t:"childrow_"+t;n.bgColor="#ffffff";vRowObj=JSGantt.findObj(vID);vRowObj&&(r=="group"?(n.bgColor="#f3f3f3",vRowObj.bgColor="#f3f3f3"):(n.bgColor="#ffffff",vRowObj.bgColor="#ffffff"))}};JSGantt.isIE=function(){return typeof document.all!="undefined"?!0:!1};JSGantt.processRows=function(n,t,i,r,u){for(var s=new Date,h=new Date,c=0,l=0,y=n,a=r,f=0,o=0,v=0,e=u,f=0;f<n.length;f++)n[f].getParent()==t&&(e=u,n[f].setVisible(e),e==1&&n[f].getOpen()==0&&(e=0),n[f].setLevel(a),o++,n[f].getGroup()==1&&JSGantt.processRows(y,n[f].getID(),f,a+1,e),(c==0||n[f].getStart()<s)&&(s=n[f].getStart(),c=1),(l==0||n[f].getEnd()>h)&&(h=n[f].getEnd(),l=1),v+=n[f].getCompVal());i>=0&&(n[i].setNumKid(o),n[i].setCompVal(Math.ceil(v/o)))};JSGantt.getMinDate=function(n,t){var r=new Date;for(r.setFullYear(n[0].getStart().getFullYear(),n[0].getStart().getMonth(),n[0].getStart().getDate()),i=0;i<n.length;i++)Date.parse(n[i].getStart())<Date.parse(r)&&r.setFullYear(n[i].getStart().getFullYear(),n[i].getStart().getMonth(),n[i].getStart().getDate());if(t=="minute")r.setHours(0),r.setMinutes(0);else if(t=="hour")r.setHours(0),r.setMinutes(0);else if(t=="day")for(r.setDate(r.getDate()-1);r.getDay()%7>0;)r.setDate(r.getDate()-1);else if(t=="week")for(r.setDate(r.getDate()-7);r.getDay()%7>0;)r.setDate(r.getDate()-1);else if(t=="month")while(r.getDate()>1)r.setDate(r.getDate()-1);else t=="quarter"&&(r.getMonth()==0||r.getMonth()==1||r.getMonth()==2?r.setFullYear(r.getFullYear(),0,1):r.getMonth()==3||r.getMonth()==4||r.getMonth()==5?r.setFullYear(r.getFullYear(),3,1):r.getMonth()==6||r.getMonth()==7||r.getMonth()==8?r.setFullYear(r.getFullYear(),6,1):(r.getMonth()==9||r.getMonth()==10||r.getMonth()==11)&&r.setFullYear(r.getFullYear(),9,1));return r};JSGantt.getMaxDate=function(n,t){var r=new Date;for(r.setFullYear(n[0].getEnd().getFullYear(),n[0].getEnd().getMonth(),n[0].getEnd().getDate()),i=0;i<n.length;i++)Date.parse(n[i].getEnd())>Date.parse(r)&&r.setTime(Date.parse(n[i].getEnd()));if(t=="minute"&&(r.setHours(r.getHours()+1),r.setMinutes(59)),t=="hour"&&r.setHours(r.getHours()+2),t=="day")for(r.setDate(r.getDate()+1);r.getDay()%6>0;)r.setDate(r.getDate()+1);if(t=="week")for(r.setDate(r.getDate()+11);r.getDay()%6>0;)r.setDate(r.getDate()+1);if(t=="month"){while(r.getDay()>1)r.setDate(r.getDate()+1);r.setDate(r.getDate()-1)}return t=="quarter"&&(r.getMonth()==0||r.getMonth()==1||r.getMonth()==2?r.setFullYear(r.getFullYear(),2,31):r.getMonth()==3||r.getMonth()==4||r.getMonth()==5?r.setFullYear(r.getFullYear(),5,30):r.getMonth()==6||r.getMonth()==7||r.getMonth()==8?r.setFullYear(r.getFullYear(),8,30):(r.getMonth()==9||r.getMonth()==10||r.getMonth()==11)&&r.setFullYear(r.getFullYear(),11,31)),r};JSGantt.findObj=function(n,t){var u,r,i;for(t||(t=document),(u=n.indexOf("?"))>0&&parent.frames.length&&(t=parent.frames[n.substring(u+1)].document,n=n.substring(0,u)),(i=t[n])||!t.all||(i=t.all[n]),r=0;!i&&r<t.forms.length;r++)i=t.forms[r][n];for(r=0;!i&&t.layers&&r<t.layers.length;r++)i=JSGantt.findObj(n,t.layers[r].document);return!i&&document.getElementById&&(i=document.getElementById(n)),i};JSGantt.changeFormat=function(n,t){t?(t.setFormat(n),t.DrawDependencies()):alert("Chart undefined")};JSGantt.folder=function(n,t){var r=t.getList();for(i=0;i<r.length;i++)r[i].getID()==n&&(r[i].getOpen()==1?(r[i].setOpen(0),JSGantt.hide(n,t),JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText="+":JSGantt.findObj("group_"+n).textContent="+"):(r[i].setOpen(1),s(n,{callback:JSGantt.show,vTop:1,ganttObj:t}),JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText="-":JSGantt.findObj("group_"+n).textContent="-"))};JSGantt.hide=function(n,t){for(var r=t.getList(),u=0,i=0;i<r.length;i++)r[i].getParent()==n&&(u=r[i].getID(),JSGantt.findObj("child_"+u).style.display="none",JSGantt.findObj("childgrid_"+u).style.display="none",r[i].setVisible(0),r[i].getGroup()==1&&JSGantt.hide(u,t))};JSGantt.show=function(n,t,i){for(var f=i.getList(),r=0,u=0;u<f.length;u++)f[u].getParent()==n&&(r=f[u].getID(),t==1?JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText=="+"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.findObj("group_"+n).textContent=="+"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.isIE()?JSGantt.findObj("group_"+n).innerText=="–"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)):JSGantt.findObj("group_"+n).textContent=="–"&&(JSGantt.findObj("child_"+r).style.display="",JSGantt.findObj("childgrid_"+r).style.display="",f[u].setVisible(1)),f[u].getGroup()==1&&JSGantt.show(r,0,i))};JSGantt.taskLink=function(n,t,i){if(n!="null"){vWidth=t?t:400;vHeight=i?i:400;var r=window.open(n,"newwin","height="+vHeight+",width="+vWidth)}};JSGantt.parseDateStr=function(n,t){var r=new Date,i;r.setTime(Date.parse(n));switch(t){case"mm/dd/yyyy":i=n.split("/");r.setFullYear(parseInt(i[2],10),parseInt(i[0],10)-1,parseInt(i[1],10));break;case"dd/mm/yyyy":i=n.split("/");r.setFullYear(parseInt(i[2],10),parseInt(i[1],10)-1,parseInt(i[0],10));break;case"yyyy-mm-dd":i=n.split("-");r.setFullYear(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[1],10))}return r};JSGantt.formatDateStr=function(t,i){vYear4Str=t.getFullYear()+"";vYear2Str=vYear4Str.substring(2,4);vMonthStr=t.getMonth()+1+"";vDayStr=t.getDate()+"";var r=n.datepicker.formatDate("M dd,yy",t);switch(i){case"mm/dd/yyyy":return vMonthStr+"/"+vDayStr+"/"+vYear4Str;case"dd/mm/yyyy":return vDayStr+"/"+vMonthStr+"/"+vYear4Str;case"yyyy-mm-dd":return vYear4Str+"-"+vMonthStr+"-"+vDayStr;case"mm/dd/yy":return vMonthStr+"/"+vDayStr+"/"+vYear2Str;case"dd/mm/yy":return vDayStr+"/"+vMonthStr+"/"+vYear2Str;case"yy-mm-dd":return vYear2Str+"-"+vMonthStr+"-"+vDayStr;case"mm/dd":return vMonthStr+"/"+vDayStr;case"dd/mm":return vDayStr+"/"+vMonthStr;case"M dd,yy":return r}};JSGantt.parseXML=function(n,t){var i=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM")}catch(r){try{i==!1&&(xmlDoc=document.implementation.createDocument("","",null))}catch(r){alert(r.message);return}}i==!1?(xmlDoc.async=!1,xmlDoc.load(n),JSGantt.AddXMLTask(t),xmlDoc=null,Task=null):(JSGantt.ChromeLoadXML(n,t),ta=null)};JSGantt.AddXMLTask=function(n){var i,t;for(Task=xmlDoc.getElementsByTagName("task"),i=xmlDoc.documentElement.childNodes.length,t=0;t<i;t++){try{pID=Task[t].getElementsByTagName("pID")[0].childNodes[0].nodeValue}catch(r){pID=0}if(pID*=1,pID!=0){try{pName=Task[t].getElementsByTagName("pName")[0].childNodes[0].nodeValue}catch(r){pName="No Task Name"}try{pColor=Task[t].getElementsByTagName("pColor")[0].childNodes[0].nodeValue}catch(r){pColor="0000ff"}try{pParent=Task[t].getElementsByTagName("pParent")[0].childNodes[0].nodeValue}catch(r){pParent=0}pParent*=1;try{pStart=Task[t].getElementsByTagName("pStart")[0].childNodes[0].nodeValue}catch(r){pStart=""}try{pEnd=Task[t].getElementsByTagName("pEnd")[0].childNodes[0].nodeValue}catch(r){pEnd=""}try{pLink=Task[t].getElementsByTagName("pLink")[0].childNodes[0].nodeValue}catch(r){pLink=""}try{pMile=Task[t].getElementsByTagName("pMile")[0].childNodes[0].nodeValue}catch(r){pMile=0}pMile*=1;try{pRes=Task[t].getElementsByTagName("pRes")[0].childNodes[0].nodeValue}catch(r){pRes=""}try{pComp=Task[t].getElementsByTagName("pComp")[0].childNodes[0].nodeValue}catch(r){pComp=0}pComp*=1;try{pGroup=Task[t].getElementsByTagName("pGroup")[0].childNodes[0].nodeValue}catch(r){pGroup=0}pGroup*=1;try{pOpen=Task[t].getElementsByTagName("pOpen")[0].childNodes[0].nodeValue}catch(r){pOpen=1}pOpen*=1;try{pDepend=Task[t].getElementsByTagName("pDepend")[0].childNodes[0].nodeValue}catch(r){pDepend=0}pDepend.length==0&&(pDepend="");try{pCaption=Task[t].getElementsByTagName("pCaption")[0].childNodes[0].nodeValue}catch(r){pCaption=""}n.AddTaskItem(new JSGantt.TaskItem(pID,pName,pStart,pEnd,pColor,pLink,pMile,pRes,pComp,pGroup,pParent,pOpen,pDepend,pCaption))}}};JSGantt.ChromeLoadXML=function(n,t){XMLLoader=new XMLHttpRequest;XMLLoader.onreadystatechange=function(){JSGantt.ChromeXMLParse(t)};XMLLoader.open("GET",n,!1);XMLLoader.send(null)};JSGantt.ChromeXMLParse=function(n){var u,l,i,f,a,v,y,p,w,e,b,o,s,h,c,r,t,k;if(XMLLoader.readyState==4)for(u=XMLLoader.responseText.split(/<task>/gi),l=u.length,i=1;i<l;i++)Task=u[i].replace(/<[/]p/g,"<p"),t=Task.split(/<pid>/i),f=t.length>2?t[1]:0,f*=1,t=Task.split(/<pName>/i),a=t.length>2?t[1]:"No Task Name",t=Task.split(/<pstart>/i),v=t.length>2?t[1]:"",t=Task.split(/<pEnd>/i),y=t.length>2?t[1]:"",t=Task.split(/<pColor>/i),p=t.length>2?t[1]:"0000ff",t=Task.split(/<pLink>/i),w=t.length>2?t[1]:"",t=Task.split(/<pMile>/i),e=t.length>2?t[1]:0,e*=1,t=Task.split(/<pRes>/i),b=t.length>2?t[1]:"",t=Task.split(/<pComp>/i),o=t.length>2?t[1]:0,o*=1,t=Task.split(/<pGroup>/i),s=t.length>2?t[1]:0,s*=1,t=Task.split(/<pParent>/i),h=t.length>2?t[1]:0,h*=1,t=Task.split(/<pOpen>/i),c=t.length>2?t[1]:1,c*=1,t=Task.split(/<pDepend>/i),r=t.length>2?t[1]:"",r.length==0&&(r=""),t=Task.split(/<pCaption>/i),k=t.length>2?t[1]:"",n.AddTaskItem(new JSGantt.TaskItem(f,a,v,y,p,w,e,b,o,s,h,c,r,k))};JSGantt.benchMark=function(n){var t=(new Date).getTime();alert(n+": Elapsed time: "+(t-u)/1e3+" seconds.");u=(new Date).getTime()}})(jQuery);
/*
//# sourceMappingURL=relay.phaseviewer.min.js.map
*/
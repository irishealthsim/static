var jsAlertSettings={_serviceUrl:"/_layouts/IImpact.Web/MyActiveNotification.asmx/",_imgUrlAlert:"_layouts/images/XPointBase/myalerts_active.png",_imgNotification:"#imgRlnotification",_activeDiv:"#activeAlert",_archiveDiv:"#archiveAlerts",_notificationTab:"#rlNotification",_chatTab:"#rlChat",_alertInterval:5,_refreshInterval:10},ActiveAlerts={Alerts:[]},jsAlert=function(n,t){this.m_id=n;this.m_content=t;this.m_displayed=!1;this.m_link};jsAlert.prototype={getAlerts:function(){var n="";for(i=0;i<ActiveAlerts.Alerts.length;i++)ActiveAlerts.Alerts[i].m_displayed==!0&&(n+=ActiveAlerts.Alerts[i].m_id+",");n!=""&&(n=n.slice(0,-1));$.ajax({type:"POST",url:jsAlertSettings._serviceUrl+"GetActiveItems",data:'{ "displayedAlerts" : "'+n+'"}',contentType:"application/json; charset=utf-8",success:JSAlert.processAlerts,dataType:"json"});setTimeout("JSAlert.getAlerts()",jsAlertSettings._refreshInterval*1e3)},processAlerts:function(n){for(var i=n.d,t=0;ActiveAlerts.Alerts.length>0&&t<ActiveAlerts.Alerts.length&&ActiveAlerts.Alerts[t].m_displayed;)ActiveAlerts.Alerts.shift(),t++;$(i).each(function(){var n=new jsAlert(this.m_id,this.m_Content);ActiveAlerts.Alerts.push(n)})},displayAlert:function(){var n,t;for(n in ActiveAlerts.Alerts)if(!ActiveAlerts.Alerts[n].m_displayed)break;n&&(t=ActiveAlerts.Alerts[n],t.m_displayed?$(jsAlertSettings._notificationTab).is(":hidden")&&($(jsAlertSettings._activeDiv).empty(),$(jsAlertSettings._activeDiv).slideUp()):$(jsAlertSettings._notificationTab).is(":visible")?($("#archiveAlerts div:first").removeClass("xp-Padding-4 xp-FontNormal xp-FloatLeft xp-Width ui-state-default"),$("#archiveAlerts div:first-child").addClass("xp-Padding-4 xp-FontNormal xp-FloatLeft xp-Width"),$(jsAlertSettings._archiveDiv).prepend("<br/>"),$(jsAlertSettings._archiveDiv).prepend(t.m_content).animate(1e3,function(){ActiveAlerts.Alerts[n].m_displayed=!0}),$("#archiveAlerts div:first").addClass("xp-Padding-4 xp-FontNormal xp-FloatLeft xp-Width ui-state-default")):($(jsAlertSettings._chatTab).is(":visible")&&$(jsAlertSettings._imgNotification).attr("src",jsAlertSettings._imgUrlAlert),$(jsAlertSettings._activeDiv).slideDown(),$(jsAlertSettings._activeDiv).empty(),$(jsAlertSettings._activeDiv).prepend(t.m_content).animate(1e3,function(){ActiveAlerts.Alerts[n].m_displayed=!0}),$(jsAlertSettings._activeDiv).prepend('<a href="#" class="close" style="float:right;padding-left:2px;color:#3f3f40">X<\/a>').click(function(){$(jsAlertSettings._activeDiv).slideUp()})));setTimeout("JSAlert.displayAlert()",jsAlertSettings._alertInterval*1e3)}};
/*
//# sourceMappingURL=jsAlert.min.js.map
*/
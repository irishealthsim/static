typeof jQuery!="undefined"&&function(n){function i(n,t,i){return new Array(i+1-n.length).join(t)+n}function t(){if(arguments.length===1){var t=arguments[0];return typeof t=="string"&&(t=n.fn.timepicker.parseTime(t)),new Date(0,0,0,t.getHours(),t.getMinutes(),t.getSeconds())}return arguments.length===3?new Date(0,0,0,arguments[0],arguments[1],arguments[2]):arguments.length===2?new Date(0,0,0,arguments[0],arguments[1],0):new Date(0,0,0)}n.TimePicker=function(){var t=this;t.container=n(".ui-timepicker-container");t.ui=t.container.find(".ui-timepicker");t.container.length===0&&(t.container=n("<div><\/div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),t.ui=n("<div><\/div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container),t.viewport=n("<ul><\/ul>").addClass("ui-timepicker-viewport").appendTo(t.ui),n.fn.jquery>="1.4.2"&&t.ui.delegate("a","mouseenter.timepicker",function(){t.activate(!1,n(this).parent())}).delegate("a","mouseleave.timepicker",function(){t.deactivate(!1)}).delegate("a","click.timepicker",function(i){i.preventDefault();t.select(!1,n(this).parent())}))};n.TimePicker.count=0;n.TimePicker.instance=function(){return n.TimePicker._instance||(n.TimePicker._instance=new n.TimePicker),n.TimePicker._instance};n.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(i,r){var s=this,e=n("<ul><\/ul>"),f=null,u,o;for(i.options.timeFormat.indexOf("m")===-1&&i.options.interval%60!=0&&(i.options.interval=Math.max(Math.round(i.options.interval/60),1)*60),u=r?t(r):i.options.startTime?t(i.options.startTime):t(i.options.startHour,i.options.startMinutes),o=new Date(u.getTime()+864e5);u<o;)s._isValidTime(i,u)&&(f=n("<li>").addClass("ui-menu-item").appendTo(e),n("<a>").addClass("ui-corner-all").text(n.fn.timepicker.formatTime(i.options.timeFormat,u)).appendTo(f),f.data("time-value",u)),u=new Date(u.getTime()+i.options.interval*6e4);return e.children()},_isValidTime:function(n,i){var r=null,u=null;return(i=t(i),n.options.minTime!==null?r=t(n.options.minTime):(n.options.minHour!==null||n.options.minMinutes!==null)&&(r=t(n.options.minHour,n.options.minMinutes)),n.options.maxTime!==null?u=t(n.options.maxTime):(n.options.maxHour!==null||n.options.maxMinutes!==null)&&(u=t(n.options.maxHour,n.options.maxMinutes)),r!==null&&u!==null)?i>=r&&i<=u:r!==null?i>=r:u!==null?i<=u:!0},_hasScroll:function(){var n=typeof this.ui.prop!="undefined"?"prop":"attr";return this.ui.height()<this.ui[n]("scrollHeight")},_move:function(n,t,i){var r=this,u;if(r.closed()&&r.open(n),!r.active){r.activate(n,r.viewport.children(i));return}u=r.active[t+"All"](".ui-menu-item").eq(0);u.length?r.activate(n,u):r.activate(n,r.viewport.children(i))},register:function(t,i){var u=this,r={};(r.element=n(t),r.element.data("TimePicker"))||(r.options=n.metadata?n.extend({},i,r.element.metadata()):n.extend({},i),r.widget=u,n.extend(r,{next:function(){return u.next(r)},previous:function(){return u.previous(r)},first:function(){return u.first(r)},last:function(){return u.last(r)},selected:function(){return u.selected(r)},open:function(){return u.open(r)},close:function(){return u.close(r)},closed:function(){return u.closed(r)},destroy:function(){return u.destroy(r)},parse:function(n){return u.parse(r,n)},format:function(n,t){return u.format(r,n,t)},getTime:function(){return u.getTime(r)},setTime:function(n,t){return u.setTime(r,n,t)},option:function(n,t){return u.option(r,n,t)}}),u._setDefaultTime(r),u._addInputEventsHandlers(r),r.element.data("TimePicker",r))},_setDefaultTime:function(i){i.options.defaultTime==="now"?i.setTime(t(new Date)):i.options.defaultTime&&i.options.defaultTime.getFullYear?i.setTime(t(i.options.defaultTime)):i.options.defaultTime&&i.setTime(n.fn.timepicker.parseTime(i.options.defaultTime))},_addInputEventsHandlers:function(t){var i=this;t.element.bind("keydown.timepicker",function(n){switch(n.which||n.keyCode){case i.keyCode.ENTER:case i.keyCode.NUMPAD_ENTER:n.preventDefault();i.closed()?t.element.trigger("change.timepicker"):i.select(t,i.active);break;case i.keyCode.UP:t.previous();break;case i.keyCode.DOWN:t.next();break;default:i.closed()||t.close(!0)}}).bind("focus.timepicker",function(){t.open()}).bind("blur.timepicker",function(){setTimeout(function(){t.element.data("timepicker-user-clicked-outside")&&t.close()})}).bind("change.timepicker",function(){t.closed()&&t.setTime(n.fn.timepicker.parseTime(t.element.val()))})},select:function(t,i){var r=this,u=t===!1?r.instance:t;r.setTime(u,n.fn.timepicker.parseTime(i.children("a").text()));r.close(u,!0)},activate:function(n,t){var i=this,e=n===!1?i.instance:n;if(e===i.instance){if(i.deactivate(),i._hasScroll()){var r=t.offset().top-i.ui.offset().top,u=i.ui.scrollTop(),f=i.ui.height();r<0?i.ui.scrollTop(u+r):r>=f&&i.ui.scrollTop(u+r-f+t.height())}i.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()}},deactivate:function(){var n=this;n.active&&(n.active.children("a").removeClass("ui-state-hover").removeAttr("id"),n.active=null)},next:function(n){return(this.closed()||this.instance===n)&&this._move(n,"next",".ui-menu-item:first"),n.element},previous:function(n){return(this.closed()||this.instance===n)&&this._move(n,"prev",".ui-menu-item:last"),n.element},first:function(n){return this.instance===n?this.active&&this.active.prevAll(".ui-menu-item").length===0:!1},last:function(n){return this.instance===n?this.active&&this.active.nextAll(".ui-menu-item").length===0:!1},selected:function(n){return this.instance===n?this.active?this.active:null:null},open:function(t){var i=this,r=t.getTime(),f=t.options.dynamic&&r,u;if(!t.options.dropdown)return t.element;t.element.data("timepicker-event-namespace",Math.random());n(document).bind("click.timepicker-"+t.element.data("timepicker-event-namespace"),function(n){t.element.is(n.target)?t.element.data("timepicker-user-clicked-outside",!1):t.element.data("timepicker-user-clicked-outside",!0).blur()});(t.rebuild||!t.items||f)&&(t.items=i._items(t,f?r:null));(t.rebuild||i.instance!==t||f)&&(n.fn.jquery<"1.4.2"?(i.viewport.children().remove(),i.viewport.append(t.items),i.viewport.find("a").bind("mouseover.timepicker",function(){i.activate(t,n(this).parent())}).bind("mouseout.timepicker",function(){i.deactivate(t)}).bind("click.timepicker",function(r){r.preventDefault();i.select(t,n(this).parent())})):(i.viewport.children().detach(),i.viewport.append(t.items)));t.rebuild=!1;i.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show();switch(t.options.theme){case"standard":i.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":i.container.addClass("ui-timepicker-standard ui-timepicker-corners")}i.container.hasClass("ui-timepicker-no-scrollbar")||t.options.scrollbar||(i.container.addClass("ui-timepicker-no-scrollbar"),i.viewport.css({paddingRight:40}));var o=i.container.outerHeight()-i.container.height(),s=t.options.zindex?t.options.zindex:t.element.offsetParent().css("z-index"),e=t.element.offset();return i.container.css({top:e.top+t.element.outerHeight(),left:e.left}),i.container.show(),i.container.css({left:t.element.offset().left,height:i.ui.outerHeight()+o,width:t.element.outerWidth(),zIndex:s,cursor:"default"}),u=i.container.width()-(i.ui.outerWidth()-i.ui.width()),i.ui.css({width:u}),i.viewport.css({width:u}),t.items.css({width:u}),i.instance=t,r?t.items.each(function(){var u=n(this),f;return(f=n.fn.jquery<"1.4.2"?n.fn.timepicker.parseTime(u.find("a").text()):u.data("time-value"),f.getTime()===r.getTime())?(i.activate(t,u),!1):!0}):i.deactivate(t),t.element},close:function(t){var i=this;return i.instance===t&&(i.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),i.ui.scrollTop(0),i.ui.children().removeClass("ui-state-hover")),n(document).unbind("click.timepicker-"+t.element.data("timepicker-event-namespace")),t.element},closed:function(){return this.ui.is(":hidden")},destroy:function(n){var t=this;return t.close(n,!0),n.element.unbind(".timepicker").data("TimePicker",null)},parse:function(t,i){return n.fn.timepicker.parseTime(i)},format:function(t,i,r){return r=r||t.options.timeFormat,n.fn.timepicker.formatTime(r,i)},getTime:function(t){var r=this,i=n.fn.timepicker.parseTime(t.element.val());return i instanceof Date&&!r._isValidTime(t,i)?null:i instanceof Date&&t.selectedTime?t.format(i)===t.format(t.selectedTime)?t.selectedTime:i:i instanceof Date?i:null},setTime:function(i,r,u){var f=this,e=i.selectedTime;if(typeof r=="string"&&(r=i.parse(r)),r&&r.getMinutes&&f._isValidTime(i,r)){if(r=t(r),i.selectedTime=r,i.element.val(i.format(r,i.options.timeFormat)),u)return i}else i.selectedTime=null;return(e!==null||i.selectedTime!==null)&&(i.element.trigger("time-change",[r]),n.isFunction(i.options.change)&&i.options.change.apply(i.element,[r])),i.element},option:function(t,i,r){if(typeof r=="undefined")return t.options[i];var e=t.getTime(),u,f;typeof i=="string"?(u={},u[i]=r):u=i;f=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"];n.each(u,function(i){t.options[i]=u[i];t.rebuild=t.rebuild||n.inArray(i,f)>-1});t.rebuild&&t.setTime(e)}};n.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}};n.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]};n.fn.timepicker=function(t){var u,i,r,f;return typeof t=="string"?(u=Array.prototype.slice.call(arguments,1),i=t==="option"&&arguments.length>2?"each":n.inArray(t,n.TimePicker.methods.chainable)!==-1?"each":"map",r=this[i](function(){var r=n(this),i=r.data("TimePicker");if(typeof i=="object")return i[t].apply(i,u)}),i==="map"&&this.length===1?n.makeArray(r).shift():i==="map"?n.makeArray(r):r):this.length===1&&this.data("TimePicker")?this.data("TimePicker"):(f=n.extend({},n.TimePicker.defaults,t),this.each(function(){n.TimePicker.instance().register(this,f)}))};n.fn.timepicker.formatTime=function(n,t){var r=t.getHours(),u=r%12,s=t.getMinutes(),h=t.getSeconds(),f={hh:i((u===0?12:u).toString(),"0",2),HH:i(r.toString(),"0",2),mm:i(s.toString(),"0",2),ss:i(h.toString(),"0",2),h:u===0?12:u,H:r,m:s,s:h,p:r>11?"PM":"AM"},e=n;for(var o in f)f.hasOwnProperty(o)&&(e=e.replace(new RegExp(o,"g"),f[o]));return e.replace(new RegExp("a","g"),r>11?"pm":"am")};n.fn.timepicker.parseTime=function(){var i=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]],r=i.length;return function(u){var l=t(new Date),h=!1,c=!1,f=!1,e=!1,o=!1,s;if(typeof u=="undefined"||!u.toLowerCase)return null;for(u=u.toLowerCase(),h=/a/.test(u),c=h?!1:/p/.test(u),u=u.replace(/[^0-9:]/g,"").replace(/:+/g,":"),s=0;s<r;s=s+1)if(i[s][0].test(u)){u=u.replace(i[s][0],i[s][1]);break}return(u=u.replace(/:/g,""),u.length===1?f=u:u.length===2?f=u:u.length===3||u.length===5?(f=u.substr(0,1),e=u.substr(1,2),o=u.substr(3,2)):(u.length===4||u.length>5)&&(f=u.substr(0,2),e=u.substr(2,2),o=u.substr(4,2)),u.length>0&&u.length<5&&(u.length<3&&(e=0),o=0),f===!1||e===!1||o===!1)?!1:(f=parseInt(f,10),e=parseInt(e,10),o=parseInt(o,10),h&&f===12?f=0:c&&f<12&&(f=f+12),f>24?u.length>=6?n.fn.timepicker.parseTime(u.substr(0,5)):n.fn.timepicker.parseTime(u+"0"+(h?"a":"")+(c?"p":"")):(l.setHours(f,e,o),l))}}()}(jQuery);
/*
//# sourceMappingURL=jquery.timepicker.min.js.map
*/